import{a as Ho,r,R as z,c as Hi,b as qi,u as qo,B as Go,h as Yo,i as ps,N as ca}from"./vendor-react-DF4Z2Z4M.js";import{c as Ko}from"./vendor-three-CE30NnNO.js";import{V as Gi,R as Yi,A as Ki,C as Ji,X as fs,T as Xi,D as Zi,P as Jo,j as L,u as Oe,a as us,c as ma,b as Xo,d as Qi,S as Zo,e as Qo,f as en,g as Ee,h as xe,i as sn,k as tn,l as ht,m as an,n as el,I as sl,o as It,p as Ha,q as Qt,r as da,s as tl,t as js,v as al,w as il,_ as nl,x as rl,y as ct,z as ol,B as ll,E as cl,F as ml,G as dl,H as ul,J as pl,K as Nl,L as fl,M as bl,N as gl,O as nn,Q as hl,U as Xs,W as rn,Y as xl,Z as on,$ as vl,a0 as ln,a1 as cn,a2 as Dl,a3 as El,a4 as Qe,a5 as jl,a6 as Bs,a7 as ys,a8 as mn,a9 as wl,aa as Vl,ab as qa,ac as dn,ad as Ga,ae as rs,af as Ya,ag as pt,ah as $s,ai as ms,aj as xs,ak as un,al as yl,am as Ls,an as As,ao as Os,ap as Pl,aq as Ka,ar as ds,as as Ke,at as Sl,au as kl,av as Ms,aw as Cl,ax as Al,ay as pn,az as Vs,aA as Nn,aB as ea,aC as sa,aD as ta,aE as _l,aF as Tl,aG as fn,aH as Nt,aI as Rl,aJ as Il,aK as Ml,aL as Ja,aM as Ct,aN as Bl,aO as Yt,aP as Ll,aQ as aa,aR as Ol,aS as Fl,aT as Ca,aU as bi,aV as bn,aW as Xa,aX as gn,aY as Aa,aZ as Ul,a_ as Wl,a$ as gi,b0 as $l,b1 as zl,b2 as zs,b3 as At,b4 as ia,b5 as _t,b6 as _a,b7 as Tt,b8 as Hl,b9 as hn,ba as Za,bb as hi}from"./vendor-ui-BhfsldJe.js";import{Q as ql,a as Gl}from"./vendor-query-B5v9CA3L.js";import{c as Yl}from"./vendor-supabase-CHnn0omd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var Ea={exports:{}},Wt={},xi;function Kl(){if(xi)return Wt;xi=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){var s=Ho(),t=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),N=Symbol.iterator,h="@@iterator";function y(E){if(E===null||typeof E!="object")return null;var U=N&&E[N]||E[h];return typeof U=="function"?U:null}var C=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function V(E){{for(var U=arguments.length,q=new Array(U>1?U-1:0),ae=1;ae<U;ae++)q[ae-1]=arguments[ae];k("error",E,q)}}function k(E,U,q){{var ae=C.ReactDebugCurrentFrame,Se=ae.getStackAddendum();Se!==""&&(U+="%s",q=q.concat([Se]));var Te=q.map(function(ve){return String(ve)});Te.unshift("Warning: "+U),Function.prototype.apply.call(console[E],console,Te)}}var j=!1,x=!1,w=!1,v=!1,D=!1,b;b=Symbol.for("react.module.reference");function P(E){return!!(typeof E=="string"||typeof E=="function"||E===i||E===l||D||E===n||E===p||E===m||v||E===g||j||x||w||typeof E=="object"&&E!==null&&(E.$$typeof===u||E.$$typeof===f||E.$$typeof===o||E.$$typeof===c||E.$$typeof===d||E.$$typeof===b||E.getModuleId!==void 0))}function A(E,U,q){var ae=E.displayName;if(ae)return ae;var Se=U.displayName||U.name||"";return Se!==""?q+"("+Se+")":q}function I(E){return E.displayName||"Context"}function Q(E){if(E==null)return null;if(typeof E.tag=="number"&&V("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case i:return"Fragment";case a:return"Portal";case l:return"Profiler";case n:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if(typeof E=="object")switch(E.$$typeof){case c:var U=E;return I(U)+".Consumer";case o:var q=E;return I(q._context)+".Provider";case d:return A(E,E.render,"ForwardRef");case f:var ae=E.displayName||null;return ae!==null?ae:Q(E.type)||"Memo";case u:{var Se=E,Te=Se._payload,ve=Se._init;try{return Q(ve(Te))}catch{return null}}}return null}var Z=Object.assign,ne=0,ue,Ne,ee,$,le,G,se;function pe(){}pe.__reactDisabledLog=!0;function Re(){{if(ne===0){ue=console.log,Ne=console.info,ee=console.warn,$=console.error,le=console.group,G=console.groupCollapsed,se=console.groupEnd;var E={configurable:!0,enumerable:!0,value:pe,writable:!0};Object.defineProperties(console,{info:E,log:E,warn:E,error:E,group:E,groupCollapsed:E,groupEnd:E})}ne++}}function Ve(){{if(ne--,ne===0){var E={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Z({},E,{value:ue}),info:Z({},E,{value:Ne}),warn:Z({},E,{value:ee}),error:Z({},E,{value:$}),group:Z({},E,{value:le}),groupCollapsed:Z({},E,{value:G}),groupEnd:Z({},E,{value:se})})}ne<0&&V("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var fe=C.ReactCurrentDispatcher,M;function H(E,U,q){{if(M===void 0)try{throw Error()}catch(Se){var ae=Se.stack.trim().match(/\n( *(at )?)/);M=ae&&ae[1]||""}return`
`+M+E}}var re=!1,ce;{var je=typeof WeakMap=="function"?WeakMap:Map;ce=new je}function ye(E,U){if(!E||re)return"";{var q=ce.get(E);if(q!==void 0)return q}var ae;re=!0;var Se=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Te;Te=fe.current,fe.current=null,Re();try{if(U){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(cs){ae=cs}Reflect.construct(E,[],ve)}else{try{ve.call()}catch(cs){ae=cs}E.call(ve.prototype)}}else{try{throw Error()}catch(cs){ae=cs}E()}}catch(cs){if(cs&&ae&&typeof cs.stack=="string"){for(var ge=cs.stack.split(`
`),as=ae.stack.split(`
`),Ue=ge.length-1,ze=as.length-1;Ue>=1&&ze>=0&&ge[Ue]!==as[ze];)ze--;for(;Ue>=1&&ze>=0;Ue--,ze--)if(ge[Ue]!==as[ze]){if(Ue!==1||ze!==1)do if(Ue--,ze--,ze<0||ge[Ue]!==as[ze]){var hs=`
`+ge[Ue].replace(" at new "," at ");return E.displayName&&hs.includes("<anonymous>")&&(hs=hs.replace("<anonymous>",E.displayName)),typeof E=="function"&&ce.set(E,hs),hs}while(Ue>=1&&ze>=0);break}}}finally{re=!1,fe.current=Te,Ve(),Error.prepareStackTrace=Se}var nt=E?E.displayName||E.name:"",Js=nt?H(nt):"";return typeof E=="function"&&ce.set(E,Js),Js}function ts(E,U,q){return ye(E,!1)}function Ge(E){var U=E.prototype;return!!(U&&U.isReactComponent)}function Xe(E,U,q){if(E==null)return"";if(typeof E=="function")return ye(E,Ge(E));if(typeof E=="string")return H(E);switch(E){case p:return H("Suspense");case m:return H("SuspenseList")}if(typeof E=="object")switch(E.$$typeof){case d:return ts(E.render);case f:return Xe(E.type,U,q);case u:{var ae=E,Se=ae._payload,Te=ae._init;try{return Xe(Te(Se),U,q)}catch{}}}return""}var Fe=Object.prototype.hasOwnProperty,os={},Ps=C.ReactDebugCurrentFrame;function ke(E){if(E){var U=E._owner,q=Xe(E.type,E._source,U?U.type:null);Ps.setExtraStackFrame(q)}else Ps.setExtraStackFrame(null)}function bs(E,U,q,ae,Se){{var Te=Function.call.bind(Fe);for(var ve in E)if(Te(E,ve)){var ge=void 0;try{if(typeof E[ve]!="function"){var as=Error((ae||"React class")+": "+q+" type `"+ve+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof E[ve]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw as.name="Invariant Violation",as}ge=E[ve](U,ve,ae,q,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ue){ge=Ue}ge&&!(ge instanceof Error)&&(ke(Se),V("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ae||"React class",q,ve,typeof ge),ke(null)),ge instanceof Error&&!(ge.message in os)&&(os[ge.message]=!0,ke(Se),V("Failed %s type: %s",q,ge.message),ke(null))}}}var Ys=Array.isArray;function B(E){return Ys(E)}function ie(E){{var U=typeof Symbol=="function"&&Symbol.toStringTag,q=U&&E[Symbol.toStringTag]||E.constructor.name||"Object";return q}}function Be(E){try{return Pe(E),!1}catch{return!0}}function Pe(E){return""+E}function ls(E){if(Be(E))return V("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ie(E)),Pe(E)}var qe=C.ReactCurrentOwner,st={key:!0,ref:!0,__self:!0,__source:!0},Ds,Ts,Je;Je={};function tt(E){if(Fe.call(E,"ref")){var U=Object.getOwnPropertyDescriptor(E,"ref").get;if(U&&U.isReactWarning)return!1}return E.ref!==void 0}function at(E){if(Fe.call(E,"key")){var U=Object.getOwnPropertyDescriptor(E,"key").get;if(U&&U.isReactWarning)return!1}return E.key!==void 0}function wt(E,U){if(typeof E.ref=="string"&&qe.current&&U&&qe.current.stateNode!==U){var q=Q(qe.current.type);Je[q]||(V('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Q(qe.current.type),E.ref),Je[q]=!0)}}function Ks(E,U){{var q=function(){Ds||(Ds=!0,V("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",U))};q.isReactWarning=!0,Object.defineProperty(E,"key",{get:q,configurable:!0})}}function gs(E,U){{var q=function(){Ts||(Ts=!0,V("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",U))};q.isReactWarning=!0,Object.defineProperty(E,"ref",{get:q,configurable:!0})}}var Vt=function(E,U,q,ae,Se,Te,ve){var ge={$$typeof:t,type:E,key:U,ref:q,props:ve,_owner:Te};return ge._store={},Object.defineProperty(ge._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ge,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ae}),Object.defineProperty(ge,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Se}),Object.freeze&&(Object.freeze(ge.props),Object.freeze(ge)),ge};function oe(E,U,q,ae,Se){{var Te,ve={},ge=null,as=null;q!==void 0&&(ls(q),ge=""+q),at(U)&&(ls(U.key),ge=""+U.key),tt(U)&&(as=U.ref,wt(U,Se));for(Te in U)Fe.call(U,Te)&&!st.hasOwnProperty(Te)&&(ve[Te]=U[Te]);if(E&&E.defaultProps){var Ue=E.defaultProps;for(Te in Ue)ve[Te]===void 0&&(ve[Te]=Ue[Te])}if(ge||as){var ze=typeof E=="function"?E.displayName||E.name||"Unknown":E;ge&&Ks(ve,ze),as&&gs(ve,ze)}return Vt(E,ge,as,Se,ae,qe.current,ve)}}var be=C.ReactCurrentOwner,we=C.ReactDebugCurrentFrame;function Le(E){if(E){var U=E._owner,q=Xe(E.type,E._source,U?U.type:null);we.setExtraStackFrame(q)}else we.setExtraStackFrame(null)}var Ze;Ze=!1;function Ss(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function it(){{if(be.current){var E=Q(be.current.type);if(E)return`

Check the render method of \``+E+"`."}return""}}function Lt(E){{if(E!==void 0){var U=E.fileName.replace(/^.*[\\\/]/,""),q=E.lineNumber;return`

Check your code at `+U+":"+q+"."}return""}}var Ot={};function va(E){{var U=it();if(!U){var q=typeof E=="string"?E:E.displayName||E.name;q&&(U=`

Check the top-level render call using <`+q+">.")}return U}}function Ft(E,U){{if(!E._store||E._store.validated||E.key!=null)return;E._store.validated=!0;var q=va(U);if(Ot[q])return;Ot[q]=!0;var ae="";E&&E._owner&&E._owner!==be.current&&(ae=" It was passed a child from "+Q(E._owner.type)+"."),Le(E),V('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',q,ae),Le(null)}}function Ut(E,U){{if(typeof E!="object")return;if(B(E))for(var q=0;q<E.length;q++){var ae=E[q];Ss(ae)&&Ft(ae,U)}else if(Ss(E))E._store&&(E._store.validated=!0);else if(E){var Se=y(E);if(typeof Se=="function"&&Se!==E.entries)for(var Te=Se.call(E),ve;!(ve=Te.next()).done;)Ss(ve.value)&&Ft(ve.value,U)}}}function _(E){{var U=E.type;if(U==null||typeof U=="string")return;var q;if(typeof U=="function")q=U.propTypes;else if(typeof U=="object"&&(U.$$typeof===d||U.$$typeof===f))q=U.propTypes;else return;if(q){var ae=Q(U);bs(q,E.props,"prop",ae,E)}else if(U.PropTypes!==void 0&&!Ze){Ze=!0;var Se=Q(U);V("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Se||"Unknown")}typeof U.getDefaultProps=="function"&&!U.getDefaultProps.isReactClassApproved&&V("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function O(E){{for(var U=Object.keys(E.props),q=0;q<U.length;q++){var ae=U[q];if(ae!=="children"&&ae!=="key"){Le(E),V("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ae),Le(null);break}}E.ref!==null&&(Le(E),V("Invalid attribute `ref` supplied to `React.Fragment`."),Le(null))}}var F={};function de(E,U,q,ae,Se,Te){{var ve=P(E);if(!ve){var ge="";(E===void 0||typeof E=="object"&&E!==null&&Object.keys(E).length===0)&&(ge+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var as=Lt(Se);as?ge+=as:ge+=it();var Ue;E===null?Ue="null":B(E)?Ue="array":E!==void 0&&E.$$typeof===t?(Ue="<"+(Q(E.type)||"Unknown")+" />",ge=" Did you accidentally export a JSX literal instead of a component?"):Ue=typeof E,V("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ue,ge)}var ze=oe(E,U,q,Se,Te);if(ze==null)return ze;if(ve){var hs=U.children;if(hs!==void 0)if(ae)if(B(hs)){for(var nt=0;nt<hs.length;nt++)Ut(hs[nt],E);Object.freeze&&Object.freeze(hs)}else V("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ut(hs,E)}if(Fe.call(U,"key")){var Js=Q(E),cs=Object.keys(U).filter(function(zo){return zo!=="key"}),Da=cs.length>0?"{key: someKey, "+cs.join(": ..., ")+": ...}":"{key: someKey}";if(!F[Js+Da]){var $o=cs.length>0?"{"+cs.join(": ..., ")+": ...}":"{}";V(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Da,Js,$o,Js),F[Js+Da]=!0}}return E===i?O(ze):_(ze),ze}}var te=de;Wt.Fragment=i,Wt.jsxDEV=te}(),Wt}var vi;function Jl(){return vi||(vi=1,Ea.exports=Kl()),Ea.exports}var e=Jl();const Xl=1,Zl=1e6;let ja=0;function Ql(){return ja=(ja+1)%Number.MAX_SAFE_INTEGER,ja.toString()}const wa=new Map,Di=s=>{if(wa.has(s))return;const t=setTimeout(()=>{wa.delete(s),kt({type:"REMOVE_TOAST",toastId:s})},Zl);wa.set(s,t)},ec=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,Xl)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?Di(a):s.toasts.forEach(i=>{Di(i.id)}),{...s,toasts:s.toasts.map(i=>i.id===a||a===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},Kt=[];let Jt={toasts:[]};function kt(s){Jt=ec(Jt,s),Kt.forEach(t=>{t(Jt)})}function xn({...s}){const t=Ql(),a=n=>kt({type:"UPDATE_TOAST",toast:{...n,id:t}}),i=()=>kt({type:"DISMISS_TOAST",toastId:t});return kt({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:n=>{n||i()}}}),{id:t,dismiss:i,update:a}}function Qa(){const[s,t]=r.useState(Jt);return r.useEffect(()=>(Kt.push(t),()=>{const a=Kt.indexOf(t);a>-1&&Kt.splice(a,1)}),[s]),{...s,toast:xn,dismiss:a=>kt({type:"DISMISS_TOAST",toastId:a})}}function vn(s){var t,a,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(t=0;t<n;t++)s[t]&&(a=vn(s[t]))&&(i&&(i+=" "),i+=a)}else for(a in s)s[a]&&(i&&(i+=" "),i+=a);return i}function Dn(){for(var s,t,a=0,i="",n=arguments.length;a<n;a++)(s=arguments[a])&&(t=vn(s))&&(i&&(i+=" "),i+=t);return i}const Ei=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,ji=Dn,Mt=(s,t)=>a=>{var i;if(t?.variants==null)return ji(s,a?.class,a?.className);const{variants:n,defaultVariants:l}=t,o=Object.keys(n).map(p=>{const m=a?.[p],f=l?.[p];if(m===null)return null;const u=Ei(m)||Ei(f);return n[p][u]}),c=a&&Object.entries(a).reduce((p,m)=>{let[f,u]=m;return u===void 0||(p[f]=u),p},{}),d=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,m)=>{let{class:f,className:u,...g}=m;return Object.entries(g).every(N=>{let[h,y]=N;return Array.isArray(y)?y.includes({...l,...c}[h]):{...l,...c}[h]===y})?[...p,f,u]:p},[]);return ji(s,o,d,a?.class,a?.className)},ei="-",sc=s=>{const t=ac(s),{conflictingClassGroups:a,conflictingClassGroupModifiers:i}=s;return{getClassGroupId:o=>{const c=o.split(ei);return c[0]===""&&c.length!==1&&c.shift(),En(c,t)||tc(o)},getConflictingClassGroupIds:(o,c)=>{const d=a[o]||[];return c&&i[o]?[...d,...i[o]]:d}}},En=(s,t)=>{if(s.length===0)return t.classGroupId;const a=s[0],i=t.nextPart.get(a),n=i?En(s.slice(1),i):void 0;if(n)return n;if(t.validators.length===0)return;const l=s.join(ei);return t.validators.find(({validator:o})=>o(l))?.classGroupId},wi=/^\[(.+)\]$/,tc=s=>{if(wi.test(s)){const t=wi.exec(s)[1],a=t?.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},ac=s=>{const{theme:t,prefix:a}=s,i={nextPart:new Map,validators:[]};return nc(Object.entries(s.classGroups),a).forEach(([l,o])=>{Ta(o,i,l,t)}),i},Ta=(s,t,a,i)=>{s.forEach(n=>{if(typeof n=="string"){const l=n===""?t:Vi(t,n);l.classGroupId=a;return}if(typeof n=="function"){if(ic(n)){Ta(n(i),t,a,i);return}t.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([l,o])=>{Ta(o,Vi(t,l),a,i)})})},Vi=(s,t)=>{let a=s;return t.split(ei).forEach(i=>{a.nextPart.has(i)||a.nextPart.set(i,{nextPart:new Map,validators:[]}),a=a.nextPart.get(i)}),a},ic=s=>s.isThemeGetter,nc=(s,t)=>t?s.map(([a,i])=>{const n=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([o,c])=>[t+o,c])):l);return[a,n]}):s,rc=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,i=new Map;const n=(l,o)=>{a.set(l,o),t++,t>s&&(t=0,i=a,a=new Map)};return{get(l){let o=a.get(l);if(o!==void 0)return o;if((o=i.get(l))!==void 0)return n(l,o),o},set(l,o){a.has(l)?a.set(l,o):n(l,o)}}},jn="!",oc=s=>{const{separator:t,experimentalParseClassName:a}=s,i=t.length===1,n=t[0],l=t.length,o=c=>{const d=[];let p=0,m=0,f;for(let y=0;y<c.length;y++){let C=c[y];if(p===0){if(C===n&&(i||c.slice(y,y+l)===t)){d.push(c.slice(m,y)),m=y+l;continue}if(C==="/"){f=y;continue}}C==="["?p++:C==="]"&&p--}const u=d.length===0?c:c.substring(m),g=u.startsWith(jn),N=g?u.substring(1):u,h=f&&f>m?f-m:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:N,maybePostfixModifierPosition:h}};return a?c=>a({className:c,parseClassName:o}):o},lc=s=>{if(s.length<=1)return s;const t=[];let a=[];return s.forEach(i=>{i[0]==="["?(t.push(...a.sort(),i),a=[]):a.push(i)}),t.push(...a.sort()),t},cc=s=>({cache:rc(s.cacheSize),parseClassName:oc(s),...sc(s)}),mc=/\s+/,dc=(s,t)=>{const{parseClassName:a,getClassGroupId:i,getConflictingClassGroupIds:n}=t,l=[],o=s.trim().split(mc);let c="";for(let d=o.length-1;d>=0;d-=1){const p=o[d],{modifiers:m,hasImportantModifier:f,baseClassName:u,maybePostfixModifierPosition:g}=a(p);let N=!!g,h=i(N?u.substring(0,g):u);if(!h){if(!N){c=p+(c.length>0?" "+c:c);continue}if(h=i(u),!h){c=p+(c.length>0?" "+c:c);continue}N=!1}const y=lc(m).join(":"),C=f?y+jn:y,V=C+h;if(l.includes(V))continue;l.push(V);const k=n(h,N);for(let j=0;j<k.length;++j){const x=k[j];l.push(C+x)}c=p+(c.length>0?" "+c:c)}return c};function uc(){let s=0,t,a,i="";for(;s<arguments.length;)(t=arguments[s++])&&(a=wn(t))&&(i&&(i+=" "),i+=a);return i}const wn=s=>{if(typeof s=="string")return s;let t,a="";for(let i=0;i<s.length;i++)s[i]&&(t=wn(s[i]))&&(a&&(a+=" "),a+=t);return a};function pc(s,...t){let a,i,n,l=o;function o(d){const p=t.reduce((m,f)=>f(m),s());return a=cc(p),i=a.cache.get,n=a.cache.set,l=c,c(d)}function c(d){const p=i(d);if(p)return p;const m=dc(d,a);return n(d,m),m}return function(){return l(uc.apply(null,arguments))}}const Ie=s=>{const t=a=>a[s]||[];return t.isThemeGetter=!0,t},Vn=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nc=/^\d+\/\d+$/,fc=new Set(["px","full","screen"]),bc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=s=>mt(s)||fc.has(s)||Nc.test(s),Fs=s=>xt(s,"length",Sc),mt=s=>!!s&&!Number.isNaN(Number(s)),Va=s=>xt(s,"number",mt),yt=s=>!!s&&Number.isInteger(Number(s)),Dc=s=>s.endsWith("%")&&mt(s.slice(0,-1)),me=s=>Vn.test(s),Us=s=>bc.test(s),Ec=new Set(["length","size","percentage"]),jc=s=>xt(s,Ec,yn),wc=s=>xt(s,"position",yn),Vc=new Set(["image","url"]),yc=s=>xt(s,Vc,Cc),Pc=s=>xt(s,"",kc),Pt=()=>!0,xt=(s,t,a)=>{const i=Vn.exec(s);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):a(i[2]):!1},Sc=s=>gc.test(s)&&!hc.test(s),yn=()=>!1,kc=s=>xc.test(s),Cc=s=>vc.test(s),Ac=()=>{const s=Ie("colors"),t=Ie("spacing"),a=Ie("blur"),i=Ie("brightness"),n=Ie("borderColor"),l=Ie("borderRadius"),o=Ie("borderSpacing"),c=Ie("borderWidth"),d=Ie("contrast"),p=Ie("grayscale"),m=Ie("hueRotate"),f=Ie("invert"),u=Ie("gap"),g=Ie("gradientColorStops"),N=Ie("gradientColorStopPositions"),h=Ie("inset"),y=Ie("margin"),C=Ie("opacity"),V=Ie("padding"),k=Ie("saturate"),j=Ie("scale"),x=Ie("sepia"),w=Ie("skew"),v=Ie("space"),D=Ie("translate"),b=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",me,t],I=()=>[me,t],Q=()=>["",Rs,Fs],Z=()=>["auto",mt,me],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",me],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[mt,me];return{cacheSize:500,separator:":",theme:{colors:[Pt],spacing:[Rs,Fs],blur:["none","",Us,me],brightness:G(),borderColor:[s],borderRadius:["none","","full",Us,me],borderSpacing:I(),borderWidth:Q(),contrast:G(),grayscale:$(),hueRotate:G(),invert:$(),gap:I(),gradientColorStops:[s],gradientColorStopPositions:[Dc,Fs],inset:A(),margin:A(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:$(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),me]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yt,me]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",yt,me]}],"grid-cols":[{"grid-cols":[Pt]}],"col-start-end":[{col:["auto",{span:["full",yt,me]},me]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Pt]}],"row-start-end":[{row:["auto",{span:[yt,me]},me]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[V]}],px:[{px:[V]}],py:[{py:[V]}],ps:[{ps:[V]}],pe:[{pe:[V]}],pt:[{pt:[V]}],pr:[{pr:[V]}],pb:[{pb:[V]}],pl:[{pl:[V]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[v]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[v]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Va]}],"font-family":[{font:[Pt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",mt,Va]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,Fs]}],"underline-offset":[{"underline-offset":["auto",Rs,me]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),wc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yc]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ue()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[Rs,me]}],"outline-w":[{outline:[Rs,Fs]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Rs,Fs]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Us,Pc]}],"shadow-color":[{shadow:[Pt]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ne()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[i]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Us,me]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[yt,me]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[Rs,Fs,Va]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_c=pc(Ac);function J(...s){return _c(Dn(s))}const Tc=Jo,Pn=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Gi,{ref:a,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/toast.tsx",lineNumber:14,columnNumber:3},void 0));Pn.displayName=Gi.displayName;const Rc=Mt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Sn=r.forwardRef(({className:s,variant:t,...a},i)=>e.jsxDEV(Yi,{ref:i,className:J(Rc({variant:t}),s),...a},void 0,!1,{fileName:"/app/code/client/components/ui/toast.tsx",lineNumber:47,columnNumber:5},void 0));Sn.displayName=Yi.displayName;const Ic=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Ki,{ref:a,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/toast.tsx",lineNumber:60,columnNumber:3},void 0));Ic.displayName=Ki.displayName;const kn=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Ji,{ref:a,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsxDEV(fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/components/ui/toast.tsx",lineNumber:84,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/toast.tsx",lineNumber:75,columnNumber:3},void 0));kn.displayName=Ji.displayName;const Cn=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Xi,{ref:a,className:J("text-sm font-semibold",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/toast.tsx",lineNumber:93,columnNumber:3},void 0));Cn.displayName=Xi.displayName;const An=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Zi,{ref:a,className:J("text-sm opacity-90",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/toast.tsx",lineNumber:105,columnNumber:3},void 0));An.displayName=Zi.displayName;function Mc(){const{toasts:s}=Qa();return e.jsxDEV(Tc,{children:[s.map(function({id:t,title:a,description:i,action:n,...l}){return e.jsxDEV(Sn,{...l,children:[e.jsxDEV("div",{className:"grid gap-1",children:[a&&e.jsxDEV(Cn,{children:a},void 0,!1,{fileName:"/app/code/client/components/ui/toaster.tsx",lineNumber:20,columnNumber:25},this),i&&e.jsxDEV(An,{children:i},void 0,!1,{fileName:"/app/code/client/components/ui/toaster.tsx",lineNumber:22,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/ui/toaster.tsx",lineNumber:19,columnNumber:13},this),n,e.jsxDEV(kn,{},void 0,!1,{fileName:"/app/code/client/components/ui/toaster.tsx",lineNumber:26,columnNumber:13},this)]},t,!0,{fileName:"/app/code/client/components/ui/toaster.tsx",lineNumber:18,columnNumber:11},this)}),e.jsxDEV(Pn,{},void 0,!1,{fileName:"/app/code/client/components/ui/toaster.tsx",lineNumber:30,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/components/ui/toaster.tsx",lineNumber:15,columnNumber:5},this)}var yi=["light","dark"],Bc="(prefers-color-scheme: dark)",Lc=r.createContext(void 0),Oc={setTheme:s=>{},themes:[]},Fc=()=>{var s;return(s=r.useContext(Lc))!=null?s:Oc};r.memo(({forcedTheme:s,storageKey:t,attribute:a,enableSystem:i,enableColorScheme:n,defaultTheme:l,value:o,attrs:c,nonce:d})=>{let p=l==="system",m=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(N=>`'${N}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,f=n?yi.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",u=(N,h=!1,y=!0)=>{let C=o?o[N]:N,V=h?N+"|| ''":`'${C}'`,k="";return n&&y&&!h&&yi.includes(N)&&(k+=`d.style.colorScheme = '${N}';`),a==="class"?h||C?k+=`c.add(${V})`:k+="null":C&&(k+=`d[s](n,${V})`),k},g=s?`!function(){${m}${u(s)}}()`:i?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${p})){var t='${Bc}',m=window.matchMedia(t);if(m.media!==t||m.matches){${u("dark")}}else{${u("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}${p?"":"else{"+u(l,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}else{${u(l,!1,!1)};}${f}}catch(t){}}();`;return r.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:g}})});var Uc=s=>{switch(s){case"success":return zc;case"info":return qc;case"warning":return Hc;case"error":return Gc;default:return null}},Wc=Array(12).fill(0),$c=({visible:s})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":s},z.createElement("div",{className:"sonner-spinner"},Wc.map((t,a)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),zc=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Hc=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qc=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Gc=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Yc=()=>{let[s,t]=z.useState(document.hidden);return z.useEffect(()=>{let a=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),s},Ra=1,Kc=class{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{let t=this.subscribers.indexOf(s);this.subscribers.splice(t,1)}),this.publish=s=>{this.subscribers.forEach(t=>t(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var t;let{message:a,...i}=s,n=typeof s?.id=="number"||((t=s.id)==null?void 0:t.length)>0?s.id:Ra++,l=this.toasts.find(c=>c.id===n),o=s.dismissible===void 0?!0:s.dismissible;return l?this.toasts=this.toasts.map(c=>c.id===n?(this.publish({...c,...s,id:n,title:a}),{...c,...s,id:n,dismissible:o,title:a}):c):this.addToast({title:a,...i,dismissible:o,id:n}),n},this.dismiss=s=>(s||this.toasts.forEach(t=>{this.subscribers.forEach(a=>a({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:s,dismiss:!0})),s),this.message=(s,t)=>this.create({...t,message:s}),this.error=(s,t)=>this.create({...t,message:s,type:"error"}),this.success=(s,t)=>this.create({...t,type:"success",message:s}),this.info=(s,t)=>this.create({...t,type:"info",message:s}),this.warning=(s,t)=>this.create({...t,type:"warning",message:s}),this.loading=(s,t)=>this.create({...t,type:"loading",message:s}),this.promise=(s,t)=>{if(!t)return;let a;t.loading!==void 0&&(a=this.create({...t,promise:s,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=s instanceof Promise?s:s(),n=a!==void 0;return i.then(async l=>{if(Xc(l)&&!l.ok){n=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:a,type:"error",message:o,description:c})}else if(t.success!==void 0){n=!1;let o=typeof t.success=="function"?await t.success(l):t.success,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:a,type:"success",message:o,description:c})}}).catch(async l=>{if(t.error!==void 0){n=!1;let o=typeof t.error=="function"?await t.error(l):t.error,c=typeof t.description=="function"?await t.description(l):t.description;this.create({id:a,type:"error",message:o,description:c})}}).finally(()=>{var l;n&&(this.dismiss(a),a=void 0),(l=t.finally)==null||l.call(t)}),a},this.custom=(s,t)=>{let a=t?.id||Ra++;return this.create({jsx:s(a),id:a,...t}),a},this.subscribers=[],this.toasts=[]}},Ns=new Kc,Jc=(s,t)=>{let a=t?.id||Ra++;return Ns.addToast({title:s,...t,id:a}),a},Xc=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",Zc=Jc,Qc=()=>Ns.toasts,rt=Object.assign(Zc,{success:Ns.success,info:Ns.info,warning:Ns.warning,error:Ns.error,custom:Ns.custom,message:Ns.message,promise:Ns.promise,dismiss:Ns.dismiss,loading:Ns.loading},{getHistory:Qc});function em(s,{insertAt:t}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}em(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $t(s){return s.label!==void 0}var sm=3,tm="32px",am=4e3,im=356,nm=14,rm=20,om=200;function lm(...s){return s.filter(Boolean).join(" ")}var cm=s=>{var t,a,i,n,l,o,c,d,p,m;let{invert:f,toast:u,unstyled:g,interacting:N,setHeights:h,visibleToasts:y,heights:C,index:V,toasts:k,expanded:j,removeToast:x,defaultRichColors:w,closeButton:v,style:D,cancelButtonStyle:b,actionButtonStyle:P,className:A="",descriptionClassName:I="",duration:Q,position:Z,gap:ne,loadingIcon:ue,expandByDefault:Ne,classNames:ee,icons:$,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:G,cn:se}=s,[pe,Re]=z.useState(!1),[Ve,fe]=z.useState(!1),[M,H]=z.useState(!1),[re,ce]=z.useState(!1),[je,ye]=z.useState(0),[ts,Ge]=z.useState(0),Xe=z.useRef(null),Fe=z.useRef(null),os=V===0,Ps=V+1<=y,ke=u.type,bs=u.dismissible!==!1,Ys=u.className||"",B=u.descriptionClassName||"",ie=z.useMemo(()=>C.findIndex(oe=>oe.toastId===u.id)||0,[C,u.id]),Be=z.useMemo(()=>{var oe;return(oe=u.closeButton)!=null?oe:v},[u.closeButton,v]),Pe=z.useMemo(()=>u.duration||Q||am,[u.duration,Q]),ls=z.useRef(0),qe=z.useRef(0),st=z.useRef(0),Ds=z.useRef(null),[Ts,Je]=Z.split("-"),tt=z.useMemo(()=>C.reduce((oe,be,we)=>we>=ie?oe:oe+be.height,0),[C,ie]),at=Yc(),wt=u.invert||f,Ks=ke==="loading";qe.current=z.useMemo(()=>ie*ne+tt,[ie,tt]),z.useEffect(()=>{Re(!0)},[]),z.useLayoutEffect(()=>{if(!pe)return;let oe=Fe.current,be=oe.style.height;oe.style.height="auto";let we=oe.getBoundingClientRect().height;oe.style.height=be,Ge(we),h(Le=>Le.find(Ze=>Ze.toastId===u.id)?Le.map(Ze=>Ze.toastId===u.id?{...Ze,height:we}:Ze):[{toastId:u.id,height:we,position:u.position},...Le])},[pe,u.title,u.description,h,u.id]);let gs=z.useCallback(()=>{fe(!0),ye(qe.current),h(oe=>oe.filter(be=>be.toastId!==u.id)),setTimeout(()=>{x(u)},om)},[u,x,h,qe]);z.useEffect(()=>{if(u.promise&&ke==="loading"||u.duration===1/0||u.type==="loading")return;let oe,be=Pe;return j||N||G&&at?(()=>{if(st.current<ls.current){let we=new Date().getTime()-ls.current;be=be-we}st.current=new Date().getTime()})():be!==1/0&&(ls.current=new Date().getTime(),oe=setTimeout(()=>{var we;(we=u.onAutoClose)==null||we.call(u,u),gs()},be)),()=>clearTimeout(oe)},[j,N,Ne,u,Pe,gs,u.promise,ke,G,at]),z.useEffect(()=>{let oe=Fe.current;if(oe){let be=oe.getBoundingClientRect().height;return Ge(be),h(we=>[{toastId:u.id,height:be,position:u.position},...we]),()=>h(we=>we.filter(Le=>Le.toastId!==u.id))}},[h,u.id]),z.useEffect(()=>{u.delete&&gs()},[gs,u.delete]);function Vt(){return $!=null&&$.loading?z.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},$.loading):ue?z.createElement("div",{className:"sonner-loader","data-visible":ke==="loading"},ue):z.createElement($c,{visible:ke==="loading"})}return z.createElement("li",{"aria-live":u.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Fe,className:se(A,Ys,ee?.toast,(t=u?.classNames)==null?void 0:t.toast,ee?.default,ee?.[ke],(a=u?.classNames)==null?void 0:a[ke]),"data-sonner-toast":"","data-rich-colors":(i=u.richColors)!=null?i:w,"data-styled":!(u.jsx||u.unstyled||g),"data-mounted":pe,"data-promise":!!u.promise,"data-removed":Ve,"data-visible":Ps,"data-y-position":Ts,"data-x-position":Je,"data-index":V,"data-front":os,"data-swiping":M,"data-dismissible":bs,"data-type":ke,"data-invert":wt,"data-swipe-out":re,"data-expanded":!!(j||Ne&&pe),style:{"--index":V,"--toasts-before":V,"--z-index":k.length-V,"--offset":`${Ve?je:qe.current}px`,"--initial-height":Ne?"auto":`${ts}px`,...D,...u.style},onPointerDown:oe=>{Ks||!bs||(Xe.current=new Date,ye(qe.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(H(!0),Ds.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,be,we,Le;if(re||!bs)return;Ds.current=null;let Ze=Number(((oe=Fe.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ss=new Date().getTime()-((be=Xe.current)==null?void 0:be.getTime()),it=Math.abs(Ze)/Ss;if(Math.abs(Ze)>=rm||it>.11){ye(qe.current),(we=u.onDismiss)==null||we.call(u,u),gs(),ce(!0);return}(Le=Fe.current)==null||Le.style.setProperty("--swipe-amount","0px"),H(!1)},onPointerMove:oe=>{var be;if(!Ds.current||!bs)return;let we=oe.clientY-Ds.current.y,Le=oe.clientX-Ds.current.x,Ze=(Ts==="top"?Math.min:Math.max)(0,we),Ss=oe.pointerType==="touch"?10:2;Math.abs(Ze)>Ss?(be=Fe.current)==null||be.style.setProperty("--swipe-amount",`${we}px`):Math.abs(Le)>Ss&&(Ds.current=null)}},Be&&!u.jsx?z.createElement("button",{"aria-label":le,"data-disabled":Ks,"data-close-button":!0,onClick:Ks||!bs?()=>{}:()=>{var oe;gs(),(oe=u.onDismiss)==null||oe.call(u,u)},className:se(ee?.closeButton,(n=u?.classNames)==null?void 0:n.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,u.jsx||z.isValidElement(u.title)?u.jsx||u.title:z.createElement(z.Fragment,null,ke||u.icon||u.promise?z.createElement("div",{"data-icon":"",className:se(ee?.icon,(l=u?.classNames)==null?void 0:l.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||Vt():null,u.type!=="loading"?u.icon||$?.[ke]||Uc(ke):null):null,z.createElement("div",{"data-content":"",className:se(ee?.content,(o=u?.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:se(ee?.title,(c=u?.classNames)==null?void 0:c.title)},u.title),u.description?z.createElement("div",{"data-description":"",className:se(I,B,ee?.description,(d=u?.classNames)==null?void 0:d.description)},u.description):null),z.isValidElement(u.cancel)?u.cancel:u.cancel&&$t(u.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||b,onClick:oe=>{var be,we;$t(u.cancel)&&bs&&((we=(be=u.cancel).onClick)==null||we.call(be,oe),gs())},className:se(ee?.cancelButton,(p=u?.classNames)==null?void 0:p.cancelButton)},u.cancel.label):null,z.isValidElement(u.action)?u.action:u.action&&$t(u.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||P,onClick:oe=>{var be,we;$t(u.action)&&(oe.defaultPrevented||((we=(be=u.action).onClick)==null||we.call(be,oe),gs()))},className:se(ee?.actionButton,(m=u?.classNames)==null?void 0:m.actionButton)},u.action.label):null))};function Pi(){if(typeof window>"u"||typeof document>"u")return"ltr";let s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}var mm=s=>{let{invert:t,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:n,closeButton:l,className:o,offset:c,theme:d="light",richColors:p,duration:m,style:f,visibleToasts:u=sm,toastOptions:g,dir:N=Pi(),gap:h=nm,loadingIcon:y,icons:C,containerAriaLabel:V="Notifications",pauseWhenPageIsHidden:k,cn:j=lm}=s,[x,w]=z.useState([]),v=z.useMemo(()=>Array.from(new Set([a].concat(x.filter(G=>G.position).map(G=>G.position)))),[x,a]),[D,b]=z.useState([]),[P,A]=z.useState(!1),[I,Q]=z.useState(!1),[Z,ne]=z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=z.useRef(null),Ne=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=z.useRef(null),$=z.useRef(!1),le=z.useCallback(G=>{var se;(se=x.find(pe=>pe.id===G.id))!=null&&se.delete||Ns.dismiss(G.id),w(pe=>pe.filter(({id:Re})=>Re!==G.id))},[x]);return z.useEffect(()=>Ns.subscribe(G=>{if(G.dismiss){w(se=>se.map(pe=>pe.id===G.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{Hi.flushSync(()=>{w(se=>{let pe=se.findIndex(Re=>Re.id===G.id);return pe!==-1?[...se.slice(0,pe),{...se[pe],...G},...se.slice(pe+1)]:[G,...se]})})})}),[]),z.useEffect(()=>{if(d!=="system"){ne(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{ne(G?"dark":"light")})},[d]),z.useEffect(()=>{x.length<=1&&A(!1)},[x]),z.useEffect(()=>{let G=se=>{var pe,Re;i.every(Ve=>se[Ve]||se.code===Ve)&&(A(!0),(pe=ue.current)==null||pe.focus()),se.code==="Escape"&&(document.activeElement===ue.current||(Re=ue.current)!=null&&Re.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),z.useEffect(()=>{if(ue.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,$.current=!1)}},[ue.current]),x.length?z.createElement("section",{"aria-label":`${V} ${Ne}`,tabIndex:-1},v.map((G,se)=>{var pe;let[Re,Ve]=G.split("-");return z.createElement("ol",{key:G,dir:N==="auto"?Pi():N,tabIndex:-1,ref:ue,className:o,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":Re,"data-x-position":Ve,style:{"--front-toast-height":`${((pe=D[0])==null?void 0:pe.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||tm,"--width":`${im}px`,"--gap":`${h}px`,...f},onBlur:fe=>{$.current&&!fe.currentTarget.contains(fe.relatedTarget)&&($.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$.current||($.current=!0,ee.current=fe.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},x.filter(fe=>!fe.position&&se===0||fe.position===G).map((fe,M)=>{var H,re;return z.createElement(cm,{key:fe.id,icons:C,index:M,toast:fe,defaultRichColors:p,duration:(H=g?.duration)!=null?H:m,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:t,visibleToasts:u,closeButton:(re=g?.closeButton)!=null?re:l,interacting:I,position:G,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:le,toasts:x.filter(ce=>ce.position==fe.position),heights:D.filter(ce=>ce.position==fe.position),setHeights:b,expandByDefault:n,gap:h,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:k,cn:j})}))})):null};const dm=({...s})=>{const{theme:t="system"}=Fc();return e.jsxDEV(mm,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s},void 0,!1,{fileName:"/app/code/client/components/ui/sonner.tsx",lineNumber:10,columnNumber:5},void 0)};function um(s,t=[]){let a=[];function i(l,o){const c=r.createContext(o),d=a.length;a=[...a,o];const p=f=>{const{scope:u,children:g,...N}=f,h=u?.[s]?.[d]||c,y=r.useMemo(()=>N,Object.values(N));return L.jsx(h.Provider,{value:y,children:g})};p.displayName=l+"Provider";function m(f,u){const g=u?.[s]?.[d]||c,N=r.useContext(g);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${l}\``)}return[p,m]}const n=()=>{const l=a.map(o=>r.createContext(o));return function(c){const d=c?.[s]||l;return r.useMemo(()=>({[`__scope${s}`]:{...c,[s]:d}}),[c,d])}};return n.scopeName=s,[i,pm(n,...t)]}function pm(...s){const t=s[0];if(s.length===1)return t;const a=()=>{const i=s.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(l){const o=i.reduce((c,{useScope:d,scopeName:p})=>{const f=d(l)[`__scope${p}`];return{...c,...f}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return a.scopeName=t.scopeName,a}function Nm(s,t){return r.useReducer((a,i)=>t[a][i]??a,s)}var _n=s=>{const{present:t,children:a}=s,i=fm(t),n=typeof a=="function"?a({present:i.isPresent}):r.Children.only(a),l=Oe(i.ref,bm(n));return typeof a=="function"||i.isPresent?r.cloneElement(n,{ref:l}):null};_n.displayName="Presence";function fm(s){const[t,a]=r.useState(),i=r.useRef({}),n=r.useRef(s),l=r.useRef("none"),o=s?"mounted":"unmounted",[c,d]=Nm(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const p=zt(i.current);l.current=c==="mounted"?p:"none"},[c]),us(()=>{const p=i.current,m=n.current;if(m!==s){const u=l.current,g=zt(p);s?d("MOUNT"):g==="none"||p?.display==="none"?d("UNMOUNT"):d(m&&u!==g?"ANIMATION_OUT":"UNMOUNT"),n.current=s}},[s,d]),us(()=>{if(t){let p;const m=t.ownerDocument.defaultView??window,f=g=>{const h=zt(i.current).includes(g.animationName);if(g.target===t&&h&&(d("ANIMATION_END"),!n.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",p=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},u=g=>{g.target===t&&(l.current=zt(i.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(p),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(p=>{p&&(i.current=getComputedStyle(p)),a(p)},[])}}function zt(s){return s?.animationName||"none"}function bm(s){let t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?s.ref:(t=Object.getOwnPropertyDescriptor(s,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}var[ua,Cp]=um("Tooltip",[ma]),si=ma(),Tn="TooltipProvider",gm=700,Si="tooltip.open",[hm,Rn]=ua(Tn),In=s=>{const{__scopeTooltip:t,delayDuration:a=gm,skipDelayDuration:i=300,disableHoverableContent:n=!1,children:l}=s,[o,c]=r.useState(!0),d=r.useRef(!1),p=r.useRef(0);return r.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),L.jsx(hm,{scope:t,isOpenDelayed:o,delayDuration:a,onOpen:r.useCallback(()=>{window.clearTimeout(p.current),c(!1)},[]),onClose:r.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>c(!0),i)},[i]),isPointerInTransitRef:d,onPointerInTransitChange:r.useCallback(m=>{d.current=m},[]),disableHoverableContent:n,children:l})};In.displayName=Tn;var Mn="Tooltip",[Ap,pa]=ua(Mn),Ia="TooltipTrigger",xm=r.forwardRef((s,t)=>{const{__scopeTooltip:a,...i}=s,n=pa(Ia,a),l=Rn(Ia,a),o=si(a),c=r.useRef(null),d=Oe(t,c,n.onTriggerChange),p=r.useRef(!1),m=r.useRef(!1),f=r.useCallback(()=>p.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),L.jsx(en,{asChild:!0,...o,children:L.jsx(Ee.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...i,ref:d,onPointerMove:xe(s.onPointerMove,u=>{u.pointerType!=="touch"&&!m.current&&!l.isPointerInTransitRef.current&&(n.onTriggerEnter(),m.current=!0)}),onPointerLeave:xe(s.onPointerLeave,()=>{n.onTriggerLeave(),m.current=!1}),onPointerDown:xe(s.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(s.onFocus,()=>{p.current||n.onOpen()}),onBlur:xe(s.onBlur,n.onClose),onClick:xe(s.onClick,n.onClose)})})});xm.displayName=Ia;var vm="TooltipPortal",[_p,Dm]=ua(vm,{forceMount:void 0}),ft="TooltipContent",Bn=r.forwardRef((s,t)=>{const a=Dm(ft,s.__scopeTooltip),{forceMount:i=a.forceMount,side:n="top",...l}=s,o=pa(ft,s.__scopeTooltip);return L.jsx(_n,{present:i||o.open,children:o.disableHoverableContent?L.jsx(Ln,{side:n,...l,ref:t}):L.jsx(Em,{side:n,...l,ref:t})})}),Em=r.forwardRef((s,t)=>{const a=pa(ft,s.__scopeTooltip),i=Rn(ft,s.__scopeTooltip),n=r.useRef(null),l=Oe(t,n),[o,c]=r.useState(null),{trigger:d,onClose:p}=a,m=n.current,{onPointerInTransitChange:f}=i,u=r.useCallback(()=>{c(null),f(!1)},[f]),g=r.useCallback((N,h)=>{const y=N.currentTarget,C={x:N.clientX,y:N.clientY},V=ym(C,y.getBoundingClientRect()),k=Pm(C,V),j=Sm(h.getBoundingClientRect()),x=Cm([...k,...j]);c(x),f(!0)},[f]);return r.useEffect(()=>()=>u(),[u]),r.useEffect(()=>{if(d&&m){const N=y=>g(y,m),h=y=>g(y,d);return d.addEventListener("pointerleave",N),m.addEventListener("pointerleave",h),()=>{d.removeEventListener("pointerleave",N),m.removeEventListener("pointerleave",h)}}},[d,m,g,u]),r.useEffect(()=>{if(o){const N=h=>{const y=h.target,C={x:h.clientX,y:h.clientY},V=d?.contains(y)||m?.contains(y),k=!km(C,o);V?u():k&&(u(),p())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[d,m,o,p,u]),L.jsx(Ln,{...s,ref:l})}),[jm,wm]=ua(Mn,{isInside:!1}),Ln=r.forwardRef((s,t)=>{const{__scopeTooltip:a,children:i,"aria-label":n,onEscapeKeyDown:l,onPointerDownOutside:o,...c}=s,d=pa(ft,a),p=si(a),{onClose:m}=d;return r.useEffect(()=>(document.addEventListener(Si,m),()=>document.removeEventListener(Si,m)),[m]),r.useEffect(()=>{if(d.trigger){const f=u=>{u.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,m]),L.jsx(Xo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:L.jsxs(Qi,{"data-state":d.stateAttribute,...p,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[L.jsx(Zo,{children:i}),L.jsx(jm,{scope:a,isInside:!0,children:L.jsx(Qo,{id:d.contentId,role:"tooltip",children:n||i})})]})})});Bn.displayName=ft;var On="TooltipArrow",Vm=r.forwardRef((s,t)=>{const{__scopeTooltip:a,...i}=s,n=si(a);return wm(On,a).isInside?null:L.jsx(sn,{...n,...i,ref:t})});Vm.displayName=On;function ym(s,t){const a=Math.abs(t.top-s.y),i=Math.abs(t.bottom-s.y),n=Math.abs(t.right-s.x),l=Math.abs(t.left-s.x);switch(Math.min(a,i,n,l)){case l:return"left";case n:return"right";case a:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Pm(s,t,a=5){const i=[];switch(t){case"top":i.push({x:s.x-a,y:s.y+a},{x:s.x+a,y:s.y+a});break;case"bottom":i.push({x:s.x-a,y:s.y-a},{x:s.x+a,y:s.y-a});break;case"left":i.push({x:s.x+a,y:s.y-a},{x:s.x+a,y:s.y+a});break;case"right":i.push({x:s.x-a,y:s.y-a},{x:s.x-a,y:s.y+a});break}return i}function Sm(s){const{top:t,right:a,bottom:i,left:n}=s;return[{x:n,y:t},{x:a,y:t},{x:a,y:i},{x:n,y:i}]}function km(s,t){const{x:a,y:i}=s;let n=!1;for(let l=0,o=t.length-1;l<t.length;o=l++){const c=t[l].x,d=t[l].y,p=t[o].x,m=t[o].y;d>i!=m>i&&a<(p-c)*(i-d)/(m-d)+c&&(n=!n)}return n}function Cm(s){const t=s.slice();return t.sort((a,i)=>a.x<i.x?-1:a.x>i.x?1:a.y<i.y?-1:a.y>i.y?1:0),Am(t)}function Am(s){if(s.length<=1)return s.slice();const t=[];for(let i=0;i<s.length;i++){const n=s[i];for(;t.length>=2;){const l=t[t.length-1],o=t[t.length-2];if((l.x-o.x)*(n.y-o.y)>=(l.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const a=[];for(let i=s.length-1;i>=0;i--){const n=s[i];for(;a.length>=2;){const l=a[a.length-1],o=a[a.length-2];if((l.x-o.x)*(n.y-o.y)>=(l.y-o.y)*(n.x-o.x))a.pop();else break}a.push(n)}return a.pop(),t.length===1&&a.length===1&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}var _m=In,Fn=Bn;const Tm=_m,Rm=r.forwardRef(({className:s,sideOffset:t=4,...a},i)=>e.jsxDEV(Fn,{ref:i,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a},void 0,!1,{fileName:"/app/code/client/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0));Rm.displayName=Fn.displayName;const Im=Mt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=r.forwardRef(({className:s,variant:t,size:a,asChild:i=!1,...n},l)=>{const o=i?tn:"button";return e.jsxDEV(o,{className:J(Im({variant:t,size:a,className:s})),ref:l,...n},void 0,!1,{fileName:"/app/code/client/components/ui/button.tsx",lineNumber:46,columnNumber:7},void 0)});S.displayName="Button";const He=r.forwardRef(({className:s,type:t,...a},i)=>e.jsxDEV("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:i,...a},void 0,!1,{fileName:"/app/code/client/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));He.displayName="Input";var Mm="Label",Un=r.forwardRef((s,t)=>L.jsx(Ee.label,{...s,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(s.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));Un.displayName=Mm;var Wn=Un;const Bm=Mt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Wn,{ref:a,className:J(Bm(),s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/label.tsx",lineNumber:16,columnNumber:3},void 0));he.displayName=Wn.displayName;const R=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("div",{ref:a,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));R.displayName="Card";const K=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("div",{ref:a,className:J("flex flex-col space-y-1.5 p-6",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));K.displayName="CardHeader";const Y=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("h3",{ref:a,className:J("text-2xl font-semibold leading-none tracking-tight",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));Y.displayName="CardTitle";const Rt=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("p",{ref:a,className:J("text-sm text-muted-foreground",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0));Rt.displayName="CardDescription";const T=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("div",{ref:a,className:J("p-6 pt-0",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));T.displayName="CardContent";const Ma=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("div",{ref:a,className:J("flex items-center p-6 pt-0",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0));Ma.displayName="CardFooter";var ti="Tabs",[Lm,Tp]=ht(ti,[an]),$n=an(),[Om,ai]=Lm(ti),zn=r.forwardRef((s,t)=>{const{__scopeTabs:a,value:i,onValueChange:n,defaultValue:l,orientation:o="horizontal",dir:c,activationMode:d="automatic",...p}=s,m=Ha(c),[f,u]=Qt({prop:i,onChange:n,defaultProp:l});return L.jsx(Om,{scope:a,baseId:da(),value:f,onValueChange:u,orientation:o,dir:m,activationMode:d,children:L.jsx(Ee.div,{dir:m,"data-orientation":o,...p,ref:t})})});zn.displayName=ti;var Hn="TabsList",qn=r.forwardRef((s,t)=>{const{__scopeTabs:a,loop:i=!0,...n}=s,l=ai(Hn,a),o=$n(a);return L.jsx(el,{asChild:!0,...o,orientation:l.orientation,dir:l.dir,loop:i,children:L.jsx(Ee.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:t})})});qn.displayName=Hn;var Gn="TabsTrigger",Yn=r.forwardRef((s,t)=>{const{__scopeTabs:a,value:i,disabled:n=!1,...l}=s,o=ai(Gn,a),c=$n(a),d=Xn(o.baseId,i),p=Zn(o.baseId,i),m=i===o.value;return L.jsx(sl,{asChild:!0,...c,focusable:!n,active:m,children:L.jsx(Ee.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...l,ref:t,onMouseDown:xe(s.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?o.onValueChange(i):f.preventDefault()}),onKeyDown:xe(s.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(i)}),onFocus:xe(s.onFocus,()=>{const f=o.activationMode!=="manual";!m&&!n&&f&&o.onValueChange(i)})})})});Yn.displayName=Gn;var Kn="TabsContent",Jn=r.forwardRef((s,t)=>{const{__scopeTabs:a,value:i,forceMount:n,children:l,...o}=s,c=ai(Kn,a),d=Xn(c.baseId,i),p=Zn(c.baseId,i),m=i===c.value,f=r.useRef(m);return r.useEffect(()=>{const u=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(u)},[]),L.jsx(It,{present:n||m,children:({present:u})=>L.jsx(Ee.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!u,id:p,tabIndex:0,...o,ref:t,style:{...s.style,animationDuration:f.current?"0s":void 0},children:u&&l})})});Jn.displayName=Kn;function Xn(s,t){return`${s}-trigger-${t}`}function Zn(s,t){return`${s}-content-${t}`}var Fm=zn,Qn=qn,er=Yn,sr=Jn;const Qs=Fm,Hs=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Qn,{ref:a,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/tabs.tsx",lineNumber:12,columnNumber:3},void 0));Hs.displayName=Qn.displayName;const Me=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(er,{ref:a,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/tabs.tsx",lineNumber:27,columnNumber:3},void 0));Me.displayName=er.displayName;const We=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(sr,{ref:a,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/tabs.tsx",lineNumber:42,columnNumber:3},void 0));We.displayName=sr.displayName;function Ba(s,[t,a]){return Math.min(a,Math.max(t,s))}var Um="DismissableLayer",La="dismissableLayer.update",Wm="dismissableLayer.pointerDownOutside",$m="dismissableLayer.focusOutside",ki,tr=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ar=r.forwardRef((s,t)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:i,onPointerDownOutside:n,onFocusOutside:l,onInteractOutside:o,onDismiss:c,...d}=s,p=r.useContext(tr),[m,f]=r.useState(null),u=m?.ownerDocument??globalThis?.document,[,g]=r.useState({}),N=Oe(t,v=>f(v)),h=Array.from(p.layers),[y]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=h.indexOf(y),V=m?h.indexOf(m):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,j=V>=C,x=qm(v=>{const D=v.target,b=[...p.branches].some(P=>P.contains(D));!j||b||(n?.(v),o?.(v),v.defaultPrevented||c?.())},u),w=Gm(v=>{const D=v.target;[...p.branches].some(P=>P.contains(D))||(l?.(v),o?.(v),v.defaultPrevented||c?.())},u);return tl(v=>{V===p.layers.size-1&&(i?.(v),!v.defaultPrevented&&c&&(v.preventDefault(),c()))},u),r.useEffect(()=>{if(m)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(ki=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),Ci(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=ki)}},[m,u,a,p]),r.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),Ci())},[m,p]),r.useEffect(()=>{const v=()=>g({});return document.addEventListener(La,v),()=>document.removeEventListener(La,v)},[]),L.jsx(Ee.div,{...d,ref:N,style:{pointerEvents:k?j?"auto":"none":void 0,...s.style},onFocusCapture:xe(s.onFocusCapture,w.onFocusCapture),onBlurCapture:xe(s.onBlurCapture,w.onBlurCapture),onPointerDownCapture:xe(s.onPointerDownCapture,x.onPointerDownCapture)})});ar.displayName=Um;var zm="DismissableLayerBranch",Hm=r.forwardRef((s,t)=>{const a=r.useContext(tr),i=r.useRef(null),n=Oe(t,i);return r.useEffect(()=>{const l=i.current;if(l)return a.branches.add(l),()=>{a.branches.delete(l)}},[a.branches]),L.jsx(Ee.div,{...s,ref:n})});Hm.displayName=zm;function qm(s,t=globalThis?.document){const a=js(s),i=r.useRef(!1),n=r.useRef(()=>{});return r.useEffect(()=>{const l=c=>{if(c.target&&!i.current){let d=function(){ir(Wm,a,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=d,t.addEventListener("click",n.current,{once:!0})):d()}else t.removeEventListener("click",n.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",l),t.removeEventListener("click",n.current)}},[t,a]),{onPointerDownCapture:()=>i.current=!0}}function Gm(s,t=globalThis?.document){const a=js(s),i=r.useRef(!1);return r.useEffect(()=>{const n=l=>{l.target&&!i.current&&ir($m,a,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,a]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Ci(){const s=new CustomEvent(La);document.dispatchEvent(s)}function ir(s,t,a,{discrete:i}){const n=a.originalEvent.target,l=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:a});t&&n.addEventListener(s,t,{once:!0}),i?al(n,l):n.dispatchEvent(l)}var ya=0;function Ym(){r.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??Ai()),document.body.insertAdjacentElement("beforeend",s[1]??Ai()),ya++,()=>{ya===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ya--}},[])}function Ai(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",s}var Km="Portal",nr=r.forwardRef((s,t)=>{const{container:a,...i}=s,[n,l]=r.useState(!1);us(()=>l(!0),[]);const o=a||n&&globalThis?.document?.body;return o?Hi.createPortal(L.jsx(Ee.div,{...i,ref:t}),o):null});nr.displayName=Km;function rr(s){const t=r.useRef({value:s,previous:s});return r.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var or=il(),Pa=function(){},Na=r.forwardRef(function(s,t){var a=r.useRef(null),i=r.useState({onScrollCapture:Pa,onWheelCapture:Pa,onTouchMoveCapture:Pa}),n=i[0],l=i[1],o=s.forwardProps,c=s.children,d=s.className,p=s.removeScrollBar,m=s.enabled,f=s.shards,u=s.sideCar,g=s.noIsolation,N=s.inert,h=s.allowPinchZoom,y=s.as,C=y===void 0?"div":y,V=s.gapMode,k=nl(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=u,x=rl([a,t]),w=ct(ct({},k),n);return r.createElement(r.Fragment,null,m&&r.createElement(j,{sideCar:or,removeScrollBar:p,shards:f,noIsolation:g,inert:N,setCallbacks:l,allowPinchZoom:!!h,lockRef:a,gapMode:V}),o?r.cloneElement(r.Children.only(c),ct(ct({},w),{ref:x})):r.createElement(C,ct({},w,{className:d,ref:x}),c))});Na.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Na.classNames={fullWidth:ll,zeroRight:ol};var Oa=!1;if(typeof window<"u")try{var Ht=Object.defineProperty({},"passive",{get:function(){return Oa=!0,!0}});window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{Oa=!1}var ot=Oa?{passive:!1}:!1,Jm=function(s){return s.tagName==="TEXTAREA"},lr=function(s,t){var a=window.getComputedStyle(s);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!Jm(s)&&a[t]==="visible")},Xm=function(s){return lr(s,"overflowY")},Zm=function(s){return lr(s,"overflowX")},_i=function(s,t){var a=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var n=cr(s,i);if(n){var l=mr(s,i),o=l[1],c=l[2];if(o>c)return!0}i=i.parentNode}while(i&&i!==a.body);return!1},Qm=function(s){var t=s.scrollTop,a=s.scrollHeight,i=s.clientHeight;return[t,a,i]},ed=function(s){var t=s.scrollLeft,a=s.scrollWidth,i=s.clientWidth;return[t,a,i]},cr=function(s,t){return s==="v"?Xm(t):Zm(t)},mr=function(s,t){return s==="v"?Qm(t):ed(t)},sd=function(s,t){return s==="h"&&t==="rtl"?-1:1},td=function(s,t,a,i,n){var l=sd(s,window.getComputedStyle(t).direction),o=l*i,c=a.target,d=t.contains(c),p=!1,m=o>0,f=0,u=0;do{var g=mr(s,c),N=g[0],h=g[1],y=g[2],C=h-y-l*N;(N||C)&&cr(s,c)&&(f+=C,u+=N),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(f)<1||!m&&Math.abs(u)<1)&&(p=!0),p},qt=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},Ti=function(s){return[s.deltaX,s.deltaY]},Ri=function(s){return s&&"current"in s?s.current:s},ad=function(s,t){return s[0]===t[0]&&s[1]===t[1]},id=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},nd=0,lt=[];function rd(s){var t=r.useRef([]),a=r.useRef([0,0]),i=r.useRef(),n=r.useState(nd++)[0],l=r.useState(cl)[0],o=r.useRef(s);r.useEffect(function(){o.current=s},[s]),r.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(n));var h=ml([s.lockRef.current],(s.shards||[]).map(Ri),!0).filter(Boolean);return h.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),h.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[s.inert,s.lockRef.current,s.shards]);var c=r.useCallback(function(h,y){if("touches"in h&&h.touches.length===2)return!o.current.allowPinchZoom;var C=qt(h),V=a.current,k="deltaX"in h?h.deltaX:V[0]-C[0],j="deltaY"in h?h.deltaY:V[1]-C[1],x,w=h.target,v=Math.abs(k)>Math.abs(j)?"h":"v";if("touches"in h&&v==="h"&&w.type==="range")return!1;var D=_i(v,w);if(!D)return!0;if(D?x=v:(x=v==="v"?"h":"v",D=_i(v,w)),!D)return!1;if(!i.current&&"changedTouches"in h&&(k||j)&&(i.current=x),!x)return!0;var b=i.current||x;return td(b,y,h,b==="h"?k:j)},[]),d=r.useCallback(function(h){var y=h;if(!(!lt.length||lt[lt.length-1]!==l)){var C="deltaY"in y?Ti(y):qt(y),V=t.current.filter(function(x){return x.name===y.type&&(x.target===y.target||y.target===x.shadowParent)&&ad(x.delta,C)})[0];if(V&&V.should){y.cancelable&&y.preventDefault();return}if(!V){var k=(o.current.shards||[]).map(Ri).filter(Boolean).filter(function(x){return x.contains(y.target)}),j=k.length>0?c(y,k[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),p=r.useCallback(function(h,y,C,V){var k={name:h,delta:y,target:C,should:V,shadowParent:od(C)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(j){return j!==k})},1)},[]),m=r.useCallback(function(h){a.current=qt(h),i.current=void 0},[]),f=r.useCallback(function(h){p(h.type,Ti(h),h.target,c(h,s.lockRef.current))},[]),u=r.useCallback(function(h){p(h.type,qt(h),h.target,c(h,s.lockRef.current))},[]);r.useEffect(function(){return lt.push(l),s.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:u}),document.addEventListener("wheel",d,ot),document.addEventListener("touchmove",d,ot),document.addEventListener("touchstart",m,ot),function(){lt=lt.filter(function(h){return h!==l}),document.removeEventListener("wheel",d,ot),document.removeEventListener("touchmove",d,ot),document.removeEventListener("touchstart",m,ot)}},[]);var g=s.removeScrollBar,N=s.inert;return r.createElement(r.Fragment,null,N?r.createElement(l,{styles:id(n)}):null,g?r.createElement(dl,{gapMode:s.gapMode}):null)}function od(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const ld=ul(or,rd);var dr=r.forwardRef(function(s,t){return r.createElement(Na,ct({},s,{ref:t,sideCar:ld}))});dr.classNames=Na.classNames;var cd=[" ","Enter","ArrowUp","ArrowDown"],md=[" ","Enter"],Bt="Select",[fa,ba,dd]=pl(Bt),[vt,Rp]=ht(Bt,[dd,ma]),ga=ma(),[ud,qs]=vt(Bt),[pd,Nd]=vt(Bt),ur=s=>{const{__scopeSelect:t,children:a,open:i,defaultOpen:n,onOpenChange:l,value:o,defaultValue:c,onValueChange:d,dir:p,name:m,autoComplete:f,disabled:u,required:g}=s,N=ga(t),[h,y]=r.useState(null),[C,V]=r.useState(null),[k,j]=r.useState(!1),x=Ha(p),[w=!1,v]=Qt({prop:i,defaultProp:n,onChange:l}),[D,b]=Qt({prop:o,defaultProp:c,onChange:d}),P=r.useRef(null),A=h?!!h.closest("form"):!0,[I,Q]=r.useState(new Set),Z=Array.from(I).map(ne=>ne.props.value).join(";");return L.jsx(bl,{...N,children:L.jsxs(ud,{required:g,scope:t,trigger:h,onTriggerChange:y,valueNode:C,onValueNodeChange:V,valueNodeHasChildren:k,onValueNodeHasChildrenChange:j,contentId:da(),value:D,onValueChange:b,open:w,onOpenChange:v,dir:x,triggerPointerDownPosRef:P,disabled:u,children:[L.jsx(fa.Provider,{scope:t,children:L.jsx(pd,{scope:s.__scopeSelect,onNativeOptionAdd:r.useCallback(ne=>{Q(ue=>new Set(ue).add(ne))},[]),onNativeOptionRemove:r.useCallback(ne=>{Q(ue=>{const Ne=new Set(ue);return Ne.delete(ne),Ne})},[]),children:a})}),A?L.jsxs(Br,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:f,value:D,onChange:ne=>b(ne.target.value),disabled:u,children:[D===void 0?L.jsx("option",{value:""}):null,Array.from(I)]},Z):null]})})};ur.displayName=Bt;var pr="SelectTrigger",Nr=r.forwardRef((s,t)=>{const{__scopeSelect:a,disabled:i=!1,...n}=s,l=ga(a),o=qs(pr,a),c=o.disabled||i,d=Oe(t,o.onTriggerChange),p=ba(a),[m,f,u]=Lr(N=>{const h=p().filter(V=>!V.disabled),y=h.find(V=>V.value===o.value),C=Or(h,N,y);C!==void 0&&o.onValueChange(C.value)}),g=()=>{c||(o.onOpenChange(!0),u())};return L.jsx(en,{asChild:!0,...l,children:L.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Mr(o.value)?"":void 0,...n,ref:d,onClick:xe(n.onClick,N=>{N.currentTarget.focus()}),onPointerDown:xe(n.onPointerDown,N=>{const h=N.target;h.hasPointerCapture(N.pointerId)&&h.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)},N.preventDefault())}),onKeyDown:xe(n.onKeyDown,N=>{const h=m.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&f(N.key),!(h&&N.key===" ")&&cd.includes(N.key)&&(g(),N.preventDefault())})})})});Nr.displayName=pr;var fr="SelectValue",br=r.forwardRef((s,t)=>{const{__scopeSelect:a,className:i,style:n,children:l,placeholder:o="",...c}=s,d=qs(fr,a),{onValueNodeHasChildrenChange:p}=d,m=l!==void 0,f=Oe(t,d.onValueNodeChange);return us(()=>{p(m)},[p,m]),L.jsx(Ee.span,{...c,ref:f,style:{pointerEvents:"none"},children:Mr(d.value)?L.jsx(L.Fragment,{children:o}):l})});br.displayName=fr;var fd="SelectIcon",gr=r.forwardRef((s,t)=>{const{__scopeSelect:a,children:i,...n}=s;return L.jsx(Ee.span,{"aria-hidden":!0,...n,ref:t,children:i||""})});gr.displayName=fd;var bd="SelectPortal",hr=s=>L.jsx(nr,{asChild:!0,...s});hr.displayName=bd;var Zs="SelectContent",xr=r.forwardRef((s,t)=>{const a=qs(Zs,s.__scopeSelect),[i,n]=r.useState();if(us(()=>{n(new DocumentFragment)},[]),!a.open){const l=i;return l?qi.createPortal(L.jsx(vr,{scope:s.__scopeSelect,children:L.jsx(fa.Slot,{scope:s.__scopeSelect,children:L.jsx("div",{children:s.children})})}),l):null}return L.jsx(Dr,{...s,ref:t})});xr.displayName=Zs;var Is=10,[vr,Gs]=vt(Zs),gd="SelectContentImpl",Dr=r.forwardRef((s,t)=>{const{__scopeSelect:a,position:i="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:l,onPointerDownOutside:o,side:c,sideOffset:d,align:p,alignOffset:m,arrowPadding:f,collisionBoundary:u,collisionPadding:g,sticky:N,hideWhenDetached:h,avoidCollisions:y,...C}=s,V=qs(Zs,a),[k,j]=r.useState(null),[x,w]=r.useState(null),v=Oe(t,M=>j(M)),[D,b]=r.useState(null),[P,A]=r.useState(null),I=ba(a),[Q,Z]=r.useState(!1),ne=r.useRef(!1);r.useEffect(()=>{if(k)return Nl(k)},[k]),Ym();const ue=r.useCallback(M=>{const[H,...re]=I().map(ye=>ye.ref.current),[ce]=re.slice(-1),je=document.activeElement;for(const ye of M)if(ye===je||(ye?.scrollIntoView({block:"nearest"}),ye===H&&x&&(x.scrollTop=0),ye===ce&&x&&(x.scrollTop=x.scrollHeight),ye?.focus(),document.activeElement!==je))return},[I,x]),Ne=r.useCallback(()=>ue([D,k]),[ue,D,k]);r.useEffect(()=>{Q&&Ne()},[Q,Ne]);const{onOpenChange:ee,triggerPointerDownPosRef:$}=V;r.useEffect(()=>{if(k){let M={x:0,y:0};const H=ce=>{M={x:Math.abs(Math.round(ce.pageX)-($.current?.x??0)),y:Math.abs(Math.round(ce.pageY)-($.current?.y??0))}},re=ce=>{M.x<=10&&M.y<=10?ce.preventDefault():k.contains(ce.target)||ee(!1),document.removeEventListener("pointermove",H),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",re,{capture:!0})}}},[k,ee,$]),r.useEffect(()=>{const M=()=>ee(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[ee]);const[le,G]=Lr(M=>{const H=I().filter(je=>!je.disabled),re=H.find(je=>je.ref.current===document.activeElement),ce=Or(H,M,re);ce&&setTimeout(()=>ce.ref.current.focus())}),se=r.useCallback((M,H,re)=>{const ce=!ne.current&&!re;(V.value!==void 0&&V.value===H||ce)&&(b(M),ce&&(ne.current=!0))},[V.value]),pe=r.useCallback(()=>k?.focus(),[k]),Re=r.useCallback((M,H,re)=>{const ce=!ne.current&&!re;(V.value!==void 0&&V.value===H||ce)&&A(M)},[V.value]),Ve=i==="popper"?Fa:Er,fe=Ve===Fa?{side:c,sideOffset:d,align:p,alignOffset:m,arrowPadding:f,collisionBoundary:u,collisionPadding:g,sticky:N,hideWhenDetached:h,avoidCollisions:y}:{};return L.jsx(vr,{scope:a,content:k,viewport:x,onViewportChange:w,itemRefCallback:se,selectedItem:D,onItemLeave:pe,itemTextRefCallback:Re,focusSelectedItem:Ne,selectedItemText:P,position:i,isPositioned:Q,searchRef:le,children:L.jsx(dr,{as:tn,allowPinchZoom:!0,children:L.jsx(fl,{asChild:!0,trapped:V.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:xe(n,M=>{V.trigger?.focus({preventScroll:!0}),M.preventDefault()}),children:L.jsx(ar,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>V.onOpenChange(!1),children:L.jsx(Ve,{role:"listbox",id:V.contentId,"data-state":V.open?"open":"closed",dir:V.dir,onContextMenu:M=>M.preventDefault(),...C,...fe,onPlaced:()=>Z(!0),ref:v,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:xe(C.onKeyDown,M=>{const H=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!H&&M.key.length===1&&G(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let ce=I().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(M.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const je=M.target,ye=ce.indexOf(je);ce=ce.slice(ye+1)}setTimeout(()=>ue(ce)),M.preventDefault()}})})})})})})});Dr.displayName=gd;var hd="SelectItemAlignedPosition",Er=r.forwardRef((s,t)=>{const{__scopeSelect:a,onPlaced:i,...n}=s,l=qs(Zs,a),o=Gs(Zs,a),[c,d]=r.useState(null),[p,m]=r.useState(null),f=Oe(t,v=>m(v)),u=ba(a),g=r.useRef(!1),N=r.useRef(!0),{viewport:h,selectedItem:y,selectedItemText:C,focusSelectedItem:V}=o,k=r.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&p&&h&&y&&C){const v=l.trigger.getBoundingClientRect(),D=p.getBoundingClientRect(),b=l.valueNode.getBoundingClientRect(),P=C.getBoundingClientRect();if(l.dir!=="rtl"){const je=P.left-D.left,ye=b.left-je,ts=v.left-ye,Ge=v.width+ts,Xe=Math.max(Ge,D.width),Fe=window.innerWidth-Is,os=Ba(ye,[Is,Fe-Xe]);c.style.minWidth=Ge+"px",c.style.left=os+"px"}else{const je=D.right-P.right,ye=window.innerWidth-b.right-je,ts=window.innerWidth-v.right-ye,Ge=v.width+ts,Xe=Math.max(Ge,D.width),Fe=window.innerWidth-Is,os=Ba(ye,[Is,Fe-Xe]);c.style.minWidth=Ge+"px",c.style.right=os+"px"}const A=u(),I=window.innerHeight-Is*2,Q=h.scrollHeight,Z=window.getComputedStyle(p),ne=parseInt(Z.borderTopWidth,10),ue=parseInt(Z.paddingTop,10),Ne=parseInt(Z.borderBottomWidth,10),ee=parseInt(Z.paddingBottom,10),$=ne+ue+Q+ee+Ne,le=Math.min(y.offsetHeight*5,$),G=window.getComputedStyle(h),se=parseInt(G.paddingTop,10),pe=parseInt(G.paddingBottom,10),Re=v.top+v.height/2-Is,Ve=I-Re,fe=y.offsetHeight/2,M=y.offsetTop+fe,H=ne+ue+M,re=$-H;if(H<=Re){const je=y===A[A.length-1].ref.current;c.style.bottom="0px";const ye=p.clientHeight-h.offsetTop-h.offsetHeight,ts=Math.max(Ve,fe+(je?pe:0)+ye+Ne),Ge=H+ts;c.style.height=Ge+"px"}else{const je=y===A[0].ref.current;c.style.top="0px";const ts=Math.max(Re,ne+h.offsetTop+(je?se:0)+fe)+re;c.style.height=ts+"px",h.scrollTop=H-Re+h.offsetTop}c.style.margin=`${Is}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=I+"px",i?.(),requestAnimationFrame(()=>g.current=!0)}},[u,l.trigger,l.valueNode,c,p,h,y,C,l.dir,i]);us(()=>k(),[k]);const[j,x]=r.useState();us(()=>{p&&x(window.getComputedStyle(p).zIndex)},[p]);const w=r.useCallback(v=>{v&&N.current===!0&&(k(),V?.(),N.current=!1)},[k,V]);return L.jsx(vd,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:w,children:L.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:L.jsx(Ee.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Er.displayName=hd;var xd="SelectPopperPosition",Fa=r.forwardRef((s,t)=>{const{__scopeSelect:a,align:i="start",collisionPadding:n=Is,...l}=s,o=ga(a);return L.jsx(Qi,{...o,...l,ref:t,align:i,collisionPadding:n,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fa.displayName=xd;var[vd,ii]=vt(Zs,{}),Ua="SelectViewport",jr=r.forwardRef((s,t)=>{const{__scopeSelect:a,nonce:i,...n}=s,l=Gs(Ua,a),o=ii(Ua,a),c=Oe(t,l.onViewportChange),d=r.useRef(0);return L.jsxs(L.Fragment,{children:[L.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),L.jsx(fa.Slot,{scope:a,children:L.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:xe(n.onScroll,p=>{const m=p.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:u}=o;if(u?.current&&f){const g=Math.abs(d.current-m.scrollTop);if(g>0){const N=window.innerHeight-Is*2,h=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),C=Math.max(h,y);if(C<N){const V=C+g,k=Math.min(N,V),j=V-k;f.style.height=k+"px",f.style.bottom==="0px"&&(m.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});jr.displayName=Ua;var wr="SelectGroup",[Dd,Ed]=vt(wr),jd=r.forwardRef((s,t)=>{const{__scopeSelect:a,...i}=s,n=da();return L.jsx(Dd,{scope:a,id:n,children:L.jsx(Ee.div,{role:"group","aria-labelledby":n,...i,ref:t})})});jd.displayName=wr;var Vr="SelectLabel",yr=r.forwardRef((s,t)=>{const{__scopeSelect:a,...i}=s,n=Ed(Vr,a);return L.jsx(Ee.div,{id:n.id,...i,ref:t})});yr.displayName=Vr;var na="SelectItem",[wd,Pr]=vt(na),Sr=r.forwardRef((s,t)=>{const{__scopeSelect:a,value:i,disabled:n=!1,textValue:l,...o}=s,c=qs(na,a),d=Gs(na,a),p=c.value===i,[m,f]=r.useState(l??""),[u,g]=r.useState(!1),N=Oe(t,C=>d.itemRefCallback?.(C,i,n)),h=da(),y=()=>{n||(c.onValueChange(i),c.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return L.jsx(wd,{scope:a,value:i,disabled:n,textId:h,isSelected:p,onItemTextChange:r.useCallback(C=>{f(V=>V||(C?.textContent??"").trim())},[]),children:L.jsx(fa.ItemSlot,{scope:a,value:i,disabled:n,textValue:m,children:L.jsx(Ee.div,{role:"option","aria-labelledby":h,"data-highlighted":u?"":void 0,"aria-selected":p&&u,"data-state":p?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:N,onFocus:xe(o.onFocus,()=>g(!0)),onBlur:xe(o.onBlur,()=>g(!1)),onPointerUp:xe(o.onPointerUp,y),onPointerMove:xe(o.onPointerMove,C=>{n?d.onItemLeave?.():C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,C=>{C.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:xe(o.onKeyDown,C=>{d.searchRef?.current!==""&&C.key===" "||(md.includes(C.key)&&y(),C.key===" "&&C.preventDefault())})})})})});Sr.displayName=na;var St="SelectItemText",kr=r.forwardRef((s,t)=>{const{__scopeSelect:a,className:i,style:n,...l}=s,o=qs(St,a),c=Gs(St,a),d=Pr(St,a),p=Nd(St,a),[m,f]=r.useState(null),u=Oe(t,C=>f(C),d.onItemTextChange,C=>c.itemTextRefCallback?.(C,d.value,d.disabled)),g=m?.textContent,N=r.useMemo(()=>L.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:h,onNativeOptionRemove:y}=p;return us(()=>(h(N),()=>y(N)),[h,y,N]),L.jsxs(L.Fragment,{children:[L.jsx(Ee.span,{id:d.textId,...l,ref:u}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?qi.createPortal(l.children,o.valueNode):null]})});kr.displayName=St;var Cr="SelectItemIndicator",Ar=r.forwardRef((s,t)=>{const{__scopeSelect:a,...i}=s;return Pr(Cr,a).isSelected?L.jsx(Ee.span,{"aria-hidden":!0,...i,ref:t}):null});Ar.displayName=Cr;var Wa="SelectScrollUpButton",_r=r.forwardRef((s,t)=>{const a=Gs(Wa,s.__scopeSelect),i=ii(Wa,s.__scopeSelect),[n,l]=r.useState(!1),o=Oe(t,i.onScrollButtonChange);return us(()=>{if(a.viewport&&a.isPositioned){let c=function(){const p=d.scrollTop>0;l(p)};const d=a.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),n?L.jsx(Rr,{...s,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=a;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});_r.displayName=Wa;var $a="SelectScrollDownButton",Tr=r.forwardRef((s,t)=>{const a=Gs($a,s.__scopeSelect),i=ii($a,s.__scopeSelect),[n,l]=r.useState(!1),o=Oe(t,i.onScrollButtonChange);return us(()=>{if(a.viewport&&a.isPositioned){let c=function(){const p=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<p;l(m)};const d=a.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),n?L.jsx(Rr,{...s,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=a;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Tr.displayName=$a;var Rr=r.forwardRef((s,t)=>{const{__scopeSelect:a,onAutoScroll:i,...n}=s,l=Gs("SelectScrollButton",a),o=r.useRef(null),c=ba(a),d=r.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),us(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),L.jsx(Ee.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:xe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:xe(n.onPointerMove,()=>{l.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:xe(n.onPointerLeave,()=>{d()})})}),Vd="SelectSeparator",Ir=r.forwardRef((s,t)=>{const{__scopeSelect:a,...i}=s;return L.jsx(Ee.div,{"aria-hidden":!0,...i,ref:t})});Ir.displayName=Vd;var za="SelectArrow",yd=r.forwardRef((s,t)=>{const{__scopeSelect:a,...i}=s,n=ga(a),l=qs(za,a),o=Gs(za,a);return l.open&&o.position==="popper"?L.jsx(sn,{...n,...i,ref:t}):null});yd.displayName=za;function Mr(s){return s===""||s===void 0}var Br=r.forwardRef((s,t)=>{const{value:a,...i}=s,n=r.useRef(null),l=Oe(t,n),o=rr(a);return r.useEffect(()=>{const c=n.current,d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==a&&m){const f=new Event("change",{bubbles:!0});m.call(c,a),c.dispatchEvent(f)}},[o,a]),L.jsx(gl,{asChild:!0,children:L.jsx("select",{...i,ref:l,defaultValue:a})})});Br.displayName="BubbleSelect";function Lr(s){const t=js(s),a=r.useRef(""),i=r.useRef(0),n=r.useCallback(o=>{const c=a.current+o;t(c),function d(p){a.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),l=r.useCallback(()=>{a.current="",window.clearTimeout(i.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),[a,n,l]}function Or(s,t,a){const n=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=a?s.indexOf(a):-1;let o=Pd(s,Math.max(l,0));n.length===1&&(o=o.filter(p=>p!==a));const d=o.find(p=>p.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==a?d:void 0}function Pd(s,t){return s.map((a,i)=>s[(t+i)%s.length])}var Sd=ur,Fr=Nr,kd=br,Cd=gr,Ad=hr,Ur=xr,_d=jr,Wr=yr,$r=Sr,Td=kr,Rd=Ar,zr=_r,Hr=Tr,qr=Ir;const is=Sd,ns=kd,es=r.forwardRef(({className:s,children:t,...a},i)=>e.jsxDEV(Fr,{ref:i,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsxDEV(Cd,{asChild:!0,children:e.jsxDEV(nn,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:26,columnNumber:5},void 0)]},void 0,!0,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:17,columnNumber:3},void 0));es.displayName=Fr.displayName;const Gr=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(zr,{ref:a,className:J("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsxDEV(hl,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:45,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:37,columnNumber:3},void 0));Gr.displayName=zr.displayName;const Yr=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Hr,{ref:a,className:J("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsxDEV(nn,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:54,columnNumber:3},void 0));Yr.displayName=Hr.displayName;const ss=r.forwardRef(({className:s,children:t,position:a="popper",...i},n)=>e.jsxDEV(Ad,{children:e.jsxDEV(Ur,{ref:n,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...i,children:[e.jsxDEV(Gr,{},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:84,columnNumber:7},void 0),e.jsxDEV(_d,{className:J("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:85,columnNumber:7},void 0),e.jsxDEV(Yr,{},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:72,columnNumber:3},void 0));ss.displayName=Ur.displayName;const Id=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(Wr,{ref:a,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0));Id.displayName=Wr.displayName;const De=r.forwardRef(({className:s,children:t,...a},i)=>e.jsxDEV($r,{ref:i,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(Rd,{children:e.jsxDEV(Xs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:124,columnNumber:5},void 0),e.jsxDEV(Td,{children:t},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:130,columnNumber:5},void 0)]},void 0,!0,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:116,columnNumber:3},void 0));De.displayName=$r.displayName;const Md=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(qr,{ref:a,className:J("-mx-1 my-1 h-px bg-muted",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/select.tsx",lineNumber:139,columnNumber:3},void 0));Md.displayName=qr.displayName;class Bd{static handle(t,a){console.error(`Error in ${a||"unknown context"}:`,t);let i="   ",n="error";t instanceof TypeError&&t.message.includes("fetch")?(i="   ",n="warning"):t.message&&(i=t.message,t.message.includes("401")||t.message.includes("")?(i="       ",n="critical"):t.message.includes("403")||t.message.includes("")?(i="    ",n="warning"):t.message.includes("404")?(i="   ",n="info"):t.message.includes("500")&&(i="     ",n="error")),xn({title:n==="critical"?" ":"",description:i,variant:n==="info"?"default":"destructive"}),(n==="critical"||n==="error")&&this.logError({message:i,code:t.code,details:t,severity:n},a)}static async handleAsync(t,a,i){try{return await t()}catch(n){return this.handle(n,a),i}}static logError(t,a){const i={timestamp:new Date().toISOString(),context:a,error:t,userAgent:navigator.userAgent,url:window.location.href};console.error("Error logged:",i);try{const n=JSON.parse(localStorage.getItem("app_errors")||"[]");n.push(i),n.length>50&&n.splice(0,n.length-50),localStorage.setItem("app_errors",JSON.stringify(n))}catch(n){console.warn("Could not store error log:",n)}}static getStoredErrors(){try{return JSON.parse(localStorage.getItem("app_errors")||"[]")}catch{return[]}}static clearStoredErrors(){localStorage.removeItem("app_errors")}}class Ld{baseUrl=this.getBaseUrl();authToken=null;apiUrlVerified=!1;getBaseUrl(){if(typeof window<"u"){if(window.location.hostname==="localhost")return window.location.origin+"/api";const t=window.location.hostname;return t.includes("netlify.app")||t.includes("netlify.com")||t.includes("netlify")?(console.log(" Detected Netlify deployment, using Functions path"),window.location.origin+"/.netlify/functions/api"):window.location.origin+"/api"}return"/api"}async verifyApiUrl(){if(this.apiUrlVerified||typeof window>"u")return;const t=window.location.hostname;if(console.log("    API URL:",{hostname:t,currentBaseUrl:this.baseUrl}),t.includes("netlify")){this.baseUrl=window.location.origin+"/.netlify/functions/api",this.apiUrlVerified=!0,console.log(" Netlify detected - using functions path directly");return}const a=["/api","/.netlify/functions/api"];for(const i of a)try{const n=window.location.origin+i+"/ping";console.log(` : ${n}`);const l=new AbortController,o=setTimeout(()=>l.abort(),5e3),c=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},signal:l.signal});if(clearTimeout(o),c.ok){console.log(` API  : ${i}`),this.baseUrl=window.location.origin+i,this.apiUrlVerified=!0;return}else console.log(` API    ${i}: ${c.status}`)}catch(n){console.log(`     ${i}:`,n)}console.warn("     API     "),console.log("   :",this.baseUrl)}setAuthToken(t){this.authToken=t,console.log(" Auth token set:",{hasToken:!!t,tokenLength:t?.length,tokenPrefix:t?.substring(0,15)+"..."})}clearAuthToken(){this.authToken=null,console.log(" Auth token cleared")}getHeaders(){const t={"Content-Type":"application/json"};return this.authToken&&(t.Authorization=`Bearer ${this.authToken}`),t}checkAuthToken(t){return["/bookings","/messages","/barbers","/notifications","/auth/profile","/posts","/follows","/ratings"].some(n=>t.includes(n))&&!this.authToken?(console.warn(` Missing auth token for protected endpoint: ${t}`),!1):(this.authToken&&console.log(` Using auth token for: ${t}`,{hasToken:!0,tokenPrefix:this.authToken.substring(0,10)+"..."}),!0)}async request(t,a={}){await this.verifyApiUrl(),this.checkAuthToken(t);const i=`${this.baseUrl}${t}`;console.log(`API Request: ${a.method||"GET"} ${i}`,{baseUrl:this.baseUrl,hostname:typeof window<"u"?window.location.hostname:"server",isLocalhost:typeof window<"u"?window.location.hostname==="localhost":!1,verified:this.apiUrlVerified,hasAuthToken:!!this.authToken,endpoint:t});try{const n=await fetch(i,{...a,headers:{...this.getHeaders(),...a.headers}});if(console.log(`API Response: ${n.status} ${n.statusText}`),!n.ok){let o=`HTTP ${n.status}: ${n.statusText}`,c=null,d="UNKNOWN_ERROR",p=null;try{const f=await n.text();console.log("Raw error response:",f);let u;try{u=JSON.parse(f)}catch{console.warn("Could not parse error response as JSON:",f),u={error:f||o}}o=u.error||u.message||o,c=u.details,d=u.errorType||d,p=u.suggestion}catch(f){switch(console.warn("Could not parse error response:",f),n.status){case 400:o="        ",d="VALIDATION_ERROR";break;case 401:t.includes("/auth/login")?(o="      ",d="LOGIN_FAILED",p="              "):(o="   ",d="SESSION_EXPIRED",p="    ",this.clearAuthToken(),localStorage.removeItem("barbershop_token"),localStorage.removeItem("barbershop_user"));break;case 403:o="      ",d="AUTHORIZATION_ERROR";break;case 404:o=" API   -    ",d="API_NOT_FOUND_ERROR",p="      .    : 07800657822";break;case 409:o="    ",d="CONFLICT_ERROR";break;case 429:o="         ",d="RATE_LIMIT_ERROR",p="      ";break;case 500:o="      ",d="SERVER_ERROR",p="      : 07800657822";break;case 502:o="      ",d="BAD_GATEWAY_ERROR";break;case 503:o="    ",d="SERVICE_UNAVAILABLE_ERROR",p="    ";break;case 504:o="      ",d="TIMEOUT_ERROR";break;default:o="       ",d="UNKNOWN_ERROR"}}console.error(`API Error [${n.status}]:`,{message:o,details:c,errorType:d,suggestion:p,url:i,method:a.method||"GET"});const m=new Error(o);throw m.errorType=d,m.details=c,m.suggestion=p,m.statusCode=n.status,m}if(n.status===204)return{};const l=await n.json();return console.log("API Success:",{endpoint:t,data:l?"received":"empty"}),l}catch(n){if(n instanceof TypeError&&n.message.includes("fetch")){console.error("Network error:",{error:n,url:i});let o="   ",c="      ";n.message.includes("Failed to fetch")?(o="   ",c="       "):n.message.includes("NetworkError")?(o="  ",c="   Wi-Fi   "):n.message.includes("timeout")&&(o="  ",c="     ");const d=new Error(o);throw d.errorType="NETWORK_ERROR",d.suggestion=c,d.originalError=n.message,Bd.handle(d,"API Request"),d}if(n&&typeof n=="object"&&"errorType"in n)throw n;console.error("Unexpected API error:",{error:n,url:i,endpoint:t});const l=new Error("       ");throw l.errorType="UNEXPECTED_ERROR",l.originalError=n instanceof Error?n.message:String(n),l.suggestion="      : 07800657822",l}}async login(t,a){console.log("Attempting login with:",{email:t,password:"***",emailLength:t.length,passwordLength:a.length,emailValid:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)});try{const i=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:a})});return console.log("Login successful:",{user:i.user.name}),i}catch(i){throw console.error("Login failed:",i),console.error("Login attempt details:",{endpoint:"/auth/login",email:t,emailTrimmed:t.trim(),passwordProvided:!!a,baseUrl:this.baseUrl}),i}}async register(t){return this.request("/auth/register",{method:"POST",body:JSON.stringify(t)})}async getProfile(){return this.request("/auth/profile")}async updateProfile(t){return this.request("/auth/profile",{method:"PUT",body:JSON.stringify(t)})}async getBarbers(){return this.request("/barbers")}async getUsers(){return(await this.getBarbers()).barbers||[]}async searchBarbers(t){const a=new URLSearchParams;return t.query&&a.set("query",t.query),t.rating&&a.set("min_rating",t.rating.toString()),t.priceRange?.max&&a.set("max_price",t.priceRange.max.toString()),{data:(await this.request(`/barbers/search?${a}`)).barbers||[]}}async getPosts(t){const a=t?`?user_id=${t}`:"";return this.request(`/posts${a}`)}async createPost(t){return this.request("/posts",{method:"POST",body:JSON.stringify(t)})}async getBookings(){return this.request("/bookings")}async createBooking(t){return this.request("/bookings",{method:"POST",body:JSON.stringify(t)})}async updateBooking(t,a){return this.request(`/bookings/${t}`,{method:"PATCH",body:JSON.stringify(a)})}async getAvailableSlots(t,a){try{return await this.request(`/barbers/${t}/slots?date=${a}`)}catch{return console.warn("Slots API endpoint not available, using fallback generation"),this.generateAvailableSlots(a)}}generateAvailableSlots(t){const a=[],i=new Date(t),n=new Date,l=i.toDateString()===n.toDateString();for(let o=9;o<=20;o++)for(let c=0;c<60;c+=30){const d=`${o.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`;let p=!0;if(l){const m=n.getHours(),f=n.getMinutes();o<m||o===m&&c<=f?p=!1:p=!(o>=12&&o<=14)&&!(o>=18&&o<=20)}else i>n?p=i.getDay()!==5:p=!1;a.push({time:d,available:p})}return a}async getFollows(t="following"){return this.request(`/follows?type=${t}`)}async followUser(t){try{return await this.request("/follows",{method:"POST",body:JSON.stringify({followed_id:t})})}catch(a){if(a instanceof Error&&a.message.includes("409"))return console.log("User already following - ignoring 409 error"),{};throw a}}async unfollowUser(t){try{return await this.request(`/follows/${t}`,{method:"DELETE"})}catch(a){if(a instanceof Error&&(a.message.includes("409")||a.message.includes("404"))){console.log("User was not following or already unfollowed - ignoring error");return}throw a}}async getFollowerCount(t){return this.request(`/users/${t}/followers/count`)}async getFriendRequests(){return this.request("/friend-requests")}async sendFriendRequest(t){return this.request("/friend-requests",{method:"POST",body:JSON.stringify({receiver_id:t})})}async respondToFriendRequest(t,a){return this.request(`/friend-requests/${t}`,{method:"PATCH",body:JSON.stringify({status:a})})}async getNotifications(){return this.request("/notifications")}async markNotificationAsRead(t){return this.request(`/notifications/${t}/read`,{method:"PATCH"})}async markAllNotificationsAsRead(){return this.request("/notifications/read-all",{method:"PATCH"})}async getWorkingHours(){return this.request("/working-hours")}async saveWorkingHours(t){return this.request("/working-hours",{method:"PUT",body:JSON.stringify({schedule:t})})}async getAdminStats(){return this.request("/admin/stats")}async getAllUsers(){return this.request("/admin/users")}async likePost(t){return this.request(`/posts/${t}/like`,{method:"POST"})}async unlikePost(t){return this.request(`/posts/${t}/like`,{method:"DELETE"})}async getPostComments(t){try{return await this.request(`/posts/${t}/comments`)}catch{return console.warn("Comments endpoint not available, returning empty array"),{comments:[],total:0}}}async createPostComment(t,a){try{return await this.request(`/posts/${t}/comments`,{method:"POST",body:JSON.stringify({comment:a})})}catch(i){return console.warn("Comment creation failed:",i),{id:Date.now().toString(),user:{id:"current",name:"",avatar_url:null},comment:a,created_at:new Date().toISOString()}}}async createRating(t){return this.request("/ratings",{method:"POST",body:JSON.stringify(t)})}async getRatings(t){return this.request(`/barbers/${t}/ratings`)}async uploadImage(t){const a=new FormData;a.append("image",t);const i=await fetch(`${this.baseUrl}/upload/image`,{method:"POST",headers:{Authorization:this.authToken?`Bearer ${this.authToken}`:""},body:a});if(!i.ok)throw new Error(`Upload failed: ${i.statusText}`);return i.json()}async getBarberServices(t){const a=t?`/barbers/${t}/services`:"/services";return this.request(a)}async createService(t){return this.request("/services",{method:"POST",body:JSON.stringify(t)})}async updateService(t,a){return this.request(`/services/${t}`,{method:"PUT",body:JSON.stringify(a)})}async deleteService(t){return this.request(`/services/${t}`,{method:"DELETE"})}async getConversations(){return this.request("/messages/conversations")}async getMessages(t){return this.request(`/messages/${t}`)}async sendMessage(t){return this.request("/messages",{method:"POST",body:JSON.stringify(t)})}async markMessagesAsRead(t){return this.request(`/messages/${t}/read`,{method:"PATCH"})}async getUnreadMessageCount(){return this.request("/messages/unread-count")}async deleteConversation(t){return this.request(`/messages/${t}`,{method:"DELETE"})}async advancedSearchBarbers(t){const a=new URLSearchParams;return Object.entries(t).forEach(([i,n])=>{n!=null&&(Array.isArray(n)?n.forEach(l=>a.append(i,l.toString())):a.set(i,n.toString()))}),this.request(`/barbers/search/advanced?${a}`)}async getRecommendations(t=10){return this.request(`/barbers/recommendations?limit=${t}`)}async getBarberAnalytics(t="month",a){const i=new URLSearchParams({period:t});return a&&i.set("barberId",a),this.request(`/analytics/barber?${i}`)}async getGlobalAnalytics(){return this.request("/admin/analytics")}async uploadImageFile(t){const a=new FormData;a.append("image",t);const i=await fetch(`${this.baseUrl}/upload/image`,{method:"POST",headers:{Authorization:this.authToken?`Bearer ${this.authToken}`:""},body:a});if(!i.ok){const n=await i.text();throw new Error(n||`Upload failed: ${i.statusText}`)}return i.json()}}const W=new Ld,Od=async()=>{console.log("  API:",{baseUrl:W.baseUrl,hostname:typeof window<"u"?window.location.hostname:"server",origin:typeof window<"u"?window.location.origin:"server"});const s=["/api/ping","/.netlify/functions/api/ping"];for(const t of s)try{const a=(typeof window<"u"?window.location.origin:"")+t;console.log(` : ${a}`);const i=await fetch(a);if(console.log(`${i.ok?"":""} ${t}: ${i.status} ${i.statusText}`),i.ok){const n=await i.json();console.log(" :",n)}}catch(a){console.log(`   ${t}:`,a)}};typeof window<"u"&&(window.diagnoseAPI=Od);const Fd={user:null,barbers:[],bookings:[],posts:[],friendRequests:[],follows:[],notifications:[],isLoading:!1};class Ud{state=Fd;listeners=[];getState(){return{...this.state}}setState(t){this.state={...this.state,...t},this.notifyListeners()}subscribe(t){return this.listeners.push(t),()=>{this.listeners=this.listeners.filter(a=>a!==t)}}notifyListeners(){this.listeners.forEach(t=>t(this.getState()))}setUser(t){this.setState({user:t}),t?localStorage.setItem("barbershop_user",JSON.stringify(t)):(localStorage.removeItem("barbershop_user"),localStorage.removeItem("barbershop_token"),W.clearAuthToken())}async login(t,a){try{this.setLoading(!0);const i=await W.login(t,a);return console.log("Login response received:",{hasUser:!!i.user,hasToken:!!i.token,tokenPrefix:i.token?.substring(0,10)+"...",userName:i.user?.name}),localStorage.setItem("barbershop_token",i.token),W.setAuthToken(i.token),this.setUser(i.user),console.log("Auth token set successfully:",{tokenSaved:!!localStorage.getItem("barbershop_token"),userSaved:!!localStorage.getItem("barbershop_user")}),i}catch(i){throw console.error("Login error:",i),i}finally{this.setLoading(!1)}}async register(t){try{this.setLoading(!0);const a=await W.register(t);return localStorage.setItem("barbershop_token",a.token),W.setAuthToken(a.token),this.setUser(a.user),a}catch(a){throw console.error("Register error:",a),a}finally{this.setLoading(!1)}}logout(){this.setUser(null),localStorage.removeItem("barbershop_user"),localStorage.removeItem("barbershop_token"),W.clearAuthToken()}async initializeAuth(){return new Promise(t=>{try{const a=localStorage.getItem("barbershop_user"),i=localStorage.getItem("barbershop_token");if(console.log("Initializing auth from localStorage:",{hasSavedUser:!!a,hasSavedToken:!!i,tokenPrefix:i?.substring(0,10)+"..."}),a&&i)try{const n=JSON.parse(a);W.setAuthToken(i),this.setUser(n),console.log("Auth initialized successfully:",{userName:n.name,userRole:n.role,tokenSet:!0})}catch(n){console.error("Error parsing saved user:",n),localStorage.removeItem("barbershop_user"),localStorage.removeItem("barbershop_token"),W.clearAuthToken()}else console.log("No saved auth data found")}catch(a){console.error("Auth initialization error:",a)}finally{t()}})}setBarbers(t){this.setState({barbers:t})}updateBarber(t,a){const i=this.state.barbers.map(n=>n.id===t?{...n,...a}:n);this.setState({barbers:i})}setBookings(t){this.setState({bookings:t})}addBooking(t){this.setState({bookings:[...this.state.bookings,t]})}updateBooking(t,a){const i=this.state.bookings.map(n=>n.id===t?{...n,...a}:n);this.setState({bookings:i})}setPosts(t){this.setState({posts:t})}addPost(t){this.setState({posts:[t,...this.state.posts]})}setFriendRequests(t){this.setState({friendRequests:t})}addFriendRequest(t){this.setState({friendRequests:[...this.state.friendRequests,t]})}updateFriendRequest(t,a){const i=this.state.friendRequests.map(n=>n.id===t?{...n,...a}:n);this.setState({friendRequests:i})}setFollows(t){this.setState({follows:t})}addFollow(t){this.setState({follows:[...this.state.follows,t]})}removeFollow(t){const a=this.state.follows.filter(i=>i.id!==t);this.setState({follows:a})}setNotifications(t){this.setState({notifications:t})}addNotification(t){this.setState({notifications:[t,...this.state.notifications]})}markNotificationAsRead(t){const a=this.state.notifications.map(i=>i.id===t?{...i,read:!0}:i);this.setState({notifications:a})}clearNotifications(){this.setState({notifications:[]})}setLoading(t){this.setState({isLoading:t})}}const Xt=new Ud;function $e(){const[s,t]=r.useState(Xt.getState());return r.useEffect(()=>Xt.subscribe(t),[]),[s,Xt]}Xt.initializeAuth();const Dt=Dl,ni=El,Wd=xl,Kr=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(rn,{ref:a,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:19,columnNumber:3},void 0));Kr.displayName=rn.displayName;const et=r.forwardRef(({className:s,children:t,...a},i)=>e.jsxDEV(Wd,{children:[e.jsxDEV(Kr,{},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:35,columnNumber:5},void 0),e.jsxDEV(on,{ref:i,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxDEV(vl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsxDEV(fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:46,columnNumber:9},void 0),e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:36,columnNumber:5},void 0)]},void 0,!0,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:34,columnNumber:3},void 0));et.displayName=on.displayName;const ks=({className:s,...t})=>e.jsxDEV("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:58,columnNumber:3},void 0);ks.displayName="DialogHeader";const bt=({className:s,...t})=>e.jsxDEV("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:72,columnNumber:3},void 0);bt.displayName="DialogFooter";const Cs=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(ln,{ref:a,className:J("text-lg font-semibold leading-none tracking-tight",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:86,columnNumber:3},void 0));Cs.displayName=ln.displayName;const Ws=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(cn,{ref:a,className:J("text-sm text-muted-foreground",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/dialog.tsx",lineNumber:101,columnNumber:3},void 0));Ws.displayName=cn.displayName;const Gt="user_location",Ii="location_permission_requested";function Et(){const[s,t]=r.useState({location:null,isLoading:!1,error:null,hasPermission:null});r.useEffect(()=>(window.debugLocation={checkSupport:()=>(console.log("Geolocation supported:",!!navigator.geolocation),console.log("Is HTTPS:",location.protocol==="https:"),console.log("Is localhost:",location.hostname==="localhost"),!!navigator.geolocation),testPermission:async()=>{if("permissions"in navigator)try{const o=await navigator.permissions.query({name:"geolocation"});return console.log("Permission state:",o.state),o.state}catch(o){return console.log("Permissions API error:",o),"unknown"}else return console.log("Permissions API not available"),"unknown"},requestLocation:()=>{console.log("Manual location request..."),navigator.geolocation.getCurrentPosition(o=>console.log("Success:",o.coords),o=>console.log("Error:",{code:o.code,message:o.message||"Location error"}),{enableHighAccuracy:!0,timeout:15e3})}},()=>{delete window.debugLocation}),[]),r.useEffect(()=>{const o=localStorage.getItem(Gt);if(o)try{const c=JSON.parse(o);t(d=>({...d,location:c,hasPermission:!0}))}catch(c){console.warn("Failed to parse saved location:",c),localStorage.removeItem(Gt)}},[]);const a=r.useCallback(async()=>{if(!navigator.geolocation)return t(o=>({...o,hasPermission:!1,error:"    "})),!1;try{const c=(await navigator.permissions.query({name:"geolocation"})).state==="granted";return t(d=>({...d,hasPermission:c})),c}catch(o){return console.log("Permissions API not supported:",o instanceof Error?o.message:String(o)),!0}},[]),i=r.useCallback(async()=>navigator.geolocation?location.protocol!=="https:"&&location.hostname!=="localhost"?(console.warn("Geolocation requires HTTPS in production environments"),t(o=>({...o,hasPermission:!1,error:"     (HTTPS)",isLoading:!1})),null):(t(o=>({...o,isLoading:!0,error:null})),console.log("Requesting location permission and coordinates..."),console.log("Environment details:",{protocol:location.protocol,hostname:location.hostname,isSecure:location.protocol==="https:"||location.hostname==="localhost",userAgent:navigator.userAgent,hasGeolocation:!!navigator.geolocation,hasPermissions:"permissions"in navigator}),new Promise(o=>{navigator.geolocation.getCurrentPosition(async c=>{const d=c.coords.latitude,p=c.coords.longitude;let m=" ";try{const g=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${d}&longitude=${p}&localityLanguage=ar`)).json();(g.locality||g.city)&&(m=g.locality||g.city)}catch(u){console.log("Could not get address, using default. Error:",u instanceof Error?u.message:String(u))}const f={lat:d,lng:p,address:m};localStorage.setItem(Gt,JSON.stringify(f)),localStorage.setItem(Ii,"true"),t(u=>({...u,location:f,isLoading:!1,hasPermission:!0,error:null})),o(f)},c=>{const d={code:c.code,message:c.message,PERMISSION_DENIED:c.PERMISSION_DENIED,POSITION_UNAVAILABLE:c.POSITION_UNAVAILABLE,TIMEOUT:c.TIMEOUT};console.error("Location error details:",d),console.error("Raw error object:",c);let p="     ",m="";switch(c.code){case c.PERMISSION_DENIED:p="    ",m="       ",t(f=>({...f,hasPermission:!1}));break;case c.POSITION_UNAVAILABLE:p="   ",m="      ";break;case c.TIMEOUT:p="    ",m="       ";break;default:p="    ",m=` : ${c.code||" "}, : ${c.message||" "}`;break}console.log("Location error translation:",m),t(f=>({...f,isLoading:!1,error:p})),o(null)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5})})):(t(o=>({...o,hasPermission:!1,error:"    ",isLoading:!1})),null),[]),n=r.useCallback(()=>{localStorage.removeItem(Gt),t(o=>({...o,location:null,hasPermission:null,error:null}))},[]),l=r.useCallback(()=>localStorage.getItem(Ii)==="true",[]);return{...s,requestLocation:i,checkPermission:a,clearLocation:n,isPermissionRequested:l}}function Jr({open:s,onOpenChange:t,onComplete:a}){const[i,n]=r.useState("request"),{requestLocation:l,error:o}=Et(),c=async()=>{n("loading"),console.log("LocationPermissionDialog: Requesting location...");try{if("permissions"in navigator){const f=await navigator.permissions.query({name:"geolocation"});console.log("Current permission state:",f.state)}}catch(f){console.log("Permissions API not available:",f)}const m=await l();console.log("LocationPermissionDialog: Location result:",m),m?(n("success"),setTimeout(()=>{t(!1),a?.(!0)},1500)):n("error")},d=()=>{t(!1),a?.(!1)},p=()=>{n("request")};return e.jsxDEV(Dt,{open:s,onOpenChange:t,children:e.jsxDEV(et,{className:"max-w-md",children:[i==="request"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ks,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center mb-4",children:e.jsxDEV(Qe,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:76,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:75,columnNumber:15},this),e.jsxDEV(Cs,{className:"text-xl",children:"  "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:78,columnNumber:15},this),e.jsxDEV(Ws,{className:"text-center",children:"          "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:81,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:74,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3 py-4",children:[e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-primary/5 rounded-lg border border-primary/10",children:[e.jsxDEV(jl,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:89,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-sm",children:"   "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:91,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"     "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:94,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:90,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:88,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-primary/5 rounded-lg border border-primary/10",children:[e.jsxDEV(Qe,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:101,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-sm",children:" "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:103,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"      "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:104,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:102,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:100,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:87,columnNumber:13},this),e.jsxDEV(bt,{className:"gap-2",children:[e.jsxDEV(S,{variant:"outline",onClick:d,className:"flex-1",children:" "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV(S,{onClick:c,className:"flex-1",children:" "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:73,columnNumber:11},this),i==="loading"&&e.jsxDEV(e.Fragment,{children:e.jsxDEV(ks,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center mb-4",children:e.jsxDEV("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:126,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:125,columnNumber:15},this),e.jsxDEV(Cs,{className:"text-xl",children:"  "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV(Ws,{className:"text-center",children:"      ..."},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:124,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:123,columnNumber:11},this),i==="success"&&e.jsxDEV(e.Fragment,{children:e.jsxDEV(ks,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500/20 to-green-400/10 rounded-full flex items-center justify-center mb-4",children:e.jsxDEV(Qe,{className:"h-8 w-8 text-green-600"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:140,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:139,columnNumber:15},this),e.jsxDEV(Cs,{className:"text-xl text-green-600",children:"   "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:142,columnNumber:15},this),e.jsxDEV(Ws,{className:"text-center",children:"     !"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:138,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:137,columnNumber:11},this),i==="error"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ks,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-destructive/20 to-destructive/10 rounded-full flex items-center justify-center mb-4",children:e.jsxDEV(Bs,{className:"h-8 w-8 text-destructive"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(Cs,{className:"text-xl",children:"   "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV(Ws,{className:"text-center",children:o||"    "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:154,columnNumber:13},this),e.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[e.jsxDEV("h4",{className:"font-medium text-sm",children:"  :"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxDEV("li",{children:"      ()"},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:167,columnNumber:17},this),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:168,columnNumber:17},this),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:169,columnNumber:17},this),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:170,columnNumber:17},this),e.jsxDEV("li",{children:"          "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:171,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:164,columnNumber:13},this),e.jsxDEV(bt,{className:"gap-2",children:[e.jsxDEV(S,{variant:"outline",onClick:d,className:"flex-1",children:""},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:178,columnNumber:15},this),e.jsxDEV(S,{onClick:p,className:"flex-1",children:" "},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:153,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:71,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/client/components/LocationPermissionDialog.tsx",lineNumber:70,columnNumber:5},this)}const $d={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyc3Zrc2dreGppb2dqdWFleXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4MDMzMDMsImV4cCI6MjA2NzM3OTMwM30.-haPW80fiZMWYCm83TXvwZ2kHHBhcvhWAc6jPYdlUXM",VITE_SUPABASE_URL:"https://yrsvksgkxjiogjuaeyvd.supabase.co",VITE_USER_NODE_ENV:"production"};var Xr={};const Mi={supabaseUrl:"https://yrsvksgkxjiogjuaeyvd.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyc3Zrc2dreGppb2dqdWFleXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4MDMzMDMsImV4cCI6MjA2NzM3OTMwM30.-haPW80fiZMWYCm83TXvwZ2kHHBhcvhWAc6jPYdlUXM"},Zr=()=>{const s=typeof window>"u",t=s?!!Xr.NETLIFY:window.location.hostname.includes("netlify.app");return{isServer:s,isNetlify:t,isProduction:!1}},Bi=(s,t)=>{const{isServer:a}=Zr();let i;return a?i=Xr[s]:i=$d?.[s],i||""},zd=()=>{const{isProduction:s,isNetlify:t}=Zr(),a=Bi("VITE_SUPABASE_URL"),i=Bi("VITE_SUPABASE_ANON_KEY");let n;return a&&i?n={supabaseUrl:a,supabaseKey:i,isProduction:s,configSource:"env"}:(n={supabaseUrl:Mi.supabaseUrl,supabaseKey:Mi.supabaseKey,isProduction:s,configSource:"fallback"},s||console.warn("  Using fallback configuration. Environment variables not found:",{envUrl:!!a,envKey:!!i})),t&&!a&&(n.configSource="auto",console.log(" Auto-configured for Netlify production environment")),n},Hd=s=>{const t=s.supabaseUrl&&s.supabaseKey&&s.supabaseUrl.startsWith("https://")&&s.supabaseKey.length>50;return t||console.error(" Invalid Supabase configuration:",{hasUrl:!!s.supabaseUrl,hasKey:!!s.supabaseKey,urlFormat:s.supabaseUrl?.startsWith("https://"),keyLength:s.supabaseKey?.length}),t},qd=()=>{const s=zd();if(!Hd(s))throw new Error(" Failed to get valid Supabase configuration");return console.log(" Supabase configuration loaded:",{source:s.configSource,isProduction:s.isProduction,urlPrefix:s.supabaseUrl.substring(0,30)+"...",keyPrefix:s.supabaseKey.substring(0,20)+"..."}),s},Li=qd(),Gd=Yl(Li.supabaseUrl,Li.supabaseKey);function Yd(){const[s,t]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const{error:i}=await Gd.from("users").select("id").limit(1);t(!i)}catch{t(!1)}})()},[]),s===null?null:e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:s?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Xs,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/app/code/client/components/DatabaseStatus.tsx",lineNumber:30,columnNumber:11},this),e.jsxDEV("span",{children:"  "},void 0,!1,{fileName:"/app/code/client/components/DatabaseStatus.tsx",lineNumber:31,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/DatabaseStatus.tsx",lineNumber:29,columnNumber:9},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(fs,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/app/code/client/components/DatabaseStatus.tsx",lineNumber:35,columnNumber:11},this),e.jsxDEV("span",{children:"   "},void 0,!1,{fileName:"/app/code/client/components/DatabaseStatus.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/DatabaseStatus.tsx",lineNumber:34,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/components/DatabaseStatus.tsx",lineNumber:27,columnNumber:5},this)}function Kd({onAuth:s}){const[t,a]=$e(),[i,n]=r.useState("login"),[l,o]=r.useState(null),[c,d]=r.useState(!1),[p,m]=r.useState(null),{isPermissionRequested:f}=Et(),[u,g]=r.useState({email:"",password:""}),[N,h]=r.useState({name:"",email:"",password:"",role:"customer",activation_key:""}),y=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),C=v=>v.length<6?"      6   ":null,V=async v=>{if(v.preventDefault(),o(null),!u.email||!u.password){o("    ");return}if(!y(u.email)){o("    ");return}try{const D=await a.login(u.email,u.password);D.user.role==="customer"&&!f()?(m(D.user),d(!0)):s(D.user)}catch(D){console.error("Login error:",D);let b="   ",P=null;if(D instanceof Error){b=D.message;const A=D;switch(A.suggestion?P=A.suggestion:A.details&&(P=A.details),A.errorType){case"MISSING_FIELDS":b="    ";break;case"INVALID_EMAIL_FORMAT":b="    ",P=" : user@example.com";break;case"LOGIN_FAILED":case"EMAIL_NOT_FOUND":b="     ",P="      ' '";break;case"INVALID_PASSWORD":b="   ",P="     ";break;case"ACCOUNT_BLOCKED":b="  ",P="  : 07800657822";break;case"ACCOUNT_PENDING":b="   ",P="   24 ";break;case"NETWORK_ERROR":b="  ",P="   ";break;case"SERVER_ERROR":b="  ",P="      : 07800657822";break;case"DATABASE_CONNECTION_ERROR":b="    ",P="      ";break}}o(P?`${b}
${P}`:b)}},k=async v=>{if(v.preventDefault(),o(null),!N.name||!N.email||!N.password){o("    ");return}if(N.name.trim().length<2){o("       ");return}if(!y(N.email)){o("    ");return}const D=C(N.password);if(D){o(D);return}if(N.role==="barber"&&!N.activation_key?.trim()){o("    ");return}try{const b=await a.register(N);b.user.role==="customer"&&!f()?(m(b.user),d(!0)):s(b.user)}catch(b){console.error("Register error:",b);let P="   ",A=null;if(b instanceof Error){P=b.message;const I=b;switch(I.suggestion?A=I.suggestion:I.details&&(A=I.details),I.errorType){case"MISSING_REQUIRED_FIELDS":P="    ",I.missingFields&&(A=` : ${I.missingFields.join(" ")}`);break;case"NAME_TOO_SHORT":P="  ",A="       ";break;case"NAME_TOO_LONG":P="  ",A="      50 ";break;case"INVALID_EMAIL_FORMAT":P="    ",A=" : username@example.com";break;case"EMAIL_ALREADY_EXISTS":P="   ",A="      ";break;case"PASSWORD_TOO_SHORT":P="   ",A="    6   ";break;case"MISSING_ACTIVATION_KEY":P="   ",A="    : 07800657822";break;case"INVALID_ACTIVATION_KEY":P="   ",A="    : 07800657822";break;case"ACTIVATION_KEY_USED":P="   ",A="    : 07800657822";break;case"DATABASE_CONNECTION_ERROR":P="    ",A="      ";break;case"NETWORK_ERROR":P="  ",A="   ";break;case"SERVER_ERROR":P="  ",A="     : 07800657822";break}}o(A?`${P}
${A}`:P)}},j=v=>{switch(v){case"customer":return e.jsxDEV(wl,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:285,columnNumber:16},this);case"barber":return e.jsxDEV(ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:287,columnNumber:16},this);case"admin":return e.jsxDEV(mn,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:289,columnNumber:16},this)}},x=v=>{switch(v){case"customer":return"";case"barber":return"";case"admin":return""}},w=v=>{p&&(s(p),m(null))};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Jr,{open:c,onOpenChange:d,onComplete:w},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:313,columnNumber:7},this),e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-background/80 p-4",children:e.jsxDEV("div",{className:"w-full max-w-md space-y-8",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-golden-600 rounded-2xl flex items-center justify-center mb-4",children:e.jsxDEV(ys,{className:"h-8 w-8 text-primary-foreground"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:323,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:322,columnNumber:13},this),e.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:325,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:326,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:321,columnNumber:11},this),e.jsxDEV(R,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:e.jsxDEV(Qs,{value:i,onValueChange:n,className:"w-full",children:[e.jsxDEV(Hs,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsxDEV(Me,{value:"login",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:338,columnNumber:17},this),e.jsxDEV(Me,{value:"register",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:339,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:337,columnNumber:15},this),e.jsxDEV(We,{value:"login",children:e.jsxDEV("form",{onSubmit:V,children:[e.jsxDEV(K,{className:"pb-4",children:[e.jsxDEV(Y,{className:"text-xl",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:345,columnNumber:21},this),e.jsxDEV(Rt,{children:"    "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:346,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:344,columnNumber:19},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"email",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:353,columnNumber:23},this),e.jsxDEV(He,{id:"email",type:"email",value:u.email,onChange:v=>g(D=>({...D,email:v.target.value})),placeholder:"example@email.com",required:!0,className:"text-right",dir:"ltr"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:354,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:352,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"password",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:372,columnNumber:23},this),e.jsxDEV(He,{id:"password",type:"password",value:u.password,onChange:v=>g(D=>({...D,password:v.target.value})),placeholder:"",required:!0},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:373,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:371,columnNumber:21},this),l&&e.jsxDEV("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md border border-destructive/20",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-destructive rounded-full flex-shrink-0 mt-1"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:391,columnNumber:27},this),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"whitespace-pre-line leading-relaxed",children:l},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:393,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:392,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:390,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:389,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:351,columnNumber:19},this),e.jsxDEV(Ma,{children:e.jsxDEV(S,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:t.isLoading,children:t.isLoading?"  ...":" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:403,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:402,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:343,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV(We,{value:"register",children:e.jsxDEV("form",{onSubmit:k,children:[e.jsxDEV(K,{className:"pb-4",children:[e.jsxDEV(Y,{className:"text-xl",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:417,columnNumber:21},this),e.jsxDEV(Rt,{children:"    "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:418,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:416,columnNumber:19},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"name",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:425,columnNumber:23},this),e.jsxDEV(He,{id:"name",type:"text",value:N.name,onChange:v=>h(D=>({...D,name:v.target.value})),placeholder:"  ",required:!0,className:"text-right"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:426,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:424,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"reg-email",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:443,columnNumber:23},this),e.jsxDEV(He,{id:"reg-email",type:"email",value:N.email,onChange:v=>h(D=>({...D,email:v.target.value})),placeholder:"example@email.com",required:!0,className:"text-right",dir:"ltr"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:444,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:442,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"reg-password",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:462,columnNumber:23},this),e.jsxDEV(He,{id:"reg-password",type:"password",value:N.password,onChange:v=>h(D=>({...D,password:v.target.value})),placeholder:"",required:!0},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:463,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"    6   "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:476,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:461,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"role",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:482,columnNumber:23},this),e.jsxDEV(is,{value:N.role,onValueChange:v=>h(D=>({...D,role:v})),children:[e.jsxDEV(es,{className:"text-right",children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:490,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:489,columnNumber:25},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"customer",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[j("customer"),e.jsxDEV("span",{children:x("customer")},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:496,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:494,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:493,columnNumber:27},this),e.jsxDEV(De,{value:"barber",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[j("barber"),e.jsxDEV("span",{children:x("barber")},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:502,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:500,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:499,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:492,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:483,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:481,columnNumber:21},this),N.role==="barber"&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"activation-key",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:511,columnNumber:25},this),e.jsxDEV(He,{id:"activation-key",type:"text",value:N.activation_key,onChange:v=>h(D=>({...D,activation_key:v.target.value})),placeholder:"     ",required:!0,className:"text-right"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:512,columnNumber:25},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"        WhatsApp: 07800657822"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:526,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:510,columnNumber:23},this),l&&e.jsxDEV("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md border border-destructive/20",children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-destructive rounded-full flex-shrink-0 mt-1"},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:536,columnNumber:27},this),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"whitespace-pre-line leading-relaxed",children:l},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:538,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:537,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:535,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:534,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:423,columnNumber:19},this),e.jsxDEV(Ma,{children:e.jsxDEV(S,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:t.isLoading,children:t.isLoading?"  ...":" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:548,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:547,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:415,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:414,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:332,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:331,columnNumber:11},this),e.jsxDEV("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[e.jsxDEV("p",{children:["    "," ",e.jsxDEV("a",{href:"#",className:"text-primary hover:underline",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:564,columnNumber:15},this)," ",""," ",e.jsxDEV("a",{href:"#",className:"text-primary hover:underline",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:568,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:562,columnNumber:13},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground/80",children:"            "},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:572,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:561,columnNumber:11},this),e.jsxDEV(Yd,{},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:577,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:319,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:318,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/Auth.tsx",lineNumber:312,columnNumber:5},this)}const Jd=Mt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function X({className:s,variant:t,...a}){return e.jsxDEV("div",{className:J(Jd({variant:t}),s),...a},void 0,!1,{fileName:"/app/code/client/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}var ri="Switch",[Xd,Ip]=ht(ri),[Zd,Qd]=Xd(ri),Qr=r.forwardRef((s,t)=>{const{__scopeSwitch:a,name:i,checked:n,defaultChecked:l,required:o,disabled:c,value:d="on",onCheckedChange:p,...m}=s,[f,u]=r.useState(null),g=Oe(t,V=>u(V)),N=r.useRef(!1),h=f?!!f.closest("form"):!0,[y=!1,C]=Qt({prop:n,defaultProp:l,onChange:p});return L.jsxs(Zd,{scope:a,checked:y,disabled:c,children:[L.jsx(Ee.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":to(y),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:g,onClick:xe(s.onClick,V=>{C(k=>!k),h&&(N.current=V.isPropagationStopped(),N.current||V.stopPropagation())})}),h&&L.jsx(eu,{control:f,bubbles:!N.current,name:i,value:d,checked:y,required:o,disabled:c,style:{transform:"translateX(-100%)"}})]})});Qr.displayName=ri;var eo="SwitchThumb",so=r.forwardRef((s,t)=>{const{__scopeSwitch:a,...i}=s,n=Qd(eo,a);return L.jsx(Ee.span,{"data-state":to(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t})});so.displayName=eo;var eu=s=>{const{control:t,checked:a,bubbles:i=!0,...n}=s,l=r.useRef(null),o=rr(a),c=Vl(t);return r.useEffect(()=>{const d=l.current,p=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(p,"checked").set;if(o!==a&&f){const u=new Event("click",{bubbles:i});f.call(d,a),d.dispatchEvent(u)}},[o,a,i]),L.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:l,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function to(s){return s?"checked":"unchecked"}var ao=Qr,su=so;const Ye=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(ao,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:a,children:e.jsxDEV(su,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")},void 0,!1,{fileName:"/app/code/client/components/ui/switch.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/switch.tsx",lineNumber:10,columnNumber:3},void 0));Ye.displayName=ao.displayName;var tu={};function au({className:s}){const{toast:t}=Qa(),[a,i]=r.useState({isOnline:navigator.onLine,isInstalled:!1,swRegistration:null,installPrompt:null,notificationPermission:"default",updateAvailable:!1}),[n,l]=r.useState({autoSync:!0,notifications:!1,backgroundSync:!0,offlineMode:!0});r.useEffect(()=>(o(),c(),d),[]);const o=async()=>{if("serviceWorker"in navigator)try{const V=await navigator.serviceWorker.ready;i(k=>({...k,swRegistration:V})),V.addEventListener("updatefound",()=>{i(k=>({...k,updateAvailable:!0}))})}catch(V){console.warn("Service Worker not available:",V)}p(),"Notification"in window&&i(V=>({...V,notificationPermission:Notification.permission})),m()},c=()=>{const V=()=>{i(x=>({...x,isOnline:!0})),t({title:"   ",description:"    "}),y()},k=()=>{i(x=>({...x,isOnline:!1})),t({title:"  ",description:"      ",variant:"destructive"})},j=x=>{x.preventDefault(),i(w=>({...w,installPrompt:x}))};return window.addEventListener("online",V),window.addEventListener("offline",k),window.addEventListener("beforeinstallprompt",j),()=>{window.removeEventListener("online",V),window.removeEventListener("offline",k),window.removeEventListener("beforeinstallprompt",j)}},d=()=>{},p=()=>{const V=window.matchMedia("(display-mode: standalone)").matches,k=window.navigator.standalone===!0;i(j=>({...j,isInstalled:V||k}))},m=()=>{const V=localStorage.getItem("pwa_settings");V&&l(JSON.parse(V))},f=V=>{l(V),localStorage.setItem("pwa_settings",JSON.stringify(V))},u=async()=>{a.installPrompt&&(a.installPrompt.prompt(),(await a.installPrompt.userChoice).outcome==="accepted"&&(i(k=>({...k,installPrompt:null,isInstalled:!0})),t({title:"    !",description:"      "})))},g=async()=>{if("Notification"in window){const V=await Notification.requestPermission();if(i(k=>({...k,notificationPermission:V})),V==="granted"){if(f({...n,notifications:!0}),a.swRegistration?.pushManager)try{await N()}catch(k){console.warn("Push subscription failed:",k)}t({title:"   ",description:"      "})}}},N=async()=>{if(a.swRegistration?.pushManager)try{const V=await a.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:iu(tu.VITE_VAPID_PUBLIC_KEY||"")});await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})}catch(V){console.warn("Push subscription failed:",V)}},h=async()=>{a.swRegistration?.waiting&&(a.swRegistration.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())},y=async()=>{if(a.swRegistration&&a.swRegistration.sync&&"sync"in window.ServiceWorkerRegistration.prototype)try{await a.swRegistration.sync.register("background-sync-bookings"),await a.swRegistration.sync.register("background-sync-messages")}catch(V){console.warn("Background sync registration failed:",V)}},C=async()=>{if(confirm("      "))try{if("caches"in window){const V=await caches.keys();await Promise.all(V.map(k=>caches.delete(k)))}localStorage.clear(),sessionStorage.clear(),t({title:"   ",description:"    "}),setTimeout(()=>window.location.reload(),1e3)}catch(V){console.error("Failed to clear app data:",V)}};return e.jsxDEV("div",{className:s,children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(X,{variant:a.isOnline?"default":"destructive",children:a.isOnline?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(qa,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:289,columnNumber:15},this)," "]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:288,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(dn,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:293,columnNumber:15},this),"  "]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:292,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:286,columnNumber:9},this),a.isInstalled&&e.jsxDEV(X,{variant:"secondary",children:[e.jsxDEV(Ga,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:300,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:299,columnNumber:11},this),a.updateAvailable&&e.jsxDEV(S,{size:"sm",variant:"outline",onClick:h,className:"text-xs",children:[e.jsxDEV(rs,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:311,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:305,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:285,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[!a.isInstalled&&a.installPrompt&&e.jsxDEV(S,{onClick:u,className:"text-xs",variant:"outline",children:[e.jsxDEV(Ya,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:325,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:320,columnNumber:11},this),a.notificationPermission!=="granted"&&e.jsxDEV(S,{onClick:g,className:"text-xs",variant:"outline",children:[e.jsxDEV(pt,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:336,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:331,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:318,columnNumber:7},this),e.jsxDEV(Dt,{children:[e.jsxDEV(ni,{asChild:!0,children:e.jsxDEV(S,{variant:"ghost",size:"sm",className:"w-full",children:[e.jsxDEV($s,{className:"w-4 h-4 ml-2"},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:346,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:345,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:344,columnNumber:9},this),e.jsxDEV(et,{className:"max-w-md",children:[e.jsxDEV(ks,{children:e.jsxDEV(Cs,{children:" "},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:353,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:352,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("label",{className:"text-sm font-medium",children:" "},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:358,columnNumber:15},this),e.jsxDEV(Ye,{checked:n.autoSync,onCheckedChange:V=>f({...n,autoSync:V})},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:359,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:357,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("label",{className:"text-sm font-medium",children:""},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:368,columnNumber:15},this),e.jsxDEV(Ye,{checked:n.notifications,onCheckedChange:V=>f({...n,notifications:V})},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:369,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:367,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("label",{className:"text-sm font-medium",children:"  "},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:378,columnNumber:15},this),e.jsxDEV(Ye,{checked:n.backgroundSync,onCheckedChange:V=>f({...n,backgroundSync:V})},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:377,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("label",{className:"text-sm font-medium",children:"  "},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:388,columnNumber:15},this),e.jsxDEV(Ye,{checked:n.offlineMode,onCheckedChange:V=>f({...n,offlineMode:V})},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:389,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:387,columnNumber:13},this),e.jsxDEV("hr",{},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:397,columnNumber:13},this),e.jsxDEV(S,{variant:"destructive",size:"sm",onClick:C,className:"w-full",children:"   "},void 0,!1,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:399,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:356,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:351,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:343,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAManager.tsx",lineNumber:283,columnNumber:5},this)}function iu(s){const t="=".repeat((4-s.length%4)%4),a=(s+t).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(a),n=new Uint8Array(i.length);for(let l=0;l<i.length;++l)n[l]=i.charCodeAt(l);return n}const nu=()=>{const[s]=$e(),t=qo();return r.useEffect(()=>{s.user&&t("/dashboard")},[s.user,t]),e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-golden-900/10",children:[e.jsxDEV("header",{className:"border-b bg-background/80 backdrop-blur-sm sticky top-0 z-50",children:e.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ys,{className:"h-8 w-8 text-golden-500"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:26,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-2xl font-bold text-golden-500",children:"BarberApp"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:27,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:25,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>window.location.href="/network-diagnostic-test",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:32,columnNumber:13},void 0),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>window.location.href="/network-diagnostic",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:41,columnNumber:13},void 0),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>window.location.href="/debug",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:48,columnNumber:13},void 0),e.jsxDEV(S,{onClick:()=>window.location.href="/auth",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:31,columnNumber:11},void 0),e.jsxDEV("div",{className:"mt-4",children:e.jsxDEV(au,{className:"max-w-xs"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:62,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:61,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:24,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:23,columnNumber:7},void 0),e.jsxDEV("section",{className:"py-20 px-4",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxDEV("h1",{className:"text-5xl md:text-6xl font-bold text-foreground mb-6",children:["  ",e.jsxDEV("span",{className:"text-golden-500",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:72,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:70,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"          "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:74,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxDEV(S,{size:"lg",className:"px-8",onClick:()=>window.location.href="/auth",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:79,columnNumber:13},void 0),e.jsxDEV(S,{variant:"outline",size:"lg",className:"px-8",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:78,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:69,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:68,columnNumber:7},void 0),e.jsxDEV("section",{className:"py-16 px-4",children:e.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-center mb-12",children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:96,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxDEV(R,{className:"text-center",children:[e.jsxDEV(K,{children:[e.jsxDEV(ms,{className:"h-12 w-12 text-golden-500 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:102,columnNumber:17},void 0),e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:101,columnNumber:15},void 0),e.jsxDEV(T,{children:e.jsxDEV("p",{className:"text-muted-foreground",children:"          "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:106,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:105,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:100,columnNumber:13},void 0),e.jsxDEV(R,{className:"text-center",children:[e.jsxDEV(K,{children:[e.jsxDEV(xs,{className:"h-12 w-12 text-golden-500 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:115,columnNumber:17},void 0),e.jsxDEV(Y,{children:"  "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:114,columnNumber:15},void 0),e.jsxDEV(T,{children:e.jsxDEV("p",{className:"text-muted-foreground",children:"        "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:119,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:118,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:113,columnNumber:13},void 0),e.jsxDEV(R,{className:"text-center",children:[e.jsxDEV(K,{children:[e.jsxDEV(Qe,{className:"h-12 w-12 text-golden-500 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:127,columnNumber:17},void 0),e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:128,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:126,columnNumber:15},void 0),e.jsxDEV(T,{children:e.jsxDEV("p",{className:"text-muted-foreground",children:"         "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:131,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:130,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:125,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:99,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:95,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:94,columnNumber:7},void 0),e.jsxDEV("section",{className:"py-16 px-4 bg-golden-500/10",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxDEV("h2",{className:"text-3xl font-bold mb-4",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:143,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-xl text-muted-foreground mb-8",children:"       "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:146,columnNumber:11},void 0),e.jsxDEV(S,{size:"lg",className:"px-8",onClick:()=>window.location.href="/auth",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:149,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:142,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:141,columnNumber:7},void 0),e.jsxDEV("footer",{className:"py-8 px-4 border-t bg-background/50",children:e.jsxDEV("div",{className:"max-w-6xl mx-auto text-center",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsxDEV(ys,{className:"h-6 w-6 text-golden-500"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:163,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-golden-500",children:"BarberApp"},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:162,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:" 2025 BarberApp.   ."},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:166,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:161,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:160,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/Index.tsx",lineNumber:21,columnNumber:5},void 0)},ru=()=>e.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxDEV(R,{className:"w-full max-w-md",children:[e.jsxDEV(K,{className:"text-center",children:[e.jsxDEV(Y,{className:"text-6xl mb-4",children:"404"},void 0,!1,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:10,columnNumber:11},void 0),e.jsxDEV(Y,{children:"  "},void 0,!1,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:11,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:9,columnNumber:9},void 0),e.jsxDEV(T,{className:"space-y-4 text-center",children:[e.jsxDEV("p",{className:"text-muted-foreground",children:"      ."},void 0,!1,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:14,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex gap-3 justify-center",children:[e.jsxDEV(S,{onClick:()=>window.location.href="/",className:"flex items-center gap-2",children:[e.jsxDEV(un,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:23,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:19,columnNumber:13},void 0),e.jsxDEV(S,{variant:"outline",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[e.jsxDEV(yl,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:32,columnNumber:15},void 0),""]},void 0,!0,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:27,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:18,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:13,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:8,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NotFound.tsx",lineNumber:7,columnNumber:5},void 0);function ou({className:s="",compact:t=!1}){const{location:a,isLoading:i,requestLocation:n}=Et();return t?e.jsxDEV("div",{className:`flex items-center gap-2 ${s}`,children:[e.jsxDEV(Qe,{className:"h-3 w-3 text-primary shrink-0"},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:19,columnNumber:9},this),i?e.jsxDEV("div",{className:"animate-pulse h-3 w-16 bg-muted rounded"},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:21,columnNumber:11},this):a?e.jsxDEV("span",{className:"text-xs text-primary font-medium truncate",children:a.address},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:23,columnNumber:11},this):e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:27,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:18,columnNumber:7},this):e.jsxDEV("div",{className:`bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg p-3 border border-primary/20 ${s}`,children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV(Qe,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:38,columnNumber:9},this),i?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"animate-spin h-3 w-3 border border-primary border-t-transparent rounded-full"},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:41,columnNumber:13},this),e.jsxDEV("span",{className:"text-sm text-primary",children:"  ..."},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:42,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:40,columnNumber:11},this):a?e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("span",{className:"text-sm font-medium text-primary",children:a.address},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:46,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-primary/80 mt-0.5",children:"    "},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:49,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:45,columnNumber:11},this):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"   "},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:55,columnNumber:13},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:"text-xs text-primary p-0 h-auto ml-2",onClick:n,children:" "},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:54,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:37,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/client/components/LocationBar.tsx",lineNumber:34,columnNumber:5},this)}const lu=[{id:"home",label:"",icon:un,roles:["customer","barber","admin"]},{id:"search",label:"",icon:Ls,roles:["customer"]},{id:"bookings",label:"",icon:As,roles:["customer"]},{id:"requests",label:"",icon:Os,roles:["barber"]},{id:"new-post",label:"",icon:Pl,roles:["barber"]},{id:"profile",label:"",icon:Ka,roles:["customer","barber","admin"]}];function cu({children:s,user:t,activeTab:a,onTabChange:i,onLogout:n,onShowNotifications:l,onShowMessages:o}){const[c]=$e(),[d,p]=r.useState(0),m=c.notifications.filter(N=>!N.read).length;r.useEffect(()=>{const N=async()=>{try{const y=await W.getUnreadMessageCount();p(y.count)}catch(y){console.error("Error loading unread messages count:",y)}};N();const h=setInterval(N,3e4);return()=>clearInterval(h)},[]);const f=lu.filter(N=>N.roles.includes(t.role)),u=N=>N>=100?"":N>=51?"":N>=21?"":"",g=N=>N>=100?"VIP":N>=51?"":N>=21?"":"";return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("header",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxDEV("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-primary to-golden-600 rounded-lg flex items-center justify-center",children:e.jsxDEV(ys,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground"},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:131,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:130,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("h1",{className:"text-base sm:text-lg font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:134,columnNumber:15},this),e.jsxDEV(ou,{compact:!0,className:"hidden sm:block"},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:129,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.role==="barber"&&e.jsxDEV("div",{className:"hidden xs:flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[e.jsxDEV("span",{className:"text-xs",children:u(t.level)},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:144,columnNumber:17},this),e.jsxDEV("span",{className:"text-muted-foreground hidden sm:inline",children:g(t.level)},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:145,columnNumber:17},this),e.jsxDEV("span",{className:"text-primary font-medium",children:t.points},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:143,columnNumber:15},this),o&&e.jsxDEV("button",{onClick:o,className:"relative p-1.5 sm:p-2 hover:bg-muted/50 rounded-lg transition-colors",children:[e.jsxDEV(Os,{className:"h-4 w-4 sm:h-5 sm:w-5 text-foreground"},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:157,columnNumber:17},this),d>0&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center",children:d>9?"9+":d},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:159,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:153,columnNumber:15},this),l&&e.jsxDEV("button",{onClick:l,className:"relative p-1.5 sm:p-2 hover:bg-muted/50 rounded-lg transition-colors",children:[e.jsxDEV(pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-foreground"},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:171,columnNumber:17},this),m>0&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center",children:m>9?"9+":m},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:173,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.avatar_url?e.jsxDEV("img",{src:t.avatar_url,alt:t.name,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover"},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:182,columnNumber:17},this):e.jsxDEV("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-primary/20 to-golden-600/20 rounded-full flex items-center justify-center",children:e.jsxDEV("span",{className:"text-xs font-medium text-foreground",children:t.name?t.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:189,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:188,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs sm:text-sm font-medium text-foreground hidden sm:block truncate max-w-20",children:t.name},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:194,columnNumber:15},this),n&&e.jsxDEV("button",{onClick:n,className:"text-xs text-muted-foreground hover:text-destructive transition-colors ml-1 sm:ml-2",title:" ",children:""},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:198,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:128,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:127,columnNumber:7},this),e.jsxDEV("main",{className:"pb-20 min-h-[calc(100vh-80px)]",children:s},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:212,columnNumber:7},this),e.jsxDEV("nav",{className:"fixed bottom-0 left-0 right-0 bg-card/90 backdrop-blur-md border-t border-border/50 px-1 sm:px-2 py-2 z-50",children:e.jsxDEV("div",{className:"flex items-center justify-around max-w-md mx-auto",children:f.map(N=>{const h=N.icon,y=a===N.id;return e.jsxDEV("button",{onClick:()=>i(N.id),className:J("flex flex-col items-center gap-0.5 sm:gap-1 p-1.5 sm:p-2 rounded-lg transition-all duration-200 min-w-[50px] sm:min-w-[60px]",y?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[e.jsxDEV(h,{className:J("h-4 w-4 sm:h-5 sm:w-5",y&&"scale-110")},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:232,columnNumber:17},this),e.jsxDEV("span",{className:"text-xs font-medium truncate",children:N.label},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:238,columnNumber:17},this)]},N.id,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:222,columnNumber:15},this)})},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:216,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:215,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/components/Layout.tsx",lineNumber:125,columnNumber:5},this)}var oi="Avatar",[mu,Mp]=ht(oi),[du,io]=mu(oi),no=r.forwardRef((s,t)=>{const{__scopeAvatar:a,...i}=s,[n,l]=r.useState("idle");return L.jsx(du,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:L.jsx(Ee.span,{...i,ref:t})})});no.displayName=oi;var ro="AvatarImage",oo=r.forwardRef((s,t)=>{const{__scopeAvatar:a,src:i,onLoadingStatusChange:n=()=>{},...l}=s,o=io(ro,a),c=uu(i),d=js(p=>{n(p),o.onImageLoadingStatusChange(p)});return us(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?L.jsx(Ee.img,{...l,ref:t,src:i}):null});oo.displayName=ro;var lo="AvatarFallback",co=r.forwardRef((s,t)=>{const{__scopeAvatar:a,delayMs:i,...n}=s,l=io(lo,a),[o,c]=r.useState(i===void 0);return r.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(d)}},[i]),o&&l.imageLoadingStatus!=="loaded"?L.jsx(Ee.span,{...n,ref:t}):null});co.displayName=lo;function uu(s){const[t,a]=r.useState("idle");return us(()=>{if(!s){a("error");return}let i=!0;const n=new window.Image,l=o=>()=>{i&&a(o)};return a("loading"),n.onload=l("loaded"),n.onerror=l("error"),n.src=s,()=>{i=!1}},[s]),t}var mo=no,uo=oo,po=co;const Ce=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(mo,{ref:a,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/avatar.tsx",lineNumber:10,columnNumber:3},void 0));Ce.displayName=mo.displayName;const Ae=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(uo,{ref:a,className:J("aspect-square h-full w-full",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/avatar.tsx",lineNumber:25,columnNumber:3},void 0));Ae.displayName=uo.displayName;const _e=r.forwardRef(({className:s,...t},a)=>e.jsxDEV(po,{ref:a,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/avatar.tsx",lineNumber:37,columnNumber:3},void 0));_e.displayName=po.displayName;const jt=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t},void 0,!1,{fileName:"/app/code/client/components/ui/textarea.tsx",lineNumber:11,columnNumber:7},void 0));jt.displayName="Textarea";const Sa=s=>{const t=[],n=new Date,l=s===n.toISOString().split("T")[0];for(let o=9;o<17;o++)for(let c=0;c<60;c+=30){const d=`${o.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`;let p=!0;if(l){const m=n.getHours(),f=n.getMinutes();o<m||o===m&&c<=f?p=!1:p=Math.random()>.2}else p=Math.random()>.2;t.push({time:d,available:p})}return t},ka=Array.from({length:7},(s,t)=>{const a=new Date;return a.setDate(a.getDate()+t),{date:a.toISOString().split("T")[0],dayName:a.toLocaleDateString("ar-SA",{weekday:"long"}),dayNumber:a.getDate(),isToday:t===0}});function pu({barber:s,onBook:t,onBack:a}){const[i,n]=r.useState(ka[0].date),[l,o]=r.useState(null),[c,d]=r.useState(""),[p,m]=r.useState(!1),[f,u]=r.useState(Sa(ka[0].date)),[g,N]=r.useState([]),[h,y]=r.useState(!1);r.useEffect(()=>{u(Sa(i)),o(null),C()},[i,s.id]);const C=async()=>{if(!(!i||!s.id))try{y(!0);const x=await W.getAvailableSlots(s.id,i),w=x.filter(v=>!v.available).map(v=>v.time);N(w),u(x)}catch(x){console.error("Error loading booked slots:",x);const w=Sa(i);u(w),N([])}finally{y(!1)}},V=x=>x>=100?"":x>=51?"":x>=21?"":"",k=x=>x>=100?"VIP":x>=51?"":x>=21?"":"",j=()=>{if(!l)return;const x={barber_id:s.id,datetime:`${i}T${l}:00.000Z`,message:c.trim()||void 0};t(x),m(!0)};return p?e.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxDEV(R,{className:"w-full max-w-md border-border/50 bg-card/80 backdrop-blur-sm",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(ds,{className:"h-16 w-16 text-green-500 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:165,columnNumber:13},this),e.jsxDEV("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:166,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground mb-6",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:169,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3 mb-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:174,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:s.name},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:173,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:178,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:new Date(i).toLocaleDateString("ar-SA")},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:179,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:177,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:184,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:l},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:183,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:172,columnNumber:13},this),e.jsxDEV(S,{onClick:a,className:"w-full",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:164,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:163,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:162,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:a,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:203,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:202,columnNumber:11},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:201,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:200,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-16 w-16",children:[e.jsxDEV(Ae,{src:s.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:215,columnNumber:17},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-xl",children:s.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:216,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:214,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-foreground",children:s.name},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:223,columnNumber:19},this),e.jsxDEV("span",{children:V(s.level)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:226,columnNumber:19},this),e.jsxDEV(X,{variant:"outline",className:"text-xs",children:k(s.level)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:227,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:222,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ms,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:234,columnNumber:21},this),e.jsxDEV("span",{children:s.rating},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:235,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:233,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Qe,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:238,columnNumber:21},this),e.jsxDEV("span",{children:[s.distance," "]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:239,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:237,columnNumber:19},this),e.jsxDEV("div",{className:"text-primary font-medium",children:[s.price," ."]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:241,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:213,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:212,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:211,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"text-lg flex items-center gap-2",children:[e.jsxDEV(Sl,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:254,columnNumber:15},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:253,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:252,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-7 gap-2",children:ka.map(x=>e.jsxDEV("button",{onClick:()=>n(x.date),className:J("p-3 rounded-lg text-center transition-all",i===x.date?"bg-primary text-primary-foreground":"bg-muted/50 text-foreground hover:bg-muted",x.isToday&&"border border-primary"),children:[e.jsxDEV("div",{className:"text-xs font-medium",children:x.dayName},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:272,columnNumber:19},this),e.jsxDEV("div",{className:"text-lg font-bold",children:x.dayNumber},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:273,columnNumber:19},this)]},x.date,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:261,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:259,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:258,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:251,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"text-lg flex items-center gap-2",children:[e.jsxDEV(xs,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:284,columnNumber:15},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:283,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:282,columnNumber:11},this),e.jsxDEV(T,{children:h?e.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:Array.from({length:12}).map((x,w)=>e.jsxDEV("div",{className:"p-3 rounded-lg bg-muted/30 animate-pulse",children:e.jsxDEV("div",{className:"h-6 bg-muted rounded"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:296,columnNumber:21},this)},w,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:292,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:290,columnNumber:15},this):e.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:f.map(x=>e.jsxDEV("button",{onClick:()=>x.available&&o(x.time),disabled:!x.available,className:J("p-3 rounded-lg text-center transition-all",x.available?l===x.time?"bg-primary text-primary-foreground":"bg-muted/50 text-foreground hover:bg-muted":"bg-muted/30 text-muted-foreground cursor-not-allowed opacity-50"),children:x.time},x.time,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:303,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:301,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:288,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:281,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"text-lg",children:"  ()"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:327,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:326,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV(jt,{value:c,onChange:x=>d(x.target.value),placeholder:"        ...",className:"min-h-[80px] text-right",dir:"rtl"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:330,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:329,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:325,columnNumber:9},this),l&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"text-lg",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:344,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:343,columnNumber:13},this),e.jsxDEV(T,{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:348,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:new Date(i).toLocaleDateString("ar-SA",{weekday:"long",day:"numeric",month:"long"})},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:349,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:347,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:358,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:l},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:359,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:357,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:362,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium text-primary",children:[s.price," ."]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:363,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:361,columnNumber:15},this),e.jsxDEV("div",{className:"pt-3 border-t border-border",children:e.jsxDEV(S,{onClick:j,className:"w-full bg-primary hover:bg-primary/90",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:368,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:367,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:346,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:342,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:209,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/BookingPage.tsx",lineNumber:198,columnNumber:5},this)}function Nu(s,t){return r.useReducer((a,i)=>t[a][i]??a,s)}var li="ScrollArea",[No,Bp]=ht(li),[fu,vs]=No(li),fo=r.forwardRef((s,t)=>{const{__scopeScrollArea:a,type:i="hover",dir:n,scrollHideDelay:l=600,...o}=s,[c,d]=r.useState(null),[p,m]=r.useState(null),[f,u]=r.useState(null),[g,N]=r.useState(null),[h,y]=r.useState(null),[C,V]=r.useState(0),[k,j]=r.useState(0),[x,w]=r.useState(!1),[v,D]=r.useState(!1),b=Oe(t,A=>d(A)),P=Ha(n);return L.jsx(fu,{scope:a,type:i,dir:P,scrollHideDelay:l,scrollArea:c,viewport:p,onViewportChange:m,content:f,onContentChange:u,scrollbarX:g,onScrollbarXChange:N,scrollbarXEnabled:x,onScrollbarXEnabledChange:w,scrollbarY:h,onScrollbarYChange:y,scrollbarYEnabled:v,onScrollbarYEnabledChange:D,onCornerWidthChange:V,onCornerHeightChange:j,children:L.jsx(Ee.div,{dir:P,...o,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":k+"px",...s.style}})})});fo.displayName=li;var bo="ScrollAreaViewport",go=r.forwardRef((s,t)=>{const{__scopeScrollArea:a,children:i,nonce:n,...l}=s,o=vs(bo,a),c=r.useRef(null),d=Oe(t,c,o.onViewportChange);return L.jsxs(L.Fragment,{children:[L.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),L.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...l,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...s.style},children:L.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});go.displayName=bo;var _s="ScrollAreaScrollbar",ci=r.forwardRef((s,t)=>{const{forceMount:a,...i}=s,n=vs(_s,s.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:o}=n,c=s.orientation==="horizontal";return r.useEffect(()=>(c?l(!0):o(!0),()=>{c?l(!1):o(!1)}),[c,l,o]),n.type==="hover"?L.jsx(bu,{...i,ref:t,forceMount:a}):n.type==="scroll"?L.jsx(gu,{...i,ref:t,forceMount:a}):n.type==="auto"?L.jsx(ho,{...i,ref:t,forceMount:a}):n.type==="always"?L.jsx(mi,{...i,ref:t}):null});ci.displayName=_s;var bu=r.forwardRef((s,t)=>{const{forceMount:a,...i}=s,n=vs(_s,s.__scopeScrollArea),[l,o]=r.useState(!1);return r.useEffect(()=>{const c=n.scrollArea;let d=0;if(c){const p=()=>{window.clearTimeout(d),o(!0)},m=()=>{d=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return c.addEventListener("pointerenter",p),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",p),c.removeEventListener("pointerleave",m)}}},[n.scrollArea,n.scrollHideDelay]),L.jsx(It,{present:a||l,children:L.jsx(ho,{"data-state":l?"visible":"hidden",...i,ref:t})})}),gu=r.forwardRef((s,t)=>{const{forceMount:a,...i}=s,n=vs(_s,s.__scopeScrollArea),l=s.orientation==="horizontal",o=xa(()=>d("SCROLL_END"),100),[c,d]=Nu("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return r.useEffect(()=>{if(c==="idle"){const p=window.setTimeout(()=>d("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(p)}},[c,n.scrollHideDelay,d]),r.useEffect(()=>{const p=n.viewport,m=l?"scrollLeft":"scrollTop";if(p){let f=p[m];const u=()=>{const g=p[m];f!==g&&(d("SCROLL"),o()),f=g};return p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[n.viewport,l,d,o]),L.jsx(It,{present:a||c!=="hidden",children:L.jsx(mi,{"data-state":c==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:xe(s.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:xe(s.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),ho=r.forwardRef((s,t)=>{const a=vs(_s,s.__scopeScrollArea),{forceMount:i,...n}=s,[l,o]=r.useState(!1),c=s.orientation==="horizontal",d=xa(()=>{if(a.viewport){const p=a.viewport.offsetWidth<a.viewport.scrollWidth,m=a.viewport.offsetHeight<a.viewport.scrollHeight;o(c?p:m)}},10);return gt(a.viewport,d),gt(a.content,d),L.jsx(It,{present:i||l,children:L.jsx(mi,{"data-state":l?"visible":"hidden",...n,ref:t})})}),mi=r.forwardRef((s,t)=>{const{orientation:a="vertical",...i}=s,n=vs(_s,s.__scopeScrollArea),l=r.useRef(null),o=r.useRef(0),[c,d]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=jo(c.viewport,c.content),m={...i,sizes:c,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:u=>l.current=u,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:u=>o.current=u};function f(u,g){return ju(u,o.current,c,g)}return a==="horizontal"?L.jsx(hu,{...m,ref:t,onThumbPositionChange:()=>{if(n.viewport&&l.current){const u=n.viewport.scrollLeft,g=Oi(u,c,n.dir);l.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:u=>{n.viewport&&(n.viewport.scrollLeft=u)},onDragScroll:u=>{n.viewport&&(n.viewport.scrollLeft=f(u,n.dir))}}):a==="vertical"?L.jsx(xu,{...m,ref:t,onThumbPositionChange:()=>{if(n.viewport&&l.current){const u=n.viewport.scrollTop,g=Oi(u,c);l.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:u=>{n.viewport&&(n.viewport.scrollTop=u)},onDragScroll:u=>{n.viewport&&(n.viewport.scrollTop=f(u))}}):null}),hu=r.forwardRef((s,t)=>{const{sizes:a,onSizesChange:i,...n}=s,l=vs(_s,s.__scopeScrollArea),[o,c]=r.useState(),d=r.useRef(null),p=Oe(t,d,l.onScrollbarXChange);return r.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),L.jsx(vo,{"data-orientation":"horizontal",...n,ref:p,sizes:a,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ha(a)+"px",...s.style},onThumbPointerDown:m=>s.onThumbPointerDown(m.x),onDragScroll:m=>s.onDragScroll(m.x),onWheelScroll:(m,f)=>{if(l.viewport){const u=l.viewport.scrollLeft+m.deltaX;s.onWheelScroll(u),Vo(u,f)&&m.preventDefault()}},onResize:()=>{d.current&&l.viewport&&o&&i({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:oa(o.paddingLeft),paddingEnd:oa(o.paddingRight)}})}})}),xu=r.forwardRef((s,t)=>{const{sizes:a,onSizesChange:i,...n}=s,l=vs(_s,s.__scopeScrollArea),[o,c]=r.useState(),d=r.useRef(null),p=Oe(t,d,l.onScrollbarYChange);return r.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),L.jsx(vo,{"data-orientation":"vertical",...n,ref:p,sizes:a,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ha(a)+"px",...s.style},onThumbPointerDown:m=>s.onThumbPointerDown(m.y),onDragScroll:m=>s.onDragScroll(m.y),onWheelScroll:(m,f)=>{if(l.viewport){const u=l.viewport.scrollTop+m.deltaY;s.onWheelScroll(u),Vo(u,f)&&m.preventDefault()}},onResize:()=>{d.current&&l.viewport&&o&&i({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:oa(o.paddingTop),paddingEnd:oa(o.paddingBottom)}})}})}),[vu,xo]=No(_s),vo=r.forwardRef((s,t)=>{const{__scopeScrollArea:a,sizes:i,hasThumb:n,onThumbChange:l,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:m,onResize:f,...u}=s,g=vs(_s,a),[N,h]=r.useState(null),y=Oe(t,b=>h(b)),C=r.useRef(null),V=r.useRef(""),k=g.viewport,j=i.content-i.viewport,x=js(m),w=js(d),v=xa(f,10);function D(b){if(C.current){const P=b.clientX-C.current.left,A=b.clientY-C.current.top;p({x:P,y:A})}}return r.useEffect(()=>{const b=P=>{const A=P.target;N?.contains(A)&&x(P,j)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[k,N,j,x]),r.useEffect(w,[i,w]),gt(N,v),gt(g.content,v),L.jsx(vu,{scope:a,scrollbar:N,hasThumb:n,onThumbChange:js(l),onThumbPointerUp:js(o),onThumbPositionChange:w,onThumbPointerDown:js(c),children:L.jsx(Ee.div,{...u,ref:y,style:{position:"absolute",...u.style},onPointerDown:xe(s.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),C.current=N.getBoundingClientRect(),V.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),D(b))}),onPointerMove:xe(s.onPointerMove,D),onPointerUp:xe(s.onPointerUp,b=>{const P=b.target;P.hasPointerCapture(b.pointerId)&&P.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=V.current,g.viewport&&(g.viewport.style.scrollBehavior=""),C.current=null})})})}),ra="ScrollAreaThumb",Do=r.forwardRef((s,t)=>{const{forceMount:a,...i}=s,n=xo(ra,s.__scopeScrollArea);return L.jsx(It,{present:a||n.hasThumb,children:L.jsx(Du,{ref:t,...i})})}),Du=r.forwardRef((s,t)=>{const{__scopeScrollArea:a,style:i,...n}=s,l=vs(ra,a),o=xo(ra,a),{onThumbPositionChange:c}=o,d=Oe(t,f=>o.onThumbChange(f)),p=r.useRef(),m=xa(()=>{p.current&&(p.current(),p.current=void 0)},100);return r.useEffect(()=>{const f=l.viewport;if(f){const u=()=>{if(m(),!p.current){const g=wu(f,c);p.current=g,c()}};return c(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[l.viewport,m,c]),L.jsx(Ee.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:xe(s.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),N=f.clientX-g.left,h=f.clientY-g.top;o.onThumbPointerDown({x:N,y:h})}),onPointerUp:xe(s.onPointerUp,o.onThumbPointerUp)})});Do.displayName=ra;var di="ScrollAreaCorner",Eo=r.forwardRef((s,t)=>{const a=vs(di,s.__scopeScrollArea),i=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&i?L.jsx(Eu,{...s,ref:t}):null});Eo.displayName=di;var Eu=r.forwardRef((s,t)=>{const{__scopeScrollArea:a,...i}=s,n=vs(di,a),[l,o]=r.useState(0),[c,d]=r.useState(0),p=!!(l&&c);return gt(n.scrollbarX,()=>{const m=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(m),d(m)}),gt(n.scrollbarY,()=>{const m=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(m),o(m)}),p?L.jsx(Ee.div,{...i,ref:t,style:{width:l,height:c,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function oa(s){return s?parseInt(s,10):0}function jo(s,t){const a=s/t;return isNaN(a)?0:a}function ha(s){const t=jo(s.viewport,s.content),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=(s.scrollbar.size-a)*t;return Math.max(i,18)}function ju(s,t,a,i="ltr"){const n=ha(a),l=n/2,o=t||l,c=n-o,d=a.scrollbar.paddingStart+o,p=a.scrollbar.size-a.scrollbar.paddingEnd-c,m=a.content-a.viewport,f=i==="ltr"?[0,m]:[m*-1,0];return wo([d,p],f)(s)}function Oi(s,t,a="ltr"){const i=ha(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-n,o=t.content-t.viewport,c=l-i,d=a==="ltr"?[0,o]:[o*-1,0],p=Ba(s,d);return wo([0,o],[0,c])(p)}function wo(s,t){return a=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(s[1]-s[0]);return t[0]+i*(a-s[0])}}function Vo(s,t){return s>0&&s<t}var wu=(s,t=()=>{})=>{let a={left:s.scrollLeft,top:s.scrollTop},i=0;return function n(){const l={left:s.scrollLeft,top:s.scrollTop},o=a.left!==l.left,c=a.top!==l.top;(o||c)&&t(),a=l,i=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(i)};function xa(s,t){const a=js(s),i=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),r.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(a,t)},[a,t])}function gt(s,t){const a=js(t);us(()=>{let i=0;if(s){const n=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(a)});return n.observe(s),()=>{window.cancelAnimationFrame(i),n.unobserve(s)}}},[s,a])}var yo=fo,Vu=go,yu=Eo;const ui=r.forwardRef(({className:s,children:t,...a},i)=>e.jsxDEV(yo,{ref:i,className:J("relative overflow-hidden",s),...a,children:[e.jsxDEV(Vu,{className:"h-full w-full rounded-[inherit]",children:t},void 0,!1,{fileName:"/app/code/client/components/ui/scroll-area.tsx",lineNumber:15,columnNumber:5},void 0),e.jsxDEV(Po,{},void 0,!1,{fileName:"/app/code/client/components/ui/scroll-area.tsx",lineNumber:18,columnNumber:5},void 0),e.jsxDEV(yu,{},void 0,!1,{fileName:"/app/code/client/components/ui/scroll-area.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/app/code/client/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));ui.displayName=yo.displayName;const Po=r.forwardRef(({className:s,orientation:t="vertical",...a},i)=>e.jsxDEV(ci,{ref:i,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...a,children:e.jsxDEV(Do,{className:"relative flex-1 rounded-full bg-border"},void 0,!1,{fileName:"/app/code/client/components/ui/scroll-area.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/scroll-area.tsx",lineNumber:28,columnNumber:3},void 0));Po.displayName=ci.displayName;function So({post:s,user:t,onBack:a,onLike:i}){const[n,l]=r.useState(!1),[o,c]=r.useState(s.likes||0),[d,p]=r.useState([]),[m,f]=r.useState(""),[u,g]=r.useState(!1),[N,h]=r.useState(!1);r.useEffect(()=>{y()},[s.id]);const y=async()=>{try{g(!0);const j=await W.getPostComments(s.id);p(j.comments||[])}catch(j){console.error("Error loading comments:",j),p([])}finally{g(!1)}},C=async()=>{try{const j=n,x=o;l(!n),c(n?o-1:o+1),n?await W.unlikePost(s.id):await W.likePost(s.id),i?.(s.id)}catch(j){l(!n),c(o),console.error("Error toggling like:",j)}},V=async()=>{if(!(!m.trim()||N))try{h(!0);const j=await W.createPostComment(s.id,m.trim());p(x=>[...x,j]),f("")}catch(j){console.error("Error submitting comment:",j)}finally{h(!1)}},k=j=>{const x=new Date,w=new Date(j),v=Math.floor((x.getTime()-w.getTime())/(1e3*60*60));if(v<1)return"";if(v<24)return` ${v} `;const D=Math.floor(v/24);return D===1?"":D<7?` ${D} `:w.toLocaleDateString("ar-SA")};return e.jsxDEV("div",{className:"flex flex-col h-screen bg-background",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b bg-background/95 backdrop-blur-sm",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:a,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:132,columnNumber:9},this),e.jsxDEV("h1",{className:"font-semibold",children:""},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:135,columnNumber:9},this),e.jsxDEV(S,{variant:"ghost",size:"icon",children:e.jsxDEV(kl,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:137,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:136,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:131,columnNumber:7},this),e.jsxDEV(ui,{className:"flex-1",children:e.jsxDEV("div",{className:"space-y-0",children:[e.jsxDEV("div",{className:"flex items-center gap-3 p-4",children:[e.jsxDEV(Ce,{className:"h-10 w-10",children:[e.jsxDEV(Ae,{src:s.user?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:146,columnNumber:15},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:s.user?.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:145,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"font-semibold text-sm",children:s.user?.name||""},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:153,columnNumber:17},this),s.user?.is_verified&&e.jsxDEV("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:158,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:152,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:k(s.created_at)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:151,columnNumber:13},this),e.jsxDEV(S,{variant:"outline",size:"sm",children:""},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:144,columnNumber:11},this),e.jsxDEV("div",{className:"relative aspect-square bg-black",children:e.jsxDEV("img",{src:s.image_url,alt:s.caption,className:"w-full h-full object-cover",loading:"lazy"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:173,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:172,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center justify-between p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{onClick:C,className:"p-2 -m-2 hover:scale-110 transition-transform",children:e.jsxDEV(Ms,{className:J("h-6 w-6 transition-colors",n?"fill-red-500 text-red-500":"text-foreground")},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:188,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:184,columnNumber:15},this),e.jsxDEV("button",{className:"p-2 -m-2 hover:scale-110 transition-transform",children:e.jsxDEV(Os,{className:"h-6 w-6 text-foreground"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:196,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:195,columnNumber:15},this),e.jsxDEV("button",{className:"p-2 -m-2 hover:scale-110 transition-transform",children:e.jsxDEV(Cl,{className:"h-6 w-6 text-foreground"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:199,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:198,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:183,columnNumber:13},this),e.jsxDEV("button",{className:"p-2 -m-2 hover:scale-110 transition-transform",children:e.jsxDEV(Al,{className:"h-6 w-6 text-foreground"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:203,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:182,columnNumber:11},this),e.jsxDEV("div",{className:"px-4 pb-2",children:e.jsxDEV("p",{className:"font-semibold text-sm",children:[o.toLocaleString("ar-SA")," "]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:209,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:208,columnNumber:11},this),s.caption&&e.jsxDEV("div",{className:"px-4 pb-3",children:e.jsxDEV("p",{className:"text-sm",children:[e.jsxDEV("span",{className:"font-semibold mr-2",children:s.user?.name||""},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:218,columnNumber:17},this),e.jsxDEV("span",{children:s.caption},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:221,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3 px-4 pb-4",children:[u?e.jsxDEV("div",{className:"space-y-3",children:Array.from({length:3}).map((j,x)=>e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"w-8 h-8 bg-muted rounded-full animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:232,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"h-4 bg-muted rounded animate-pulse w-1/3"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:234,columnNumber:23},this),e.jsxDEV("div",{className:"h-3 bg-muted rounded animate-pulse w-2/3"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:235,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:233,columnNumber:21},this)]},x,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:231,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:229,columnNumber:15},this):d.map(j=>e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Ce,{className:"h-8 w-8",children:[e.jsxDEV(Ae,{src:j.user.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:244,columnNumber:21},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-xs",children:j.user.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:245,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:243,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm",children:[e.jsxDEV("span",{className:"font-semibold mr-2",children:j.user.name},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:251,columnNumber:23},this),e.jsxDEV("span",{children:j.comment},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:254,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:250,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-4 mt-1",children:[e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:k(j.created_at)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:257,columnNumber:23},this),e.jsxDEV("button",{className:"text-xs text-muted-foreground font-medium",children:""},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:260,columnNumber:23},this),e.jsxDEV("button",{className:"text-xs text-muted-foreground",children:e.jsxDEV(Ms,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:264,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:263,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:256,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:249,columnNumber:19},this)]},j.id,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:242,columnNumber:17},this)),d.length===0&&!u&&e.jsxDEV("div",{className:"text-center py-6",children:[e.jsxDEV(Os,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:274,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:275,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:273,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:142,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:141,columnNumber:7},this),e.jsxDEV("div",{className:"border-t bg-background p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-8 w-8",children:[e.jsxDEV(Ae,{src:t.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:291,columnNumber:13},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-xs",children:t.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:292,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:290,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 flex items-center gap-2",children:[e.jsxDEV(He,{value:m,onChange:j=>f(j.target.value),placeholder:" ...",className:"flex-1 border-none bg-muted/50 focus-visible:ring-1",onKeyPress:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),V())}},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:297,columnNumber:13},this),e.jsxDEV(S,{onClick:V,disabled:!m.trim()||N,size:"sm",className:"px-3",children:N?e.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:316,columnNumber:17},this):e.jsxDEV(pn,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:318,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:309,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:296,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:289,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:288,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/PostViewPage.tsx",lineNumber:129,columnNumber:5},this)}function ko({profileUser:s,currentUser:t,onBack:a,onFollow:i,onUnfollow:n,onBooking:l,onMessage:o}){const[c,d]=$e(),[p,m]=r.useState("posts"),[f,u]=r.useState(s.isFollowed||!1),[g,N]=r.useState([]),[h,y]=r.useState(!0),[C,V]=r.useState(0),[k,j]=r.useState(0),[x,w]=r.useState(!0),[v,D]=r.useState(new Set),[b,P]=r.useState(null),[A,I]=r.useState(!1);r.useEffect(()=>{Z(),Q()},[s.id]);const Q=async()=>{try{w(!0);const $=await W.getFollows("followers"),le=await W.getFollows("following");V($.total||0),j(le.total||0)}catch($){console.error("Error loading user stats:",$),V(0),j(0)}finally{w(!1)}},Z=async()=>{try{y(!0);const le=((await W.getPosts()).posts||[]).filter(G=>G.user_id===s.id);N(le),console.log(`Loaded ${le.length} posts for user ${s.name}`)}catch($){console.error("Error loading user posts:",$),N([])}finally{y(!1)}},ne=$=>$>=100?"":$>=51?"":$>=21?"":"",ue=$=>$>=100?"VIP":$>=51?"":$>=21?"":"",Ne=async()=>{const $=f;try{u(!f),f?(await W.unfollowUser(s.id),n?.()):(await W.followUser(s.id),i?.()),d.addNotification({id:Date.now().toString(),type:f?"friend_request":"new_follower",title:f?" ":" ",message:f?`   ${s.name}`:`  ${s.name}`,data:{userId:s.id},read:!1,created_at:new Date().toISOString()})}catch(le){u($),console.error("Error toggling follow:",le)}},ee=async($,le)=>{le.stopPropagation();try{v.has($)?(await W.unlikePost($),D(G=>{const se=new Set(G);return se.delete($),se}),N(G=>G.map(se=>se.id===$?{...se,likes:Math.max(0,(se.likes||0)-1)}:se))):(await W.likePost($),D(G=>new Set(G).add($)),N(G=>G.map(se=>se.id===$?{...se,likes:(se.likes||0)+1}:se)))}catch(G){console.error("Error toggling like:",G)}};return A&&b?e.jsxDEV(So,{post:b,user:t,onBack:()=>{I(!1),P(null)},onLike:$=>{v.has($)?D(le=>{const G=new Set(le);return G.delete($),G}):D(le=>new Set(le).add($))}},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:205,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-sm border-b",children:e.jsxDEV("div",{className:"flex items-center gap-3 p-4",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:a,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:233,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:232,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h1",{className:"font-bold text-lg",children:s.name},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:236,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s.role==="barber"?"":""},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:237,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:235,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:231,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:230,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-start gap-4 mb-6",children:[e.jsxDEV(Ce,{className:"h-20 w-20",children:[e.jsxDEV(Ae,{src:s.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:250,columnNumber:17},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-xl",children:s.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:251,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:249,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV("h2",{className:"text-xl font-bold",children:s.name},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:258,columnNumber:19},this),e.jsxDEV("span",{children:ne(s.level)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:259,columnNumber:19},this),s.is_verified&&e.jsxDEV(X,{variant:"secondary",className:"text-xs",children:""},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:261,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:257,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Vs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:269,columnNumber:21},this),e.jsxDEV("span",{children:[C," "]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:270,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:268,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:273,columnNumber:21},this),e.jsxDEV("span",{children:[g.length," "]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:272,columnNumber:19},this),s.rating&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ms,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:278,columnNumber:23},this),e.jsxDEV("span",{children:s.rating},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:279,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:277,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:267,columnNumber:17},this),s.distance&&e.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-3",children:[e.jsxDEV(Qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:286,columnNumber:21},this),e.jsxDEV("span",{children:[s.distance," "]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:287,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:285,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:256,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:248,columnNumber:13},this),s.id!==t.id&&e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(S,{onClick:Ne,variant:f?"outline":"default",className:"flex-1",children:f?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Nn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:303,columnNumber:23},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:302,columnNumber:21},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ea,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:308,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:307,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:296,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-3",children:[s.role==="barber"&&e.jsxDEV(S,{variant:"outline",onClick:l,className:"flex-1 sm:flex-none text-sm",children:[e.jsxDEV(As,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:321,columnNumber:23},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:316,columnNumber:21},this),e.jsxDEV(S,{variant:"outline",size:"icon",className:"shrink-0",onClick:o,title:" ",children:e.jsxDEV(Os,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:333,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:326,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:314,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:295,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:247,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:246,columnNumber:9},this),s.role==="barber"&&e.jsxDEV(Qs,{value:p,onValueChange:m,children:[e.jsxDEV(Hs,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(Me,{value:"posts",children:""},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:345,columnNumber:15},this),e.jsxDEV(Me,{value:"info",children:""},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:346,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:344,columnNumber:13},this),e.jsxDEV("div",{className:"mt-6",children:[e.jsxDEV(We,{value:"posts",children:h?e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Array.from({length:6}).map(($,le)=>e.jsxDEV("div",{className:"aspect-square bg-muted rounded-lg animate-pulse"},le,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:354,columnNumber:23},this))},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:352,columnNumber:19},this):g.length>0?e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:g.map($=>e.jsxDEV("div",{className:"aspect-square relative group cursor-pointer overflow-hidden rounded-lg bg-card/50 border border-border/50 transition-transform hover:scale-105",onClick:()=>{P($),I(!0)},children:[e.jsxDEV("img",{src:$.image_url||"/placeholder.svg",alt:"Post",className:"w-full h-full object-cover transition-transform group-hover:scale-110"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:371,columnNumber:25},this),e.jsxDEV("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV("div",{className:"flex items-center gap-4 text-white",children:[e.jsxDEV("button",{onClick:le=>ee($.id,le),className:"flex items-center gap-1 hover:scale-110 transition-transform",children:[e.jsxDEV(Ms,{className:`h-5 w-5 ${v.has($.id)?"fill-red-500 text-red-500":"fill-white"}`},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:384,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm font-medium",children:$.likes||0},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:387,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:380,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Os,{className:"h-5 w-5 fill-white"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:392,columnNumber:31},this),e.jsxDEV("span",{className:"text-sm font-medium",children:"0"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:393,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:391,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:379,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:378,columnNumber:25},this)]},$.id,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:363,columnNumber:23},this))},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:361,columnNumber:19},this):e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(ys,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:403,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:404,columnNumber:23},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"       "},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:407,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:402,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:401,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:350,columnNumber:15},this),e.jsxDEV(We,{value:"info",children:e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:418,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:417,columnNumber:19},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:422,columnNumber:23},this),e.jsxDEV("span",{className:"font-medium",children:ue(s.level)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:423,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:421,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:428,columnNumber:23},this),e.jsxDEV("span",{className:"font-medium text-primary",children:s.points},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:429,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:427,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:434,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ms,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:436,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:s.rating||"0"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:437,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:435,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:433,columnNumber:21},this),s.distance&&e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:444,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:[s.distance," "]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:445,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:443,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:451,columnNumber:23},this),e.jsxDEV(X,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20",children:s.is_verified?"":" "},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:454,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:450,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:420,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:416,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:415,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:349,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:343,columnNumber:11},this),s.role==="customer"&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:472,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:471,columnNumber:13},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:476,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium text-primary",children:s.bookings||0},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:477,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:475,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:482,columnNumber:17},this),e.jsxDEV("span",{className:"font-medium",children:new Date(s.created_at).toLocaleDateString("ar-SA")},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:483,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:481,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:488,columnNumber:17},this),e.jsxDEV(X,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20",children:""},void 0,!1,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:489,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:487,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:474,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:470,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:244,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/UserProfile.tsx",lineNumber:228,columnNumber:5},this)}const Pu=[{key:"service_quality",label:" ",icon:""},{key:"punctuality",label:" ",icon:""},{key:"cleanliness",label:"",icon:""},{key:"communication",label:"",icon:""}];function Su({user:s,booking:t,barberId:a,onBack:i,onComplete:n}){const[l,o]=$e(),[c,d]=r.useState(!1),[p,m]=r.useState(!1),[f,u]=r.useState(null),[g,N]=r.useState(null),[h,y]=r.useState({stars:0,comment:"",categories:{service_quality:0,punctuality:0,cleanliness:0,communication:0}});r.useEffect(()=>{C(),V()},[]);const C=async()=>{try{const A=a||t?.barber_id;if(A){const Q=(await W.getBarbers()).barbers?.find(Z=>Z.id===A);Q&&N(Q)}}catch(A){console.error("Error loading barber info:",A)}},V=async()=>{},k=A=>{y(I=>({...I,stars:A}))},j=(A,I)=>{y(Q=>({...Q,categories:{...Q.categories,[A]:I}}))},x=()=>{if(h.stars>0)return h.stars;const I=Object.values(h.categories).filter(Q=>Q>0);return I.length===0?0:Math.round(I.reduce((Q,Z)=>Q+Z,0)/I.length)},w=async()=>{const A=x();if(A===0){alert("   ");return}d(!0);try{const I={customer_id:s.id,barber_id:a||t?.barber_id||"",booking_id:t?.id,stars:A,comment:h.comment.trim()||void 0};await W.createRating(I),o.addNotification({id:Date.now().toString(),type:"new_rating",title:" ",message:`   ${A}   ${s.name}`,data:{rating:A,customer:s.name},read:!1,created_at:new Date().toISOString()}),m(!0)}catch(I){console.error("Error submitting rating:",I),alert("    ")}finally{d(!1)}},v=()=>{m(!1),n?.(),i()},D=A=>A>=100?"":A>=51?"":A>=21?"":"",b=A=>A>=100?"VIP":A>=51?"":A>=21?"":"",P=(A,I,Q="md")=>{const Z={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return e.jsxDEV("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ne=>e.jsxDEV("button",{onClick:()=>I?.(ne),disabled:!I,className:J("transition-colors",I&&"hover:scale-110 cursor-pointer"),children:e.jsxDEV(ms,{className:J(Z[Q],ne<=A?"fill-yellow-400 text-yellow-400":"text-gray-300")},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:234,columnNumber:13},this)},ne,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:225,columnNumber:11},this))},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:223,columnNumber:7},this)};return f?e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:i,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:254,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:253,columnNumber:13},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:256,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:252,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:251,columnNumber:9},this),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-6 text-center",children:[e.jsxDEV(ds,{className:"h-16 w-16 text-green-500 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:263,columnNumber:15},this),e.jsxDEV("h3",{className:"text-xl font-bold text-foreground mb-2",children:" "},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:264,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:267,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[P(f.stars,void 0,"lg"),f.comment&&e.jsxDEV("p",{className:"text-foreground mt-4",children:['"',f.comment,'"']},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:273,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:262,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:261,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:260,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:250,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:i,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:291,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:290,columnNumber:11},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:293,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:289,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:288,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:[g&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-16 w-16",children:[e.jsxDEV(Ae,{src:g.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:304,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-xl",children:g.name?g.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:305,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:303,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"font-semibold text-foreground",children:g.name},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:312,columnNumber:21},this),e.jsxDEV("span",{children:D(g.level)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:315,columnNumber:21},this),e.jsxDEV(X,{variant:"outline",className:"bg-golden-500/10 text-golden-500 border-golden-500/20",children:b(g.level)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:316,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:311,columnNumber:19},this),t&&e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxDEV(As,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:326,columnNumber:23},this),e.jsxDEV("span",{children:new Date(t.datetime).toLocaleDateString("ar-SA")},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:327,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:325,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:302,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:301,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:300,columnNumber:11},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"text-center",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:341,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:340,columnNumber:11},this),e.jsxDEV(T,{className:"text-center space-y-4",children:[e.jsxDEV("div",{className:"flex justify-center",children:P(h.stars,k,"lg")},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:344,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:347,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:343,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:339,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:"  ()"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:356,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:355,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:Pu.map(A=>e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-xl",children:A.icon},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:365,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-foreground",children:A.label},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:366,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:364,columnNumber:17},this),P(h.categories[A.key],I=>j(A.key,I))]},A.key,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:360,columnNumber:15},this))},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:358,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:354,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" ()"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:388,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:387,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV(jt,{value:h.comment,onChange:A=>y(I=>({...I,comment:A.target.value})),placeholder:"   ...",className:"text-right min-h-[100px]",dir:"rtl"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:391,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:390,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:386,columnNumber:9},this),e.jsxDEV(S,{onClick:w,disabled:x()===0||c,className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:c?"  ...":" "},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:404,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:297,columnNumber:7},this),e.jsxDEV(Dt,{open:p,onOpenChange:m,children:e.jsxDEV(et,{className:"sm:max-w-md text-center",children:[e.jsxDEV(ks,{children:[e.jsxDEV("div",{className:"mx-auto mb-4",children:e.jsxDEV(ds,{className:"h-16 w-16 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:419,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:418,columnNumber:13},this),e.jsxDEV(Cs,{className:"text-center",children:"   !"},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:421,columnNumber:13},this),e.jsxDEV(Ws,{className:"text-center",children:"   .     ."},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:424,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:417,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"p-4 bg-muted/30 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-center mb-2",children:P(x(),void 0,"md")},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:431,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-foreground",children:[": ",x(),"  5 "]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:434,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:430,columnNumber:13},this),h.comment&&e.jsxDEV("div",{className:"p-4 bg-muted/30 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-foreground",children:['"',h.comment,'"']},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:441,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:440,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:429,columnNumber:11},this),e.jsxDEV(bt,{children:e.jsxDEV(S,{onClick:v,className:"w-full",children:""},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:447,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:446,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:416,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:415,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/RatingPage.tsx",lineNumber:286,columnNumber:5},this)}const ku=[{value:"newest",label:"",icon:""},{value:"rating",label:"",icon:""},{value:"distance",label:"",icon:""}];function Cu({user:s,onBack:t,onSelectBarber:a}){const[i,n]=r.useState(""),[l,o]=r.useState("newest"),[c,d]=r.useState([]),[p,m]=r.useState([]),[f,u]=r.useState(null),[g,N]=r.useState(!1),[h,y]=r.useState(!1),[C,V]=r.useState(new Set),[k,j]=r.useState(!1),[x,w]=r.useState({minRating:0,maxPrice:0,radius:50,services:[]});Et(),r.useEffect(()=>{(async()=>{try{y(!0);const A=(await W.getPosts()).posts||[];d(A),m(A),V(new Set)}catch(P){console.error("Error loading posts:",P),d([]),m([])}finally{y(!1)}})()},[]),r.useEffect(()=>{let b=[...c];switch(i.trim()&&(b=b.filter(P=>P.user?.name?.toLowerCase().includes(i.toLowerCase()))),l){case"newest":b.sort((P,A)=>new Date(A.created_at).getTime()-new Date(P.created_at).getTime());break;case"rating":b.sort((P,A)=>(A.user?.level||0)-(P.user?.level||0));break;case"distance":b.sort(()=>Math.random()-.5);break}m(b)},[i,l,c]);const v=b=>b>=100?"":b>=80?"":b>=60?"":"",D=async(b,P)=>{P.stopPropagation();try{C.has(b)?(await W.unlikePost(b),V(A=>{const I=new Set(A);return I.delete(b),I}),d(A=>A.map(I=>I.id===b?{...I,likes:Math.max(0,I.likes-1)}:I))):(await W.likePost(b),V(A=>new Set(A).add(b)),d(A=>A.map(I=>I.id===b?{...I,likes:I.likes+1}:I)))}catch(A){console.error("Error toggling like:",A)}};return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:189,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:188,columnNumber:11},this),e.jsxDEV("h1",{className:"text-base sm:text-lg font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:191,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:187,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:186,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ls,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:200,columnNumber:11},this),e.jsxDEV(He,{value:i,onChange:b=>n(b.target.value),placeholder:"  ...",className:"pr-10 text-right"},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:201,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:199,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:211,columnNumber:11},this),e.jsxDEV(is,{value:l,onValueChange:b=>o(b),children:[e.jsxDEV(es,{className:"w-auto",children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV(ss,{children:ku.map(b=>e.jsxDEV(De,{value:b.value,children:e.jsxDEV("span",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:b.icon},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:223,columnNumber:21},this),b.label]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:222,columnNumber:19},this)},b.value,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:221,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:212,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:210,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:p.map(b=>e.jsxDEV("div",{className:"aspect-square relative group cursor-pointer overflow-hidden rounded-lg bg-card/50 border border-border/50",onClick:()=>{u(b),N(!0)},children:[e.jsxDEV("img",{src:b.image_url,alt:b.caption,className:"w-full h-full object-cover transition-transform group-hover:scale-105",loading:"lazy"},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV("div",{className:"flex items-center gap-4 text-white",children:e.jsxDEV("button",{onClick:P=>D(b.id,P),className:"flex items-center gap-1 hover:scale-110 transition-transform",children:[e.jsxDEV(Ms,{className:`h-4 w-4 ${C.has(b.id)?"fill-red-500 text-red-500":"fill-white"}`},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:258,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-medium",children:b.likes||0},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:261,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:254,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:253,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:252,columnNumber:15},this),e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV(X,{variant:"secondary",className:"text-xs bg-black/50 text-white border-none",children:v(b.user.level)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:270,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:269,columnNumber:15},this)]},b.id,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:235,columnNumber:13},this))},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:233,columnNumber:9},this),p.length===0&&e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(Ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:284,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:285,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:i?"   ":"    "},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:288,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:283,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:197,columnNumber:7},this),g&&f&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-background",children:e.jsxDEV(So,{post:f,user:s,onBack:()=>{N(!1),u(null)},onLike:b=>{C.has(b)?V(P=>{const A=new Set(P);return A.delete(b),A}):V(P=>new Set(P).add(b))}},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:300,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:299,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/SearchPage.tsx",lineNumber:184,columnNumber:5},this)}var Au="Separator",Fi="horizontal",_u=["horizontal","vertical"],Co=r.forwardRef((s,t)=>{const{decorative:a,orientation:i=Fi,...n}=s,l=Tu(i)?i:Fi,c=a?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return L.jsx(Ee.div,{"data-orientation":l,...c,...n,ref:t})});Co.displayName=Au;function Tu(s){return _u.includes(s)}var Ao=Co;const Es=r.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...i},n)=>e.jsxDEV(Ao,{ref:n,decorative:a,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...i},void 0,!1,{fileName:"/app/code/client/components/ui/separator.tsx",lineNumber:14,columnNumber:5},void 0));Es.displayName=Ao.displayName;function _o({user:s,onBack:t}){const[a,i]=$e(),[n,l]=r.useState(!1),[o,c]=r.useState(!1),[d,p]=r.useState({notifications:{bookings:!0,ratings:!0,follows:!0,marketing:!1,pushEnabled:!0,emailEnabled:!0},privacy:{profileVisible:!0,showLocation:!0,showActivity:!0},preferences:{theme:"dark",language:"ar",currency:"IQD",distanceUnit:"km"},security:{twoFactorEnabled:!1,sessionTimeout:30}});r.useEffect(()=>{m()},[]);const m=async()=>{},f=(N,h,y)=>{p(C=>({...C,[N]:{...C[N],[h]:y}})),c(!0)},u=async()=>{l(!0);try{localStorage.setItem(`user_settings_${s.id}`,JSON.stringify(d)),d.preferences.theme==="dark"?document.documentElement.classList.add("dark"):d.preferences.theme==="light"&&document.documentElement.classList.remove("dark"),c(!1),i.addNotification({id:Date.now().toString(),type:"system",title:"  ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}catch(N){console.error("Error saving settings:",N)}finally{l(!1)}},g=async()=>{if(confirm("           .")&&prompt('  " "   :')===" ")try{alert("   ")}catch(h){console.error("Error deleting account:",h)}};return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:183,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:182,columnNumber:13},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:181,columnNumber:11},this),o&&e.jsxDEV(S,{onClick:u,disabled:n,className:"bg-primary hover:bg-primary/90",children:[e.jsxDEV(sa,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:194,columnNumber:15},this),n?"...":""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:189,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:180,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:179,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(pt,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:206,columnNumber:15},this),""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:205,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:204,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:213,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:214,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:212,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.notifications.bookings,onCheckedChange:N=>f("notifications","bookings",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:218,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:211,columnNumber:13},this),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:226,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:230,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:231,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:229,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.notifications.ratings,onCheckedChange:N=>f("notifications","ratings",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:235,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:228,columnNumber:13},this),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:243,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:247,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:248,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:246,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.notifications.follows,onCheckedChange:N=>f("notifications","follows",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:245,columnNumber:13},this),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:260,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:264,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:265,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:263,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.notifications.marketing,onCheckedChange:N=>f("notifications","marketing",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:269,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:262,columnNumber:13},this),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:277,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:280,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm",children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:282,columnNumber:17},this),e.jsxDEV(Ye,{checked:d.notifications.pushEnabled,onCheckedChange:N=>f("notifications","pushEnabled",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:283,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:281,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm",children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV(Ye,{checked:d.notifications.emailEnabled,onCheckedChange:N=>f("notifications","emailEnabled",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:290,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:279,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:203,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(ta,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:307,columnNumber:15},this),""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:306,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:305,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:"  "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:314,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:313,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.privacy.profileVisible,onCheckedChange:N=>f("privacy","profileVisible",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:319,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:312,columnNumber:13},this),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:327,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:331,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:330,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.privacy.showLocation,onCheckedChange:N=>f("privacy","showLocation",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:336,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:329,columnNumber:13},this),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:344,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:348,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:349,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:347,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.privacy.showActivity,onCheckedChange:N=>f("privacy","showActivity",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:353,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:346,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:311,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:304,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV($s,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:367,columnNumber:15},this),""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:366,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:365,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:373,columnNumber:15},this),e.jsxDEV(is,{value:d.preferences.theme,onValueChange:N=>f("preferences","theme",N),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:381,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:380,columnNumber:17},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"light",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(_l,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:386,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:385,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:384,columnNumber:19},this),e.jsxDEV(De,{value:"dark",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Tl,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:392,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:391,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:390,columnNumber:19},this),e.jsxDEV(De,{value:"auto",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(fn,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:398,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:397,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:396,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:383,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:374,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:372,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:407,columnNumber:15},this),e.jsxDEV(is,{value:d.preferences.language,onValueChange:N=>f("preferences","language",N),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:415,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:414,columnNumber:17},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"ar",children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:418,columnNumber:19},this),e.jsxDEV(De,{value:"en",children:"English"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:419,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:417,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:408,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:406,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:425,columnNumber:15},this),e.jsxDEV(is,{value:d.preferences.currency,onValueChange:N=>f("preferences","currency",N),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:433,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:432,columnNumber:17},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"IQD",children:"  (.)"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:436,columnNumber:19},this),e.jsxDEV(De,{value:"USD",children:"  ($)"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:437,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:435,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:426,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:424,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:443,columnNumber:15},this),e.jsxDEV(is,{value:d.preferences.distanceUnit,onValueChange:N=>f("preferences","distanceUnit",N),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:451,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:450,columnNumber:17},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"km",children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:454,columnNumber:19},this),e.jsxDEV(De,{value:"miles",children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:455,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:453,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:444,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:442,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:371,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:364,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(ta,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:466,columnNumber:15},this),""]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:465,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:464,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(he,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:473,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:474,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:472,columnNumber:15},this),e.jsxDEV(Ye,{checked:d.security.twoFactorEnabled,onCheckedChange:N=>f("security","twoFactorEnabled",N)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:478,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:471,columnNumber:13},this),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:486,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{children:"   ()"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:489,columnNumber:15},this),e.jsxDEV(is,{value:d.security.sessionTimeout.toString(),onValueChange:N=>f("security","sessionTimeout",Number(N)),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:497,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:496,columnNumber:17},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"15",children:"15 "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:500,columnNumber:19},this),e.jsxDEV(De,{value:"30",children:"30 "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:501,columnNumber:19},this),e.jsxDEV(De,{value:"60",children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:502,columnNumber:19},this),e.jsxDEV(De,{value:"120",children:""},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:503,columnNumber:19},this),e.jsxDEV(De,{value:"0",children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:504,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:499,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:490,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:488,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:470,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:463,columnNumber:9},this),e.jsxDEV(R,{className:"border-red-500/20 bg-red-500/5",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2 text-red-500",children:[e.jsxDEV(Nt,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:515,columnNumber:15},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:514,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:513,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:e.jsxDEV("div",{children:[e.jsxDEV(he,{className:"text-red-500",children:" "},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:521,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"     .      ."},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:522,columnNumber:15},this),e.jsxDEV(S,{variant:"destructive",onClick:g,className:"w-full",children:[e.jsxDEV(Nt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:531,columnNumber:17},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:526,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:520,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:519,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:512,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:201,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/SettingsPage.tsx",lineNumber:177,columnNumber:5},this)}function To({user:s,onBack:t,onSave:a}){const[i,n]=$e(),[l,o]=r.useState(!1),[c,d]=r.useState(!1),[p,m]=r.useState(!1),f=r.useRef(null),[u,g]=r.useState({name:s.name,email:s.email,phone:"",bio:"",location:{address:""},avatar_url:s.avatar_url}),N=(v,D)=>{g(b=>({...b,[v]:D})),m(!0)},h=(v,D)=>{g(b=>({...b,location:{...b.location,[v]:D}})),m(!0)},y=()=>{f.current?.click()},C=async v=>{const D=v.target.files?.[0];if(D){if(!D.type.startsWith("image/")){alert("    ");return}if(D.size>500*1024){alert("   .   500 ");return}d(!0);try{const b=document.createElement("canvas"),P=b.getContext("2d"),A=new Image;A.onload=()=>{b.width=200,b.height=200,P?.drawImage(A,0,0,200,200);const Q=b.toDataURL("image/jpeg",.7);g(Z=>({...Z,avatar_url:Q})),m(!0)},A.onerror=()=>{alert("   "),d(!1)};const I=new FileReader;I.onload=()=>{A.src=I.result},I.onerror=()=>{alert("    "),d(!1)},I.readAsDataURL(D),n.addNotification({id:Date.now().toString(),type:"system",title:"  ",message:"    ",data:null,read:!1,created_at:new Date().toISOString()})}catch(b){console.error("Error uploading avatar:",b),alert("    ")}finally{d(!1)}}},V=()=>{g(v=>({...v,avatar_url:void 0})),m(!0)},k=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async v=>{g(P=>({...P,location:{...P.location,lat:v.coords.latitude,lng:v.coords.longitude}})),m(!0);const D=v.coords.latitude,b=v.coords.longitude;try{const A=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${D}+${b}&key=YOUR_API_KEY&language=ar&pretty=1`)).json();if(A.results&&A.results.length>0){const I=A.results[0].formatted;h("address",I)}else h("address",`${D.toFixed(4)}, ${b.toFixed(4)}`)}catch(P){console.error("Reverse geocoding error:",P),h("address",`${D.toFixed(4)}, ${b.toFixed(4)}`)}},v=>{console.error("Location error:",{code:v.code,message:v.message||"Location error"}),alert("     ")}):alert("    ")},j=async()=>{if(!u.name.trim()){alert(" ");return}if(!u.email.trim()){alert("  ");return}o(!0);try{const v=await W.updateProfile({name:u.name,email:u.email,avatar_url:u.avatar_url});n.setUser(v.user),a?.(v.user),m(!1),n.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()}),t()}catch(v){console.error("Error saving profile:",v),alert("    ")}finally{o(!1)}},x=v=>v>=100?"":v>=51?"":v>=21?"":"",w=v=>v>=100?"VIP":v>=51?"":v>=21?"":"";return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:283,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:282,columnNumber:13},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:285,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:281,columnNumber:11},this),p&&e.jsxDEV(S,{onClick:j,disabled:l,className:"bg-primary hover:bg-primary/90",children:[e.jsxDEV(sa,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:296,columnNumber:15},this),l?"...":""]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:291,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:280,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:279,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:307,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:306,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ce,{className:"h-24 w-24",children:[e.jsxDEV(Ae,{src:u.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:313,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-2xl",children:u.name?u.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:314,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:312,columnNumber:17},this),c&&e.jsxDEV("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin h-6 w-6 border-2 border-white border-t-transparent rounded-full"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:321,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:320,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:311,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 space-y-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{variant:"outline",onClick:y,disabled:c,children:[e.jsxDEV(Rl,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:333,columnNumber:21},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:328,columnNumber:19},this),u.avatar_url&&e.jsxDEV(S,{variant:"outline",onClick:V,disabled:c,children:[e.jsxDEV(fs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:343,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:338,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"PNG, JPG  GIF -  5MB"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:349,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:326,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:310,columnNumber:13},this),e.jsxDEV("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:C},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:355,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:309,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:305,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:368,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:367,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"name",children:"  *"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:372,columnNumber:15},this),e.jsxDEV(He,{id:"name",value:u.name,onChange:v=>N("name",v.target.value),placeholder:"  ",className:"text-right"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:371,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"email",children:"  *"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:383,columnNumber:15},this),e.jsxDEV(He,{id:"email",type:"email",value:u.email,onChange:v=>N("email",v.target.value),placeholder:"example@email.com",className:"text-right",dir:"ltr"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:384,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:382,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"phone",children:" "},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:396,columnNumber:15},this),e.jsxDEV(He,{id:"phone",type:"tel",value:u.phone||"",onChange:v=>N("phone",v.target.value),placeholder:"+964 7XX XXX XXXX",className:"text-right",dir:"ltr"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:397,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:395,columnNumber:13},this),s.role==="barber"&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"bio",children:" "},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:410,columnNumber:17},this),e.jsxDEV(jt,{id:"bio",value:u.bio||"",onChange:v=>N("bio",v.target.value),placeholder:"     ...",className:"text-right min-h-[100px]",dir:"rtl"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:411,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:409,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:370,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:366,columnNumber:9},this),s.role==="barber"&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(Qe,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:429,columnNumber:17},this),""]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:428,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:427,columnNumber:13},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"address",children:""},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:435,columnNumber:17},this),e.jsxDEV(He,{id:"address",value:u.location?.address||"",onChange:v=>h("address",v.target.value),placeholder:"  ",className:"text-right"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:436,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:434,columnNumber:15},this),e.jsxDEV(S,{variant:"outline",onClick:k,className:"w-full",children:[e.jsxDEV(Qe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:452,columnNumber:17},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:447,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:433,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:426,columnNumber:11},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:462,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:461,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:466,columnNumber:15},this),e.jsxDEV(X,{variant:"outline",children:s.role==="customer"?"":s.role==="barber"?"":""},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:467,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:465,columnNumber:13},this),s.role==="barber"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:479,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:x(s.level)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:483,columnNumber:21},this),e.jsxDEV(X,{variant:"outline",className:"bg-golden-500/10 text-golden-500 border-golden-500/20",children:w(s.level)},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:484,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:482,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:478,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:494,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-primary",children:s.points},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:495,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:493,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:477,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:503,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm",children:new Date(s.created_at).toLocaleDateString("ar-SA")},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:506,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:502,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:512,columnNumber:15},this),e.jsxDEV(X,{className:s.is_verified?"bg-green-500/10 text-green-500 border-green-500/20":"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:s.is_verified?"":"  "},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:515,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:511,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:464,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:460,columnNumber:9},this),e.jsxDEV(S,{onClick:j,disabled:!p||l,className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:[e.jsxDEV(sa,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:535,columnNumber:11},this),l?" ...":" "]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:529,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:303,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/EditProfilePage.tsx",lineNumber:277,columnNumber:5},this)}function pi({user:s,onBack:t,targetUser:a}){const[i,n]=r.useState([]),[l,o]=r.useState(null),[c,d]=r.useState([]),[p,m]=r.useState(""),[f,u]=r.useState(""),[g,N]=r.useState(!1),[h,y]=r.useState(!1),C=r.useRef(null);r.useEffect(()=>{k()},[]),r.useEffect(()=>{a&&(o({user:a,lastMessage:void 0,unreadCount:0}),j(a.id))},[a]),r.useEffect(()=>{V()},[c]),r.useEffect(()=>{if(l){const b=setInterval(()=>{j(l.user.id)},3e3);return()=>clearInterval(b)}},[l]);const V=()=>{C.current?.scrollIntoView({behavior:"smooth"})},k=async()=>{try{N(!0);const b=await W.getConversations();n(b.conversations||[])}catch(b){console.error("Error loading conversations:",b);const P=[{user:{id:"barber_1",name:" ",email:"ahmed@example.com",role:"barber",status:"active",level:85,points:2500,is_verified:!0,created_at:new Date().toISOString()},lastMessage:{id:"msg_1",sender_id:"barber_1",receiver_id:s.id,content:"     ",created_at:new Date(Date.now()-1e3*60*30).toISOString(),read:!1},unreadCount:2},{user:{id:"barber_2",name:" ",email:"mohammed@example.com",role:"barber",status:"active",level:92,points:3200,is_verified:!0,created_at:new Date().toISOString()},lastMessage:{id:"msg_2",sender_id:s.id,receiver_id:"barber_2",content:"    ",created_at:new Date(Date.now()-1e3*60*60*2).toISOString(),read:!0},unreadCount:0}];n(P)}finally{N(!1)}},j=async b=>{try{const P=await W.getMessages(b);d(P.messages||[]),await W.markMessagesAsRead(b),n(A=>A.map(I=>I.user.id===b?{...I,unreadCount:0}:I))}catch(P){console.error("Error loading messages:",P);const A=[{id:"msg_demo_1",sender_id:b,receiver_id:s.id,content:"!   ",created_at:new Date(Date.now()-1e3*60*60).toISOString(),read:!0},{id:"msg_demo_2",sender_id:s.id,receiver_id:b,content:"    ",created_at:new Date(Date.now()-1e3*60*45).toISOString(),read:!0},{id:"msg_demo_3",sender_id:b,receiver_id:s.id,content:"!   ",created_at:new Date(Date.now()-1e3*60*30).toISOString(),read:!0}];d(A)}},x=async()=>{if(!(!p.trim()||!l||h))try{y(!0);const b={receiver_id:l.user.id,content:p.trim()},A={id:(await W.sendMessage(b)).message?.id||`temp_${Date.now()}`,sender_id:s.id,receiver_id:l.user.id,content:p.trim(),created_at:new Date().toISOString(),read:!1};d(I=>[...I,A]),m(""),n(I=>I.map(Q=>Q.user.id===l.user.id?{...Q,lastMessage:A}:Q))}catch(b){console.error("Error sending message:",b);const P={id:`temp_${Date.now()}`,sender_id:s.id,receiver_id:l.user.id,content:p.trim(),created_at:new Date().toISOString(),read:!1};d(A=>[...A,P]),m("")}finally{y(!1)}},w=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x())},v=b=>{const P=new Date(b),I=Math.floor((new Date().getTime()-P.getTime())/(1e3*60));return I<1?"":I<60?`${I}`:I<1440?`${Math.floor(I/60)}`:`${Math.floor(I/1440)}`},D=i.filter(b=>b.user.name.toLowerCase().includes(f.toLowerCase()));return i.reduce((b,P)=>b+P.unreadCount,0),l?e.jsxDEV("div",{className:"min-h-screen bg-background flex flex-col relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/3 via-transparent to-golden-600/3"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:292,columnNumber:9},this),e.jsxDEV("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:293,columnNumber:9},this),e.jsxDEV("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-golden-600/5 rounded-full blur-3xl"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:294,columnNumber:9},this),e.jsxDEV("div",{className:"relative z-10 flex flex-col h-full",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card border-b border-border/50 backdrop-blur-sm px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>o(null),className:"hover:bg-primary/10 text-foreground",children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:308,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:302,columnNumber:17},this),e.jsxDEV(Ce,{className:"h-10 w-10 ring-2 ring-primary/30",children:[e.jsxDEV(Ae,{src:l.user.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:311,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-gradient-to-br from-primary to-golden-600 text-primary-foreground text-sm font-medium",children:l.user.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:312,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:310,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-foreground text-sm",children:l.user.name},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:317,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-primary font-medium",children:" "},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:320,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:316,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:301,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10 text-muted-foreground hover:text-primary",children:e.jsxDEV(Il,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:329,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:324,columnNumber:17},this),e.jsxDEV(S,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10 text-muted-foreground hover:text-primary",children:e.jsxDEV(Ml,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:336,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:331,columnNumber:17},this),e.jsxDEV(S,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10 text-muted-foreground hover:text-primary",children:e.jsxDEV(Ja,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:343,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:338,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:323,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:300,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:299,columnNumber:11},this),e.jsxDEV("div",{className:"flex-1 overflow-hidden",children:e.jsxDEV(ui,{className:"h-full px-4 py-2 bg-background/50 backdrop-blur-sm",children:e.jsxDEV("div",{className:"space-y-3 pb-20",children:[c.map((b,P)=>{const A=b.sender_id===s.id,I=P===c.length-1||c[P+1]?.sender_id!==b.sender_id;return e.jsxDEV("div",{className:J("flex animate-in fade-in-0 slide-in-from-bottom-2 duration-300",A?"justify-end":"justify-start"),children:e.jsxDEV("div",{className:"flex flex-col max-w-[75%]",children:[e.jsxDEV("div",{className:J("rounded-2xl px-4 py-3 text-sm relative shadow-lg backdrop-blur-sm",A?"bg-gradient-to-r from-primary to-golden-600 text-primary-foreground ml-auto border border-primary/20":"bg-gradient-to-r from-muted to-card text-foreground mr-auto border border-border/50"),children:e.jsxDEV("p",{className:"leading-relaxed",children:b.content},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:376,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:368,columnNumber:25},this),I&&e.jsxDEV("p",{className:J("text-xs mt-1 text-muted-foreground/70",A?"text-right mr-2":"text-left ml-2"),children:v(b.created_at)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:379,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:367,columnNumber:23},this)},b.id,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:360,columnNumber:21},this)}),e.jsxDEV("div",{ref:C},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:392,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:352,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:351,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:350,columnNumber:11},this),e.jsxDEV("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-xl border-t border-border/20 safe-area-bottom",children:[e.jsxDEV("div",{className:"px-4 py-3",children:e.jsxDEV("div",{className:"flex items-end gap-3 max-w-screen-lg mx-auto",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-muted/30 hover:bg-muted/50 text-muted-foreground hover:text-foreground transition-all duration-200 shrink-0 border border-border/20",children:e.jsxDEV(Ct,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:407,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:402,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 relative",children:e.jsxDEV("div",{className:"bg-muted/30 backdrop-blur-sm rounded-[24px] border border-border/20 transition-all duration-200 focus-within:border-primary/40 focus-within:bg-muted/40 focus-within:shadow-lg focus-within:shadow-primary/10",children:e.jsxDEV("div",{className:"flex items-end",children:[e.jsxDEV("div",{className:"flex-1 px-4 py-3",children:e.jsxDEV("textarea",{value:p,onChange:b=>m(b.target.value),onKeyPress:w,placeholder:"...",rows:1,className:"w-full resize-none bg-transparent text-sm text-right placeholder:text-muted-foreground/60 focus:outline-none leading-5 max-h-20 scrollbar-none",style:{fontFamily:"inherit",lineHeight:"20px"},disabled:h,onInput:b=>{const P=b.target;P.style.height="auto",P.style.height=Math.min(P.scrollHeight,80)+"px"}},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:416,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:415,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-1 px-2 pb-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors",children:e.jsxDEV(Bl,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:444,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:439,columnNumber:25},this),e.jsxDEV(S,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors",children:e.jsxDEV(Yt,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:451,columnNumber:27},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:446,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:438,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:413,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:412,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:411,columnNumber:17},this),e.jsxDEV(S,{onClick:x,size:"icon",disabled:!p.trim()||h,className:J("h-10 w-10 rounded-full transition-all duration-300 shrink-0 border",p.trim()?"bg-gradient-to-r from-primary to-golden-600 hover:from-primary/90 hover:to-golden-500 text-primary-foreground border-transparent shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 hover:scale-105 active:scale-95":"bg-muted/30 text-muted-foreground/50 cursor-not-allowed border-border/20"),children:h?e.jsxDEV("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:471,columnNumber:21},this):e.jsxDEV(pn,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:473,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:459,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:400,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:399,columnNumber:13},this),e.jsxDEV("div",{className:"h-[env(keyboard-inset-height)] bg-background/95 backdrop-blur-xl"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:480,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:398,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:297,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:290,columnNumber:7},this):e.jsxDEV("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-golden-600/5"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:490,columnNumber:7},this),e.jsxDEV("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_80%,rgba(120,119,198,0.1),transparent_50%),radial-gradient(circle_at_80%_20%,rgba(255,200,87,0.1),transparent_50%)]"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:491,columnNumber:7},this),e.jsxDEV("div",{className:"relative z-10",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,className:"hover:bg-primary/10 text-foreground",children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:505,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:499,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:508,columnNumber:17},this),e.jsxDEV("h1",{className:"text-lg font-bold bg-gradient-to-r from-primary to-golden-600 bg-clip-text text-transparent",children:""},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:509,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:507,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:498,columnNumber:13},this),e.jsxDEV(S,{variant:"ghost",size:"icon",className:"hover:bg-primary/10 text-muted-foreground hover:text-primary",children:e.jsxDEV(Ll,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:519,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:514,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:497,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:496,columnNumber:9},this),e.jsxDEV("div",{className:"p-4 space-y-4 bg-background/50 backdrop-blur-sm min-h-screen",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ls,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-primary/70"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:527,columnNumber:13},this),e.jsxDEV(He,{value:f,onChange:b=>u(b.target.value),placeholder:"  ...",className:"pr-10 text-right rounded-xl bg-muted/50 backdrop-blur-sm border-border/50 focus:ring-2 focus:ring-primary focus:border-primary transition-all placeholder:text-muted-foreground/60"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:528,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:526,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:g?e.jsxDEV("div",{className:"text-center py-8",children:e.jsxDEV("p",{className:"text-muted-foreground",children:" ..."},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:540,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:539,columnNumber:15},this):D.length===0?e.jsxDEV("div",{className:"text-center py-16",children:[e.jsxDEV("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/20 to-golden-600/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-primary/30",children:e.jsxDEV(Os,{className:"h-10 w-10 text-primary"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:545,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:544,columnNumber:17},this),e.jsxDEV("h3",{className:"text-xl font-bold bg-gradient-to-r from-primary to-golden-600 bg-clip-text text-transparent mb-3",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:547,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground/80",children:f?"   ":"  "},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:550,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:543,columnNumber:15},this):D.map(b=>e.jsxDEV("div",{className:"group bg-card/50 backdrop-blur-sm rounded-xl cursor-pointer hover:bg-card/80 hover:scale-[1.02] transition-all duration-300 p-4 border border-border/50 hover:border-primary/30 hover:shadow-xl hover:shadow-primary/20 active:scale-[0.98]",onClick:()=>{o(b),j(b.user.id)},children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ce,{className:"h-16 w-16 ring-2 ring-primary/30 group-hover:ring-primary/60 group-hover:ring-4 transition-all duration-300",children:[e.jsxDEV(Ae,{src:b.user.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:567,columnNumber:25},this),e.jsxDEV(_e,{className:"bg-gradient-to-br from-primary to-golden-600 text-primary-foreground font-medium group-hover:from-primary/90 group-hover:to-golden-500 transition-all",children:b.user.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:568,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:566,columnNumber:23},this),e.jsxDEV("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-gradient-to-r from-primary to-golden-600 border-2 border-card rounded-full shadow-lg animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:572,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:565,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h4",{className:"font-semibold text-foreground truncate",children:b.user.name},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:576,columnNumber:25},this),b.lastMessage&&e.jsxDEV("span",{className:"text-xs text-muted-foreground/70",children:v(b.lastMessage.created_at)},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:580,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:575,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("p",{className:J("text-sm truncate",b.unreadCount>0?"text-foreground font-medium":"text-muted-foreground"),children:b.lastMessage?.content||"  "},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:586,columnNumber:25},this),b.unreadCount>0&&e.jsxDEV("div",{className:"w-3 h-3 bg-gradient-to-r from-primary to-golden-600 rounded-full ml-2 shadow-lg shadow-primary/25 animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:597,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:585,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:574,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:564,columnNumber:19},this)},b.user.id,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:556,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:537,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:524,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:494,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/MessagesPage.tsx",lineNumber:488,columnNumber:5},this)}function Ru({user:s,activeTab:t,onLogout:a}){const[i,n]=$e(),[l,o]=r.useState(""),[c,d]=r.useState(null),[p,m]=r.useState(!1),[f,u]=r.useState(null),[g,N]=r.useState(!1),[h,y]=r.useState(!1),[C,V]=r.useState(null),[k,j]=r.useState(!1),[x,w]=r.useState(!1),[v,D]=r.useState(!1),[b,P]=r.useState(!1),[A,I]=r.useState(!1),[Q,Z]=r.useState(!1),[ne,ue]=r.useState(null),[Ne,ee]=r.useState([]),[$,le]=r.useState([]),[G,se]=r.useState(""),[pe,Re]=r.useState("newest"),[Ve,fe]=r.useState(null),[M,H]=r.useState([]),[re,ce]=r.useState([]),[je,ye]=r.useState([]),[ts,Ge]=r.useState(!1),[Xe,Fe]=r.useState(!1),[os,Ps]=r.useState({bookings:0,followers:0,following:0}),{location:ke,isLoading:bs,requestLocation:Ys}=Et(),[B,ie]=r.useState([]);r.useEffect(()=>{console.log(" CustomerDashboard mounted",{userId:s?.id,userRole:s?.role,activeTab:t,barbersCount:Ne.length})},[]),r.useEffect(()=>{le(l?Ne.filter(_=>_.name.toLowerCase().includes(l.toLowerCase())):Ne)},[l,Ne]),r.useEffect(()=>{(async()=>{if(console.log("=== Loading explore posts ==="),console.log("Active tab:",t),t==="search")try{console.log("Loading posts from API..."),console.log("User token available:",!!localStorage.getItem("barbershop_token"));const O=await W.getPosts();console.log("API Posts response:",O),console.log("Response type:",typeof O),console.log("Response keys:",Object.keys(O||{}));const F=O.posts||[];console.log("API Posts data:",F),console.log("Number of posts received:",F.length),console.log("First post (if any):",F[0]);const de=Ot(F);console.log(`Filtered ${F.length} posts to ${de.length} featured posts`),ie(de),H(de)}catch(O){console.error("Error loading explore posts:",O),console.log("Creating featured fallback data due to error");const F=[{id:"featured_1",user_id:"featured_user",image_url:"https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=400&h=400&fit=crop",caption:"   -  ",created_at:new Date().toISOString(),user:{id:"featured_user",name:" ",level:85,avatar_url:"",role:"barber",is_verified:!0},likes:42},{id:"featured_2",user_id:"featured_user2",image_url:"https://images.unsplash.com/photo-1493256338651-d82f7acb2b38?w=400&h=400&fit=crop",caption:"  ",created_at:new Date(Date.now()-1e3*60*30).toISOString(),user:{id:"featured_user2",name:" ",level:95,avatar_url:"",role:"barber",is_verified:!0},likes:67}];ie(F),H(F)}})()},[t]),r.useEffect(()=>{const _=()=>{t==="explore"&&(async()=>{try{console.log("Refreshing explore posts due to update event...");const de=(await W.getPosts()).posts||[];ie(de),H(de)}catch(F){console.error("Error refreshing explore posts:",F)}})()};return window.addEventListener("postsUpdated",_),()=>window.removeEventListener("postsUpdated",_)},[t]),r.useEffect(()=>{let _=[...B];switch(G.trim()&&(_=_.filter(O=>O.user?.name?.toLowerCase().includes(G.toLowerCase()))),pe){case"newest":_.sort((O,F)=>new Date(F.created_at).getTime()-new Date(O.created_at).getTime());break;case"rating":_.sort((O,F)=>{const de=(O.user?.level||0)+(O.likes||0)*.5;return(F.user?.level||0)+(F.likes||0)*.5-de});break;case"distance":_.sort((O,F)=>{const de=(O.user?.level||0)+(O.likes||0);return(F.user?.level||0)+(F.likes||0)-de+(Math.random()-.5)*20});break}H(_)},[G,pe,B]),r.useEffect(()=>{t==="profile"&&gs()},[t]),r.useEffect(()=>{ls(),Pe(),Be()},[s.id]);const Be=()=>{[{id:"friend_req_1",type:"friend_request",title:"  ",message:"   ",data:{senderId:"barber_1",senderName:" ",requiresAction:!0},read:!1,created_at:new Date(Date.now()-18e5).toISOString()},{id:"friend_req_2",type:"friend_request",title:"  ",message:"   ",data:{senderId:"barber_2",senderName:" ",requiresAction:!0},read:!1,created_at:new Date(Date.now()-72e5).toISOString()}].forEach(O=>{i.notifications.some(de=>de.id===O.id)||n.addNotification(O)})},Pe=async()=>{if(console.log(" loadBarbers called",{userId:s?.id,hasUser:!!s}),!s?.id){console.log(" No user ID, skipping barbers load");return}try{n.setLoading(!0),console.log(" Fetching barbers from API..."),console.log(" API Base URL:",W.baseUrl);try{console.log(" Testing ping endpoint...");const te=await fetch("/api/ping");console.log(" Ping response:",te.status,te.ok)}catch(te){console.warn(" Ping failed:",te)}const _=await W.getBarbers();console.log(" Barbers response:",_),console.log(" Barbers data:",_.barbers),console.log(" Barbers count:",_.barbers?.length||0);const O=_.barbers||[];let F=[];try{const te=await W.getFollows("following");F=te.follows?.map(E=>E.followed_id)||[],te.follows&&n.setFollows(te.follows)}catch{F=i.follows?.map(E=>E.followed_id)||[]}const de=await Promise.all(O.map(async te=>{let E=null;return ke&&te.lat&&te.lng&&(E=oe(ke.lat,ke.lng,te.lat,te.lng)),{...te,rating:te.rating||0,followers:te.followers_count||0,distance:E?parseFloat(E.toFixed(1)):2.5,status:te.status||"",isFollowed:F.includes(te.id),price:te.price||30,lat:te.lat||0,lng:te.lng||0}}));console.log(" Enhanced barbers ready:",de.length,"barbers"),console.log("First barber:",de[0]),ee(de),le(de)}catch(_){console.error(" Error loading barbers:",_),_ instanceof Error&&(console.error(" Error message:",_.message),console.error(" Error stack:",_.stack)),_ instanceof TypeError&&_.message.includes("fetch")&&console.error(" Network error - API might be unavailable");{console.log(" Setting dummy barbers for development testing...");const O=[{id:"dummy-1",name:"  1",email:"test1@test.com",role:"barber",status:"active",level:50,points:500,is_verified:!0,created_at:new Date().toISOString(),rating:4.5,followers:25,distance:1.2,price:40,isFollowed:!1,avatar_url:"https://i.pravatar.cc/150?img=1"},{id:"dummy-2",name:"  2",email:"test2@test.com",role:"barber",status:"active",level:80,points:800,is_verified:!0,created_at:new Date().toISOString(),rating:4.8,followers:45,distance:2.1,price:50,isFollowed:!1,avatar_url:"https://i.pravatar.cc/150?img=2"}];ee(O),le(O)}}finally{n.setLoading(!1)}},ls=async()=>{if(s?.id)try{n.setLoading(!0);const _=await W.getBookings();n.setBookings(_.bookings||[])}catch(_){console.error("Error loading bookings:",_)}finally{n.setLoading(!1)}},qe=_=>{d(_),m(!0)},st=async _=>{try{n.setLoading(!0);const O=await W.createBooking(_);n.addBooking(O),n.addNotification({id:Date.now().toString(),type:"new_booking",title:"   ",message:`     ${c?.name}`,data:O,read:!1,created_at:new Date().toISOString()}),m(!1),d(null)}catch(O){console.error("Error creating booking:",O)}finally{n.setLoading(!1)}},Ds=async _=>{try{n.setLoading(!0),await W.updateBooking(_,{status:"cancelled"}),n.updateBooking(_,{status:"cancelled"}),n.addNotification({id:Date.now().toString(),type:"booking_rejected",title:"  ",message:"   ",data:{bookingId:_},read:!1,created_at:new Date().toISOString()})}catch(O){console.error("Error canceling booking:",O)}finally{n.setLoading(!1)}},Ts=async(_,O)=>{try{const F=te=>te.map(E=>E.id===_?{...E,isFollowed:!O}:E);le(F),ee(F);let de;if(O){await W.unfollowUser(_);const te=i.follows.find(E=>E.followed_id===_);te&&n.removeFollow(te.id)}else{de=await W.followUser(_);const te=de||{id:Date.now().toString(),follower_id:s.id,followed_id:_,created_at:new Date().toISOString()};n.addFollow(te)}n.addNotification({id:Date.now().toString(),type:O?"friend_request":"new_follower",title:O?" ":" ",message:O?`   ${Ne.find(te=>te.id===_)?.name||""}`:`  ${Ne.find(te=>te.id===_)?.name||""}`,data:{barberId:_},read:!1,created_at:new Date().toISOString()}),setTimeout(()=>{Pe()},500)}catch(F){if(F instanceof Error&&(F.message.includes("  ")||F.message.includes("   ")||F.message.includes("Already following")||F.message.includes("409")))console.log("Follow state already correct on server");else{console.error("Error toggling follow:",F);const de=te=>te.map(E=>E.id===_?{...E,isFollowed:O}:E);le(de),ee(de),n.addNotification({id:Date.now().toString(),type:"friend_request",title:"  ",message:"         ",data:{barberId:_},read:!1,created_at:new Date().toISOString()})}}},Je=_=>{u({..._,role:"barber",status:"active",is_verified:!0,created_at:new Date().toISOString()}),N(!0)},tt=_=>{V(_),y(!0)},at=()=>{j(!0)},wt=_=>{const O=new Date,F=new Date(_),de=Math.floor((O.getTime()-F.getTime())/(1e3*60*60));if(de<24)return` ${de} `;{const te=Math.floor(de/24);return` ${te} ${te===1?"":""}`}},Ks=_=>{fe(null),qe({..._,rating:_.level/20,distance:ke?2.5:null,price:30,status:"",isFollowed:!1})},gs=async()=>{try{const _=await W.getBookings(),[O,F]=await Promise.all([W.getFollows("followers"),W.getFollows("following")]),de=O.follows||[],te=F.follows||[];ce(de),ye(te),Ps({bookings:_.bookings?.length||0,followers:de.length,following:te.length})}catch(_){console.error("Error loading profile data:",_),Ps({bookings:i.bookings.length,followers:0,following:0})}},Vt=async _=>{try{await W.unfollowUser(_);const O=i.follows.find(F=>F.followed_id===_);O&&n.removeFollow(O.id),ye(F=>F.filter(de=>de.followed_id!==_)),Ps(F=>({...F,following:F.following-1})),n.addNotification({id:Date.now().toString(),type:"friend_request",title:" ",message:"   ",data:{userId:_},read:!1,created_at:new Date().toISOString()})}catch(O){console.error("Error unfollowing:",O)}},oe=(_,O,F,de)=>{const E=(F-_)*(Math.PI/180),U=(de-O)*(Math.PI/180),q=Math.sin(E/2)*Math.sin(E/2)+Math.cos(_*(Math.PI/180))*Math.cos(F*(Math.PI/180))*Math.sin(U/2)*Math.sin(U/2);return 6371*(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)))},be=_=>_>=100?"":_>=51?"":_>=21?"":"",we=_=>_>=100?"VIP":_>=51?"":_>=21?"":"",Le=_=>{switch(_){case"":return"bg-green-500/10 text-green-500 border-green-500/20";case"":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},Ze=_=>{switch(_){case"pending":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"accepted":return"bg-green-500/10 text-green-500 border-green-500/20";case"rejected":return"bg-red-500/10 text-red-500 border-red-500/20";case"cancelled":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},Ss=_=>{switch(_){case"pending":return"";case"accepted":return"";case"rejected":return"";case"cancelled":return"";default:return _}},it=_=>new Date(_).toLocaleDateString("ar-SA",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"});if(b){const _=$.filter(O=>O.isFollowed);return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>P(!1),children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:857,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:852,columnNumber:13},this),e.jsxDEV("h1",{className:"text-base sm:text-lg font-bold text-foreground",children:["  (",_.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:859,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:851,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:850,columnNumber:9},this),e.jsxDEV("div",{className:"p-4 space-y-3",children:[_.map(O=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-12 w-12 cursor-pointer hover:opacity-80 transition-opacity shrink-0",onClick:()=>{P(!1),Je(O)},children:[e.jsxDEV(Ae,{src:O.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:880,columnNumber:21},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:O.name?O.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:881,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:873,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV("h4",{className:"font-medium text-foreground cursor-pointer hover:text-primary transition-colors truncate",onClick:()=>{P(!1),Je(O)},children:O.name},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:888,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm",children:be(O.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:897,columnNumber:23},this),e.jsxDEV(X,{variant:"outline",className:"text-xs shrink-0",children:we(O.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:900,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:887,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ms,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:907,columnNumber:25},this),e.jsxDEV("span",{children:O.rating},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:908,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:906,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Qe,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:911,columnNumber:25},this),e.jsxDEV("span",{children:[O.distance," "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:912,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:910,columnNumber:23},this),e.jsxDEV(X,{className:J("text-xs",Le(O.status)),children:O.status},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:914,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:905,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:886,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>Ts(O.id,O.isFollowed),children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:923,columnNumber:21},this),e.jsxDEV(S,{size:"sm",className:"bg-primary hover:bg-primary/90",onClick:()=>{P(!1),qe(O)},children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:932,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:922,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:872,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:871,columnNumber:15},this)},`all-followed-${O.id}`,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:867,columnNumber:13},this)),_.length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Ms,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:951,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:952,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:955,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:950,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:949,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:865,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:849,columnNumber:7},this)}if(A){const _=$.filter(O=>!O.isFollowed);return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>I(!1),children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:981,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:976,columnNumber:13},this),e.jsxDEV("h1",{className:"text-base sm:text-lg font-bold text-foreground",children:["  (",_.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:983,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:975,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:974,columnNumber:9},this),e.jsxDEV("div",{className:"p-4 space-y-3",children:[_.map(O=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-12 w-12 cursor-pointer hover:opacity-80 transition-opacity shrink-0",onClick:()=>{I(!1),Je(O)},children:[e.jsxDEV(Ae,{src:O.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1004,columnNumber:21},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:O.name?O.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1005,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:997,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV("h4",{className:"font-medium text-foreground cursor-pointer hover:text-primary transition-colors truncate",onClick:()=>{I(!1),Je(O)},children:O.name},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1012,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm",children:be(O.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1021,columnNumber:23},this),e.jsxDEV(X,{variant:"outline",className:"text-xs shrink-0",children:we(O.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1024,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1011,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ms,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1031,columnNumber:25},this),e.jsxDEV("span",{children:O.rating},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1032,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1030,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Qe,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1035,columnNumber:25},this),e.jsxDEV("span",{children:[O.distance," "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1036,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1034,columnNumber:23},this),e.jsxDEV(X,{className:J("text-xs",Le(O.status)),children:O.status},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1038,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1029,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1010,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>Ts(O.id,O.isFollowed),children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1047,columnNumber:21},this),e.jsxDEV(S,{size:"sm",className:"bg-primary hover:bg-primary/90",onClick:()=>{I(!1),qe(O)},children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1056,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1046,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:996,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:995,columnNumber:15},this)},`all-nearby-${O.id}`,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:991,columnNumber:13},this)),_.length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Qe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1075,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1076,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1079,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1074,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1073,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:989,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:973,columnNumber:7},this)}if(p&&c)return e.jsxDEV(pu,{barber:c,onBook:st,onBack:()=>{m(!1),d(null)}},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1093,columnNumber:7},this);if(g&&f)return e.jsxDEV(ko,{profileUser:f,currentUser:s,onBack:()=>{N(!1),u(null)},onBooking:()=>{N(!1),d(f),m(!0)},onFollow:()=>{setTimeout(()=>{Pe()},500)},onUnfollow:()=>{setTimeout(()=>{Pe()},500)},onMessage:()=>{N(!1),ue(f),Z(!0)}},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1107,columnNumber:7},this);if(h&&C)return e.jsxDEV(Su,{user:s,booking:C,onBack:()=>{y(!1),V(null)},onComplete:()=>{ls()}},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1143,columnNumber:7},this);if(k)return e.jsxDEV(Cu,{user:s,onBack:()=>j(!1),onSelectBarber:_=>{j(!1),Je(_)}},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1161,columnNumber:7},this);if(x)return e.jsxDEV(_o,{user:s,onBack:()=>w(!1)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1174,columnNumber:12},this);if(v)return e.jsxDEV(To,{user:s,onBack:()=>D(!1),onSave:_=>{D(!1)}},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1180,columnNumber:7},this);if(Q)return e.jsxDEV(pi,{user:s,targetUser:ne,onBack:()=>{Z(!1),ue(null)}},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1194,columnNumber:7},this);const Lt=()=>{const _=$.filter(F=>F.isFollowed),O=$.filter(F=>!F.isFollowed);return e.jsxDEV("div",{className:"p-4 space-y-4 sm:space-y-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg p-3 border border-primary/20",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV(Qe,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1220,columnNumber:15},this),bs?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"animate-spin h-3 w-3 border border-primary border-t-transparent rounded-full"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1223,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm text-primary",children:"  ..."},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1224,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1222,columnNumber:17},this):ke?e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("span",{className:"text-sm font-medium text-primary",children:ke.address},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1230,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-primary/80 mt-0.5",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1233,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1229,columnNumber:17},this):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1239,columnNumber:19},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:"text-xs text-primary p-0 h-auto ml-2",onClick:Ys,children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1242,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1238,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1219,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1218,columnNumber:11},this),e.jsxDEV("div",{className:"text-center py-4 sm:py-6",children:[e.jsxDEV("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2",children:[" ",s.name]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1257,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm sm:text-base text-muted-foreground",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1260,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1256,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1216,columnNumber:9},this),e.jsxDEV("div",{className:"bg-muted p-4 rounded-lg text-sm space-y-2",children:[e.jsxDEV("p",{children:" Debug Info:"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1269,columnNumber:13},this),e.jsxDEV("p",{children:[" User ID: ",s?.id]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1270,columnNumber:13},this),e.jsxDEV("p",{children:[" All Barbers: ",Ne.length]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1271,columnNumber:13},this),e.jsxDEV("p",{children:[" Filtered Barbers: ",$.length]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1272,columnNumber:13},this),e.jsxDEV("p",{children:[" Loading: ",i.isLoading?"Yes":"No"]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1273,columnNumber:13},this),e.jsxDEV("p",{children:[" Location:"," ",ke?`${ke.lat}, ${ke.lng}`:"Not available"]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1274,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2 mt-2",children:[e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>Pe(),disabled:i.isLoading,children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1281,columnNumber:15},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>console.log("All barbers data:",Ne),children:"  "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1289,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1280,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1268,columnNumber:11},this),_.length>0&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1304,columnNumber:15},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm",onClick:()=>P(!0),children:["  (",_.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1307,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1303,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:_.slice(0,4).map(F=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-3",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-10 w-10 cursor-pointer hover:opacity-80 transition-opacity shrink-0",onClick:()=>Je(F),children:[e.jsxDEV(Ae,{src:F.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1329,columnNumber:25},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-sm",children:F.name?F.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1330,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1325,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h4",{className:"font-medium text-foreground cursor-pointer hover:text-primary transition-colors text-sm truncate",onClick:()=>Je(F),children:F.name},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1337,columnNumber:27},this),e.jsxDEV("span",{className:"text-xs",children:be(F.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1343,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1336,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ms,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1350,columnNumber:29},this),e.jsxDEV("span",{children:F.rating},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1351,columnNumber:29},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1349,columnNumber:27},this),e.jsxDEV(X,{className:J("text-xs",Le(F.status)),children:F.status},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1353,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1348,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1335,columnNumber:23},this),e.jsxDEV(S,{size:"sm",className:"bg-primary hover:bg-primary/90 text-xs shrink-0",onClick:()=>qe(F),children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1364,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1324,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1323,columnNumber:19},this)},`followed-${F.id}`,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1319,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1317,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1302,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1382,columnNumber:13},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm",onClick:()=>I(!0),children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1385,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1381,columnNumber:11},this),i.isLoading&&e.jsxDEV("div",{className:"space-y-3",children:[1,2,3].map(F=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"h-12 w-12 bg-muted rounded-full animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1402,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1 space-y-2",children:[e.jsxDEV("div",{className:"h-4 bg-muted rounded animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1404,columnNumber:25},this),e.jsxDEV("div",{className:"h-3 bg-muted rounded w-3/4 animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1405,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1403,columnNumber:23},this),e.jsxDEV("div",{className:"h-8 w-16 bg-muted rounded animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1407,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1401,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1400,columnNumber:19},this)},F,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1399,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1397,columnNumber:13},this),!i.isLoading&&O.length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Qe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1419,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1420,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"     ..."},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1423,columnNumber:17},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>Pe(),children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1426,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1418,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1417,columnNumber:13},this),!i.isLoading&&O.slice(0,3).map(F=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-3 sm:p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsxDEV(Ce,{className:"h-10 w-10 sm:h-12 sm:w-12 cursor-pointer hover:opacity-80 transition-opacity shrink-0",onClick:()=>Je(F),children:[e.jsxDEV(Ae,{src:F.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1447,columnNumber:23},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-sm sm:text-base",children:F.name?F.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1448,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1443,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("h4",{className:"font-medium text-foreground cursor-pointer hover:text-primary transition-colors text-sm sm:text-base truncate",onClick:()=>Je(F),children:F.name},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1455,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs sm:text-sm",children:be(F.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1461,columnNumber:25},this),e.jsxDEV(X,{variant:"outline",className:"text-xs shrink-0",children:we(F.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1464,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1454,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground flex-wrap",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(ms,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1471,columnNumber:27},this),e.jsxDEV("span",{children:F.rating},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1472,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1470,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Qe,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1475,columnNumber:27},this),e.jsxDEV("span",{className:"whitespace-nowrap",children:[F.distance," "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1476,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1474,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Vs,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1481,columnNumber:27},this),e.jsxDEV("span",{children:F.followers},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1482,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1480,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1469,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1453,columnNumber:21},this),e.jsxDEV("div",{className:"flex flex-col gap-2 shrink-0",children:[e.jsxDEV(X,{className:J("text-xs",Le(F.status)),children:F.status},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1488,columnNumber:23},this),e.jsxDEV(S,{size:"sm",className:"bg-primary hover:bg-primary/90 text-xs sm:text-sm",onClick:()=>qe(F),children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1493,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1487,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1442,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1441,columnNumber:17},this)},F.id,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1440,columnNumber:15},this))]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1380,columnNumber:9},this),O.length>3&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1511,columnNumber:15},this),e.jsxDEV(X,{variant:"outline",className:"text-xs",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1514,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1510,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:O.slice(3,6).map(F=>e.jsxDEV(R,{className:"border-border/50 bg-gradient-to-br from-primary/5 to-primary/10 relative overflow-hidden",children:[e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV(X,{variant:"secondary",className:"text-xs bg-primary/20 text-primary",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1526,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1525,columnNumber:19},this),e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"text-center space-y-3",children:[e.jsxDEV(Ce,{className:"h-12 w-12 mx-auto cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>Je(F),children:[e.jsxDEV(Ae,{src:F.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1539,columnNumber:25},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:F.name?F.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1540,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1535,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-foreground cursor-pointer hover:text-primary transition-colors text-sm truncate",onClick:()=>Je(F),children:F.name},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1546,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground mt-1",children:[e.jsxDEV(ms,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1553,columnNumber:27},this),e.jsxDEV("span",{children:F.rating},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1554,columnNumber:27},this),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1555,columnNumber:27},this),e.jsxDEV("span",{children:[F.distance," "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1556,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1552,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1545,columnNumber:23},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:()=>Ts(F.id,F.isFollowed),children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1561,columnNumber:25},this),e.jsxDEV(S,{size:"sm",className:"flex-1 bg-primary hover:bg-primary/90 text-xs",onClick:()=>qe(F),children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1571,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1560,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1534,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1533,columnNumber:19},this)]},`suggested-${F.id}`,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1521,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1519,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1509,columnNumber:11},this),$.length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Ms,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1591,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1592,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1595,columnNumber:15},this),e.jsxDEV(S,{className:"bg-primary hover:bg-primary/90",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1598,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1590,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1589,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1214,columnNumber:7},this)},Ot=_=>_.filter(O=>{const F=(O.likes||0)>15,de=(O.user?.level||0)>60,te=O.user?.is_verified||(O.user?.level||0)>80;return F||de||te}).sort((O,F)=>{const de=(O.likes||0)+(O.user?.level||0)*.5;return(F.likes||0)+(F.user?.level||0)*.5-de}).slice(0,20),va=()=>e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ls,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1636,columnNumber:9},this),e.jsxDEV(He,{value:G,onChange:_=>se(_.target.value),placeholder:"  ...",className:"pr-10 text-right"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1637,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1635,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1647,columnNumber:9},this),e.jsxDEV(is,{value:pe,onValueChange:Re,children:[e.jsxDEV(es,{className:"w-auto",children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1650,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1649,columnNumber:11},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"newest",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1653,columnNumber:13},this),e.jsxDEV(De,{value:"rating",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1654,columnNumber:13},this),e.jsxDEV(De,{value:"distance",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1655,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1652,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1648,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1646,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3",children:M.map(_=>e.jsxDEV("div",{className:"aspect-square relative group cursor-pointer overflow-hidden rounded-lg bg-card/50 border border-border/50",onClick:()=>fe(_),children:[e.jsxDEV("img",{src:_.image_url,alt:_.caption,className:"w-full h-full object-cover transition-transform group-hover:scale-105",loading:"lazy"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1668,columnNumber:13},this),e.jsxDEV("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV("div",{className:"flex items-center gap-4 text-white",children:e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Ms,{className:"h-4 w-4 fill-white"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1677,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm font-medium",children:_.likes||0},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1678,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1676,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1675,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1674,columnNumber:13},this),e.jsxDEV("div",{className:"absolute top-2 right-2",children:e.jsxDEV(X,{variant:"secondary",className:"text-xs bg-black/50 text-white border-none",children:be(_.user?.level||1)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1683,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1682,columnNumber:13},this)]},_.id,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1663,columnNumber:11},this))},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1661,columnNumber:7},this),M.length===0&&e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(Ls,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1697,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1698,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:G?"      ":"     "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1701,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1696,columnNumber:9},this),e.jsxDEV(Dt,{open:!!Ve,onOpenChange:()=>fe(null),children:e.jsxDEV(et,{className:"max-w-md mx-auto",children:Ve&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(ks,{children:e.jsxDEV(Cs,{className:"sr-only",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1715,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1714,columnNumber:15},this),e.jsxDEV("div",{className:"aspect-square rounded-lg overflow-hidden",children:e.jsxDEV("img",{src:Ve.image_url,alt:Ve.caption,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1719,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1718,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:Ve.user.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1728,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:Ve.user.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1729,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1727,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h4",{className:"font-semibold text-foreground",children:Ve.user.name},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1735,columnNumber:21},this),e.jsxDEV("span",{children:be(Ve.user.level)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1738,columnNumber:21},this),e.jsxDEV(X,{variant:"secondary",className:"text-xs",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1739,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1734,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:wt(Ve.created_at)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1743,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1733,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1726,columnNumber:15},this),Ve.caption&&e.jsxDEV("p",{className:"text-sm text-foreground",children:Ve.caption},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1750,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ms,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1756,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[Ve.likes," "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1757,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1755,columnNumber:15},this),e.jsxDEV(S,{onClick:()=>Ks(Ve.user),className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:[e.jsxDEV(As,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1767,columnNumber:17},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1762,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1713,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1711,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1710,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1633,columnNumber:5},this),Ft=()=>e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1779,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[i.bookings.map(_=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium text-foreground",children:_.barber?.name||""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1787,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxDEV(As,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1791,columnNumber:21},this),e.jsxDEV("span",{children:it(_.datetime)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1792,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1790,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1786,columnNumber:17},this),e.jsxDEV("div",{className:"flex flex-col items-end gap-2",children:[e.jsxDEV(X,{className:J("text-xs",Ze(_.status)),children:Ss(_.status)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1797,columnNumber:19},this),_.status==="pending"&&e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>Ds(_.id),children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1806,columnNumber:21},this),_.status==="cancelled"&&e.jsxDEV(X,{className:"text-xs bg-destructive/10 text-destructive border-destructive/20",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1815,columnNumber:21},this),_.status==="completed"&&e.jsxDEV(S,{size:"sm",className:"bg-primary hover:bg-primary/90",onClick:()=>tt(_),children:[e.jsxDEV(ms,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1825,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1820,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1796,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1785,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1784,columnNumber:13},this)},_.id,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1783,columnNumber:11},this)),i.bookings.length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(As,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1838,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1839,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1842,columnNumber:15},this),e.jsxDEV(S,{className:"bg-primary hover:bg-primary/90",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1845,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1837,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1836,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1781,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1778,columnNumber:5},this),Ut=()=>ts?e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>Ge(!1),children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1865,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1860,columnNumber:13},this),e.jsxDEV("h2",{className:"text-lg font-bold",children:[" (",re.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1867,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1859,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[re.map(_=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:_.follower?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1881,columnNumber:23},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:_.follower?.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1882,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1880,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h4",{className:"font-medium",children:_.follower?.name||` ${_.follower_id.slice(-4)}`},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1887,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:_.follower?.role==="barber"?"":""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1891,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1886,columnNumber:21},this),e.jsxDEV(S,{size:"sm",variant:"outline",children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1895,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1879,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1878,columnNumber:17},this)},_.follower_id,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1874,columnNumber:15},this)),re.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Vs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1905,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1906,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1904,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1872,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1858,columnNumber:9},this):Xe?e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>Fe(!1),children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1923,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1918,columnNumber:13},this),e.jsxDEV("h2",{className:"text-lg font-bold",children:[" (",je.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1925,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1917,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[je.map(_=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:_.followed?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1939,columnNumber:23},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:_.followed?.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1940,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1938,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h4",{className:"font-medium",children:_.followed?.name||` ${_.followed_id.slice(-4)}`},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1945,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:_.followed?.role==="barber"?"":""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1949,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1944,columnNumber:21},this),e.jsxDEV(S,{size:"sm",variant:"outline",onClick:()=>Vt(_.followed_id),children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1953,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1937,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1936,columnNumber:17},this)},_.followed_id,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1932,columnNumber:15},this)),je.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Vs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1969,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1970,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1968,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1930,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1916,columnNumber:9},this):e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxDEV(Ce,{className:"h-20 w-20",children:[e.jsxDEV(Ae,{src:s.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1984,columnNumber:17},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-xl",children:s.name?s.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1985,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1983,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-foreground",children:s.name},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1990,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground",children:s.email},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1993,columnNumber:17},this),e.jsxDEV(X,{variant:"outline",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1994,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1989,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1982,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:os.bookings},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2e3,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2003,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1999,columnNumber:15},this),e.jsxDEV("div",{className:"cursor-pointer",onClick:()=>Ge(!0),children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:os.followers},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2009,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2012,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2005,columnNumber:15},this),e.jsxDEV("div",{className:"cursor-pointer",onClick:()=>Fe(!0),children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:os.following},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2018,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2021,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2014,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1998,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1981,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1980,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:()=>w(!0),children:[e.jsxDEV($s,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2033,columnNumber:13},this),""]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2028,columnNumber:11},this),e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:at,children:[e.jsxDEV(Ls,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2041,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2036,columnNumber:11},this),e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:()=>D(!0),children:[e.jsxDEV(Ka,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2049,columnNumber:13},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2044,columnNumber:11},this),e.jsxDEV(S,{variant:"destructive",className:"w-full justify-start gap-3",onClick:a,children:" "},void 0,!1,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2052,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:2027,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/CustomerDashboard.tsx",lineNumber:1979,columnNumber:7},this);switch(t){case"home":return Lt();case"search":return va();case"bookings":return Ft();case"profile":return Ut();default:return Lt()}}function Iu({user:s}){const[t,a]=$e(),[i,n]=r.useState(""),[l,o]=r.useState("requests"),[c,d]=r.useState([]),[p,m]=r.useState([]),[f,u]=r.useState([]);r.useEffect(()=>{(async()=>{if(!s?.id){d([]);return}try{const b=await W.getFriendRequests();d(b.requests||[])}catch(b){console.error("Error loading friend requests:",b),d([])}})(),g()},[s?.id]);const g=async()=>{if(s?.id)try{const[D,b]=await Promise.all([W.getFollows("followers"),W.getFollows("following")]);b.follows&&a.setFollows(b.follows);const P=D.follows||[],A=b.follows||[],I=await Promise.all(P.map(async Z=>{try{return{id:Z.follower_id,name:Z.follower?.name||` ${Z.follower_id.slice(-4)}`,avatar_url:Z.follower?.avatar_url||"/placeholder.svg",level:Z.follower?.level||1,points:Z.follower?.points||0,isFollowed:!1,isOnline:!1}}catch{return{id:Z.follower_id,name:` ${Z.follower_id.slice(-4)}`,avatar_url:"/placeholder.svg",level:1,points:0,isFollowed:!1,isOnline:!1}}})),Q=await Promise.all(A.map(async Z=>{try{return{id:Z.followed_id,name:Z.followed?.name||` ${Z.followed_id.slice(-4)}`,avatar_url:Z.followed?.avatar_url||"/placeholder.svg",level:Z.followed?.level||1,points:Z.followed?.points||0,isFollowed:!0,isOnline:!1}}catch{return{id:Z.followed_id,name:` ${Z.followed_id.slice(-4)}`,avatar_url:"/placeholder.svg",level:1,points:0,isFollowed:!0,isOnline:!1}}}));m(I),u(Q)}catch(D){console.error("Error loading follow data:",D)}},N=D=>D>=100?"":D>=51?"":D>=21?"":"",h=D=>D>=100?"VIP":D>=51?"":D>=21?"":"",y=async D=>{try{await W.respondToFriendRequest(D,"accepted"),d(b=>b.map(P=>P.id===D?{...P,status:"accepted"}:P)),a.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:"    ",data:null,read:!1,created_at:new Date().toISOString()})}catch(b){console.error("Error accepting friend request:",b),a.addNotification({id:Date.now().toString(),type:"system",title:"    ",message:b instanceof Error?b.message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}},C=async D=>{try{await W.respondToFriendRequest(D,"rejected"),d(b=>b.filter(P=>P.id!==D)),a.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}catch(b){console.error("Error rejecting friend request:",b),a.addNotification({id:Date.now().toString(),type:"system",title:"    ",message:b instanceof Error?b.message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}},V=async D=>{try{await W.unfollowUser(D);const b=t.follows.find(P=>P.followed_id===D);b&&a.removeFollow(b.id),u(P=>P.filter(A=>A.id!==D)),a.addNotification({id:Date.now().toString(),type:"friend_request",title:"  ",message:"    ",data:{userId:D},read:!1,created_at:new Date().toISOString()}),setTimeout(()=>{g()},500)}catch(b){console.error("Error unfollowing user:",b),a.addNotification({id:Date.now().toString(),type:"friend_request",title:"   ",message:"        ",data:{userId:D},read:!1,created_at:new Date().toISOString()})}},k=async D=>{try{const P=await W.followUser(D)||{id:Date.now().toString(),follower_id:s.id,followed_id:D,created_at:new Date().toISOString()};a.addFollow(P),m(A=>A.map(I=>I.id===D?{...I,isFollowingBack:!0}:I)),a.addNotification({id:Date.now().toString(),type:"new_follower",title:" ",message:"   ",data:{userId:D},read:!1,created_at:new Date().toISOString()}),setTimeout(()=>{g()},500)}catch(b){console.error("Error following back user:",b),a.addNotification({id:Date.now().toString(),type:"friend_request",title:"  ",message:"       ",data:{userId:D},read:!1,created_at:new Date().toISOString()})}},j=c.filter(D=>D.status==="pending"),x=()=>e.jsxDEV("div",{className:"space-y-4",children:j.length>0?j.map(D=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:D.sender.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:333,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:D.sender.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:334,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:332,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h4",{className:"font-medium text-foreground",children:D.sender.name||""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:341,columnNumber:21},this),D.sender.role==="barber"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{children:N(D.sender.level)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:346,columnNumber:25},this),e.jsxDEV(X,{variant:"outline",className:"text-xs",children:h(D.sender.level)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:347,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:345,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:340,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:353,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:339,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{size:"sm",onClick:()=>y(D.id),className:"h-8 px-3",children:[e.jsxDEV(Xs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:362,columnNumber:21},this),""]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:357,columnNumber:19},this),e.jsxDEV(S,{size:"sm",variant:"outline",onClick:()=>C(D.id),className:"h-8 px-3",children:[e.jsxDEV(fs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:371,columnNumber:21},this),""]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:365,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:356,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:331,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:330,columnNumber:13},this)},D.id,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:329,columnNumber:11},this)):e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(ea,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:382,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:383,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:386,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:381,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:380,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:326,columnNumber:5},this),w=()=>e.jsxDEV("div",{className:"space-y-4",children:p.length>0?p.map(D=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:D.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:403,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:D.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:404,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:402,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("h4",{className:"font-medium text-foreground",children:D.name||""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:410,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:D.role==="customer"?"":""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:413,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:409,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2",children:D.isFollowingBack?e.jsxDEV(X,{variant:"outline",className:"text-xs",children:""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:428,columnNumber:21},this):e.jsxDEV(S,{size:"sm",variant:"outline",onClick:()=>k(D.id),children:""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:420,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:418,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:401,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:400,columnNumber:13},this)},D.id,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:399,columnNumber:11},this)):e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Vs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:440,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:441,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"     "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:444,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:439,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:438,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:396,columnNumber:5},this),v=()=>e.jsxDEV("div",{className:"space-y-4",children:f.length>0?f.map(D=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:D.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:461,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:D.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:462,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:460,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h4",{className:"font-medium text-foreground",children:D.name||""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:469,columnNumber:21},this),D.role==="barber"&&D.level&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{children:N(D.level)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:474,columnNumber:25},this),e.jsxDEV(X,{variant:"outline",className:"text-xs",children:h(D.level)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:475,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:473,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:468,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxDEV("span",{children:D.role==="customer"?"":""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:482,columnNumber:21},this),D.isFollowingBack&&e.jsxDEV(X,{variant:"outline",className:"text-xs",children:" "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:486,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:481,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:467,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2",children:e.jsxDEV(S,{size:"sm",variant:"outline",onClick:()=>V(D.id),children:[e.jsxDEV(Nn,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:499,columnNumber:21},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:494,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:493,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:459,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:458,columnNumber:13},this)},D.id,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:457,columnNumber:11},this)):e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Ms,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:510,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:511,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:514,columnNumber:13},this),e.jsxDEV(S,{variant:"outline",children:" "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:517,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:509,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:508,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:454,columnNumber:5},this);return e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ls,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:528,columnNumber:9},this),e.jsxDEV(He,{value:i,onChange:D=>n(D.target.value),placeholder:"  ...",className:"pr-10 text-right"},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:529,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:527,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:j.length},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:541,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:544,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:540,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:539,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:p.length},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:550,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:553,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:549,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:548,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:f.length},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:559,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:562,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:558,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:557,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:538,columnNumber:7},this),e.jsxDEV(Qs,{value:l,onValueChange:o,children:[e.jsxDEV(Hs,{className:"grid w-full grid-cols-3",children:[e.jsxDEV(Me,{value:"requests",className:"relative",children:[" ",j.length>0&&e.jsxDEV(X,{className:"absolute -top-2 -right-2 h-5 w-5 text-xs p-0 flex items-center justify-center bg-red-500",children:j.length},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:573,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:570,columnNumber:11},this),e.jsxDEV(Me,{value:"followers",children:""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:578,columnNumber:11},this),e.jsxDEV(Me,{value:"following",children:""},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:579,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:569,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6",children:[e.jsxDEV(We,{value:"requests",children:x()},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:583,columnNumber:11},this),e.jsxDEV(We,{value:"followers",children:w()},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:584,columnNumber:11},this),e.jsxDEV(We,{value:"following",children:v()},void 0,!1,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:585,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:582,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:568,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/FriendsPage.tsx",lineNumber:525,columnNumber:5},this)}const Mu=[" "," ","","","","","",""],Bu=[{value:15,label:"15 "},{value:30,label:"30 "},{value:45,label:"45 "},{value:60,label:""},{value:90,label:" "},{value:120,label:""}];function Lu({user:s,onBack:t}){const[a,i]=$e(),[n,l]=r.useState([]),[o,c]=r.useState(!1),[d,p]=r.useState(!1),[m,f]=r.useState(null),[u,g]=r.useState({name:"",description:"",price:0,duration_minutes:30,category:" ",is_active:!0});r.useEffect(()=>{N()},[]);const N=async()=>{c(!0);try{const x=await W.getBarberServices();l(x.services)}catch(x){console.error("Error loading services:",x),l([])}finally{c(!1)}},h=async()=>{c(!0);try{if(m){const x=await W.updateService(m.id,u);x.success&&l(w=>w.map(v=>v.id===m.id?x.service:v))}else{const x=await W.createService(u);x.success&&l(w=>[...w,x.service])}if(g({name:"",description:"",price:0,duration_minutes:30,category:" ",is_active:!0}),f(null),i.addNotification({id:Date.now().toString(),type:"success",title:m?"  ":"   ",message:m?"   ":"    ",data:null,read:!1,created_at:new Date().toISOString()}),p(!1),!m){const x={...s,points:s.points+2};i.setUser(x)}}catch(x){console.error("Error saving service:",x)}finally{c(!1)}},y=x=>{f(x),g({name:x.name,description:x.description||"",price:x.price,duration_minutes:x.duration_minutes,category:x.category||" ",is_active:x.is_active}),p(!0)},C=async x=>{if(confirm("      "))try{(await W.deleteService(x)).success&&(l(v=>v.filter(D=>D.id!==x)),i.addNotification({id:Date.now().toString(),type:"success",title:"  ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()}))}catch(w){console.error("Error deleting service:",w),i.addNotification({id:Date.now().toString(),type:"error",title:"  ",message:"    ",data:null,read:!1,created_at:new Date().toISOString()})}},V=async(x,w)=>{l(v=>v.map(D=>D.id===x?{...D,is_active:w}:D))},k=x=>(x/1e3).toLocaleString("ar-SA")+"  .",j=x=>({" ":"bg-blue-500/10 text-blue-500 border-blue-500/20"," ":"bg-green-500/10 text-green-500 border-green-500/20",:"bg-purple-500/10 text-purple-500 border-purple-500/20",:"bg-red-500/10 text-red-500 border-red-500/20",:"bg-golden-500/10 text-golden-500 border-golden-500/20",:"bg-pink-500/10 text-pink-500 border-pink-500/20",:"bg-amber-500/10 text-amber-500 border-amber-500/20"})[x]||"bg-gray-500/10 text-gray-500 border-gray-500/20";return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:251,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:250,columnNumber:13},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:253,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:249,columnNumber:11},this),e.jsxDEV(Dt,{open:d,onOpenChange:p,children:[e.jsxDEV(ni,{asChild:!0,children:e.jsxDEV(S,{className:"bg-primary hover:bg-primary/90",onClick:()=>{f(null),g({name:"",description:"",price:0,duration_minutes:30,category:" ",is_active:!0})},children:[e.jsxDEV(Ct,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:272,columnNumber:17},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:258,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:257,columnNumber:13},this),e.jsxDEV(et,{className:"sm:max-w-md",children:[e.jsxDEV(ks,{children:[e.jsxDEV(Cs,{children:m?" ":"  "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:279,columnNumber:17},this),e.jsxDEV(Ws,{children:"      "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:282,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:278,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"name",children:" "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:289,columnNumber:19},this),e.jsxDEV(He,{id:"name",value:u.name,onChange:x=>g(w=>({...w,name:x.target.value})),placeholder:":   ",className:"text-right"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:290,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:288,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"category",children:""},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:302,columnNumber:19},this),e.jsxDEV(is,{value:u.category,onValueChange:x=>g(w=>({...w,category:x})),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:310,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:309,columnNumber:21},this),e.jsxDEV(ss,{children:Mu.map(x=>e.jsxDEV(De,{value:x,children:x},x,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:314,columnNumber:25},this))},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:312,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:303,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:301,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"price",children:" (.)"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:324,columnNumber:21},this),e.jsxDEV(He,{id:"price",type:"number",value:u.price,onChange:x=>g(w=>({...w,price:Number(x.target.value)})),placeholder:"25000"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:325,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:323,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"duration",children:""},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:340,columnNumber:21},this),e.jsxDEV(is,{value:u.duration_minutes.toString(),onValueChange:x=>g(w=>({...w,duration_minutes:Number(x)})),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:351,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:350,columnNumber:23},this),e.jsxDEV(ss,{children:Bu.map(x=>e.jsxDEV(De,{value:x.value.toString(),children:x.label},x.value,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:355,columnNumber:27},this))},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:353,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:341,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:339,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:322,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{htmlFor:"description",children:" ()"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:368,columnNumber:19},this),e.jsxDEV(jt,{id:"description",value:u.description,onChange:x=>g(w=>({...w,description:x.target.value})),placeholder:"  ...",className:"text-right min-h-[80px]"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:369,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:367,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Ye,{id:"active",checked:u.is_active,onCheckedChange:x=>g(w=>({...w,is_active:x}))},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:384,columnNumber:19},this),e.jsxDEV(he,{htmlFor:"active",children:" "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:391,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:383,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:287,columnNumber:15},this),e.jsxDEV(bt,{children:[e.jsxDEV(S,{variant:"outline",onClick:()=>p(!1),children:""},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:396,columnNumber:17},this),e.jsxDEV(S,{onClick:h,disabled:!u.name||o,children:o?" ...":m?"":""},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:399,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:395,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:277,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:248,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:247,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(ys,{className:"h-8 w-8 text-primary mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:420,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:n.length},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:421,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:424,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:419,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:418,columnNumber:11},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(aa,{className:"h-8 w-8 text-green-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:430,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:n.filter(x=>x.is_active).length},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:431,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:434,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:429,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:428,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:417,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:441,columnNumber:11},this),n.map(x=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("h4",{className:"font-semibold text-foreground",children:x.name},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:451,columnNumber:23},this),e.jsxDEV(X,{className:j(x.category||""),children:x.category},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:454,columnNumber:23},this),!x.is_active&&e.jsxDEV(X,{variant:"secondary",className:"text-xs",children:" "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:460,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:450,columnNumber:21},this),x.description&&e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:x.description},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:467,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-1 text-green-500",children:[e.jsxDEV(aa,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:474,columnNumber:25},this),e.jsxDEV("span",{children:k(x.price)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:475,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:473,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsxDEV(xs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:478,columnNumber:25},this),e.jsxDEV("span",{children:[x.duration_minutes," "]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:479,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:477,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:472,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:449,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ye,{checked:x.is_active,onCheckedChange:w=>V(x.id,w)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:485,columnNumber:21},this),e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>y(x),children:e.jsxDEV(Ol,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:496,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:491,columnNumber:21},this),e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>C(x.id),className:"text-destructive hover:text-destructive",children:e.jsxDEV(Nt,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:504,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:498,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:484,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:448,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:447,columnNumber:15},this)},x.id,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:446,columnNumber:13},this)),n.length===0&&!o&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(ys,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:515,columnNumber:17},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:516,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:519,columnNumber:17},this),e.jsxDEV(S,{onClick:()=>p(!0),className:"bg-primary hover:bg-primary/90",children:[e.jsxDEV(Ct,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:526,columnNumber:19},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:522,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:514,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:513,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:440,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:415,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/ServicesManagement.tsx",lineNumber:245,columnNumber:5},this)}const Ui=["06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],Ou=[{day_of_week:0,day_name:"",is_available:!0,start_time:"09:00",end_time:"18:00"},{day_of_week:1,day_name:"",is_available:!0,start_time:"09:00",end_time:"18:00"},{day_of_week:2,day_name:"",is_available:!0,start_time:"09:00",end_time:"18:00"},{day_of_week:3,day_name:"",is_available:!0,start_time:"09:00",end_time:"18:00"},{day_of_week:4,day_name:"",is_available:!0,start_time:"09:00",end_time:"18:00"},{day_of_week:5,day_name:"",is_available:!1,start_time:"09:00",end_time:"18:00"},{day_of_week:6,day_name:"",is_available:!0,start_time:"09:00",end_time:"18:00"}];function Fu({user:s,onBack:t}){const[a,i]=$e(),[n,l]=r.useState([]),[o,c]=r.useState(!1),[d,p]=r.useState(!1);r.useEffect(()=>{m()},[]);const m=async()=>{try{c(!0);const v=await W.getWorkingHours();l(v.schedule)}catch(v){console.error("Error loading working hours:",v),l(Ou)}finally{c(!1)}},[f,u]=r.useState(!1),g=(v,D)=>{l(b=>b.map((P,A)=>A===v?{...P,...D}:P)),u(!0)},N=(v,D)=>{g(v,{is_available:D})},h=(v,D,b)=>{g(v,{[D]:b})},y=v=>{const D=n[v];confirm(`    ${D.day_name}  `)&&(l(b=>b.map(P=>({...P,is_available:D.is_available,start_time:D.start_time,end_time:D.end_time}))),u(!0))},C=v=>{switch(v){case"weekdays":l(D=>D.map(b=>({...b,is_available:b.day_of_week!==5,start_time:"09:00",end_time:"18:00"})));break;case"weekend":l(D=>D.map(b=>({...b,is_available:b.day_of_week===5||b.day_of_week===6,start_time:"10:00",end_time:"16:00"})));break;case"all_open":l(D=>D.map(b=>({...b,is_available:!0,start_time:"09:00",end_time:"18:00"})));break;case"all_closed":l(D=>D.map(b=>({...b,is_available:!1})));break}u(!0)},V=async()=>{p(!0);try{await W.saveWorkingHours(n),u(!1),i.addNotification({id:Date.now().toString(),type:"success",title:"   ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}catch(v){console.error("Error saving schedule:",v)}finally{p(!1)}},k=()=>{confirm("     ")&&(m(),u(!1))},j=()=>{const v=n.filter(b=>b.is_available).length,D=n.reduce((b,P)=>{if(!P.is_available||!P.start_time||!P.end_time)return b;const A=new Date(`2024-01-01T${P.start_time}`),Q=(new Date(`2024-01-01T${P.end_time}`).getTime()-A.getTime())/(1e3*60*60);return b+(isNaN(Q)?0:Q)},0);return{activeDays:v,totalHours:isNaN(D)?0:Math.round(D*10)/10}},x=(v,D)=>{const b=new Date(`2024-01-01T${v}`);return new Date(`2024-01-01T${D}`)>b},w=j();return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:305,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:304,columnNumber:13},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:307,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:303,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[f&&e.jsxDEV(S,{variant:"outline",size:"sm",onClick:k,children:[e.jsxDEV(Fl,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:313,columnNumber:17},this),""]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:312,columnNumber:15},this),e.jsxDEV(S,{onClick:V,disabled:!f||o,className:"bg-primary hover:bg-primary/90",children:[e.jsxDEV(sa,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:322,columnNumber:15},this),o?"...":""]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:317,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:302,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:301,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(As,{className:"h-8 w-8 text-primary mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:334,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:w.activeDays},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:335,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:338,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:333,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:332,columnNumber:11},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(xs,{className:"h-8 w-8 text-green-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:344,columnNumber:15},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:w.totalHours},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:345,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:348,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:343,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:342,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:331,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"text-lg",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:356,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:355,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>C("weekdays"),children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:360,columnNumber:15},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>C("weekend"),children:"  "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:367,columnNumber:15},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>C("all_open"),children:"  "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:374,columnNumber:15},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>C("all_closed"),children:"  "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:381,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:359,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:358,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:354,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:394,columnNumber:11},this),n.map((v,D)=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("h4",{className:"font-semibold text-foreground",children:v.day_name},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:405,columnNumber:23},this),v.is_available?e.jsxDEV(X,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:""},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:409,columnNumber:25},this):e.jsxDEV(X,{variant:"secondary",children:""},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:413,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:404,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ye,{checked:v.is_available,onCheckedChange:b=>N(D,b)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:418,columnNumber:23},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>y(D),className:"text-xs",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:424,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:417,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:403,columnNumber:19},this),v.is_available&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{className:"text-sm",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:439,columnNumber:25},this),e.jsxDEV(is,{value:v.start_time,onValueChange:b=>h(D,"start_time",b),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:447,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:446,columnNumber:27},this),e.jsxDEV(ss,{children:Ui.map(b=>e.jsxDEV(De,{value:b,children:b},`start-${D}-${b}`,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:451,columnNumber:31},this))},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:449,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:440,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:438,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(he,{className:"text-sm",children:" "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:463,columnNumber:25},this),e.jsxDEV(is,{value:v.end_time,onValueChange:b=>h(D,"end_time",b),children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:471,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:470,columnNumber:27},this),e.jsxDEV(ss,{children:Ui.map(b=>e.jsxDEV(De,{value:b,children:b},`end-${D}-${b}`,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:475,columnNumber:31},this))},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:473,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:464,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:462,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:437,columnNumber:21},this),v.is_available&&!x(v.start_time,v.end_time)&&e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[e.jsxDEV(Ca,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:492,columnNumber:25},this),e.jsxDEV("span",{children:"       "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:493,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:491,columnNumber:23},this),v.is_available&&x(v.start_time,v.end_time)&&e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[" : ",v.start_time," - ",v.end_time," (",(()=>{const b=new Date(`2024-01-01T${v.start_time}`),A=(new Date(`2024-01-01T${v.end_time}`).getTime()-b.getTime())/(1e3*60*60);return isNaN(A)?"0":(Math.round(A*10)/10).toString()})()," ",")"]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:500,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:401,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:400,columnNumber:15},this)},v.day_of_week,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:399,columnNumber:13},this))]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:393,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"text-lg flex items-center gap-2",children:[e.jsxDEV(Ca,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:527,columnNumber:15},this),""]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:526,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:525,columnNumber:11},this),e.jsxDEV(T,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxDEV("p",{children:"         "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:532,columnNumber:13},this),e.jsxDEV("p",{children:"         "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:533,columnNumber:13},this),e.jsxDEV("p",{children:"        "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:534,columnNumber:13},this),e.jsxDEV("p",{children:"      "},void 0,!1,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:535,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:531,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:524,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:329,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/WorkingHours.tsx",lineNumber:299,columnNumber:5},this)}var Ni="Progress",fi=100,[Uu,Lp]=ht(Ni),[Wu,$u]=Uu(Ni),Ro=r.forwardRef((s,t)=>{const{__scopeProgress:a,value:i=null,max:n,getValueLabel:l=zu,...o}=s;(n||n===0)&&!Wi(n)&&console.error(Hu(`${n}`,"Progress"));const c=Wi(n)?n:fi;i!==null&&!$i(i,c)&&console.error(qu(`${i}`,"Progress"));const d=$i(i,c)?i:null,p=la(d)?l(d,c):void 0;return L.jsx(Wu,{scope:a,value:d,max:c,children:L.jsx(Ee.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":la(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":Bo(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});Ro.displayName=Ni;var Io="ProgressIndicator",Mo=r.forwardRef((s,t)=>{const{__scopeProgress:a,...i}=s,n=$u(Io,a);return L.jsx(Ee.div,{"data-state":Bo(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...i,ref:t})});Mo.displayName=Io;function zu(s,t){return`${Math.round(s/t*100)}%`}function Bo(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function la(s){return typeof s=="number"}function Wi(s){return la(s)&&!isNaN(s)&&s>0}function $i(s,t){return la(s)&&!isNaN(s)&&s<=t&&s>=0}function Hu(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fi}\`.`}function qu(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fi} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Lo=Ro,Gu=Mo;const ws=r.forwardRef(({className:s,value:t,...a},i)=>e.jsxDEV(Lo,{ref:i,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...a,children:e.jsxDEV(Gu,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}},void 0,!1,{fileName:"/app/code/client/components/ui/progress.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/code/client/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));ws.displayName=Lo.displayName;const Yu=[{value:"week",label:" "},{value:"month",label:" "},{value:"quarter",label:" "},{value:"year",label:" "}];function Ku({user:s,onBack:t}){const[a,i]=r.useState("month"),[n,l]=r.useState(!1),[o,c]=r.useState({overview:{totalBookings:156,completedBookings:142,totalRevenue:425e4,averageRating:4.7,responseTime:12,completionRate:91,newCustomers:23,repeatCustomers:119},trends:{bookings:[{date:"2024-01-01",count:12,revenue:3e5},{date:"2024-01-02",count:15,revenue:375e3},{date:"2024-01-03",count:8,revenue:2e5},{date:"2024-01-04",count:18,revenue:45e4},{date:"2024-01-05",count:22,revenue:55e4}],ratings:[{date:"2024-01-01",average:4.5,count:10},{date:"2024-01-02",average:4.8,count:12},{date:"2024-01-03",average:4.6,count:8},{date:"2024-01-04",average:4.9,count:15},{date:"2024-01-05",average:4.7,count:18}]},topServices:[{name:"  ",bookings:45,revenue:1125e3,growth:12},{name:" ",bookings:32,revenue:48e4,growth:8},{name:" ",bookings:18,revenue:9e5,growth:25},{name:" ",bookings:28,revenue:42e4,growth:-5}],peakHours:[{hour:9,bookings:5},{hour:10,bookings:12},{hour:11,bookings:18},{hour:12,bookings:15},{hour:13,bookings:8},{hour:14,bookings:22},{hour:15,bookings:25},{hour:16,bookings:20},{hour:17,bookings:16},{hour:18,bookings:10}],monthlyGoals:{bookings:{target:200,current:156},revenue:{target:5e6,current:425e4},rating:{target:4.8,current:4.7}}});r.useEffect(()=>{d()},[a]);const d=async()=>{l(!0);try{const N=await W.getBarberAnalytics(a,s.id);c(N.analytics)}catch(N){console.error("Error loading analytics:",N)}finally{l(!1)}},p=N=>(N/1e3).toLocaleString("ar-SA")+"  .",m=N=>`${N}%`,f=N=>N>0?"text-green-500":N<0?"text-red-500":"text-gray-500",u=N=>N>0?e.jsxDEV(Aa,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:166,columnNumber:28},this):N<0?e.jsxDEV(Ul,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:167,columnNumber:28},this):null,g=(N,h)=>Math.min(N/h*100,100);return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:182,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:181,columnNumber:13},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:180,columnNumber:11},this),e.jsxDEV(is,{value:a,onValueChange:i,children:[e.jsxDEV(es,{className:"w-40",children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:189,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:188,columnNumber:13},this),e.jsxDEV(ss,{children:Yu.map(N=>e.jsxDEV(De,{value:N.value,children:N.label},N.value,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:193,columnNumber:17},this))},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:187,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:179,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:178,columnNumber:7},this),e.jsxDEV("div",{className:"p-4 space-y-6",children:e.jsxDEV(Qs,{defaultValue:"overview",className:"w-full",children:[e.jsxDEV(Hs,{className:"grid w-full grid-cols-3",children:[e.jsxDEV(Me,{value:"overview",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:205,columnNumber:13},this),e.jsxDEV(Me,{value:"performance",children:""},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:206,columnNumber:13},this),e.jsxDEV(Me,{value:"goals",children:""},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:204,columnNumber:11},this),e.jsxDEV(We,{value:"overview",className:"space-y-6 mt-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:217,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:o.overview.totalBookings},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:220,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:216,columnNumber:21},this),e.jsxDEV(As,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:224,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:215,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:214,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:213,columnNumber:15},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:233,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:p(o.overview.totalRevenue)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:236,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:232,columnNumber:21},this),e.jsxDEV(aa,{className:"h-8 w-8 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:240,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:231,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:230,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:229,columnNumber:15},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:249,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:o.overview.averageRating},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:252,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:248,columnNumber:21},this),e.jsxDEV(ms,{className:"h-8 w-8 text-yellow-500"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:256,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:247,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:246,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:245,columnNumber:15},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:265,columnNumber:23},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:m(o.overview.completionRate)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:268,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:264,columnNumber:21},this),e.jsxDEV(bi,{className:"h-8 w-8 text-blue-500"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:263,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:262,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:212,columnNumber:13},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(bn,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:284,columnNumber:19},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:283,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:282,columnNumber:15},this),e.jsxDEV(T,{className:"space-y-4",children:o.topServices.map((N,h)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(X,{variant:"outline",className:"w-8 h-8 p-0",children:h+1},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:295,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-foreground",children:N.name},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:299,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[N.bookings,"  "," ",p(N.revenue)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:302,columnNumber:25},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:298,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:294,columnNumber:21},this),e.jsxDEV("div",{className:`flex items-center gap-1 ${f(N.growth)}`,children:[u(N.growth),e.jsxDEV("span",{className:"text-sm font-medium",children:[Math.abs(N.growth),"%"]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:313,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:309,columnNumber:21},this)]},N.name,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:290,columnNumber:19},this))},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:288,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:281,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:210,columnNumber:11},this),e.jsxDEV(We,{value:"performance",className:"space-y-6 mt-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:328,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV(T,{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:332,columnNumber:21},this),e.jsxDEV("span",{className:"text-2xl font-bold text-foreground",children:[o.overview.responseTime," "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:335,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:331,columnNumber:19},this),e.jsxDEV(ws,{value:75,className:"h-2"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:339,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"  80%  "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:340,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:330,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:326,columnNumber:15},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:""},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:348,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:347,columnNumber:17},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-2xl font-bold text-green-500",children:o.overview.newCustomers},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:353,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:356,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:352,columnNumber:21},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-2xl font-bold text-blue-500",children:o.overview.repeatCustomers},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:359,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:362,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:358,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:351,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:350,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:346,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:325,columnNumber:13},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(xs,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:375,columnNumber:19},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:374,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:373,columnNumber:15},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-2",children:o.peakHours.sort((N,h)=>h.bookings-N.bookings).slice(0,5).map(N=>e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-foreground",children:[N.hour,":00 - ",N.hour+1,":00"]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:389,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ws,{value:N.bookings/25*100,className:"h-2 w-20"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:393,columnNumber:27},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground w-8",children:N.bookings},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:397,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:392,columnNumber:25},this)]},N.hour,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:385,columnNumber:23},this))},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:380,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:372,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:323,columnNumber:11},this),e.jsxDEV(We,{value:"goals",className:"space-y-6 mt-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(bi,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:414,columnNumber:21},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:413,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:412,columnNumber:17},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-foreground",children:[o.monthlyGoals.bookings.current," "," ",o.monthlyGoals.bookings.target]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:421,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[Math.round(g(o.monthlyGoals.bookings.current,o.monthlyGoals.bookings.target)),"%"]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:425,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:420,columnNumber:21},this),e.jsxDEV(ws,{value:g(o.monthlyGoals.bookings.current,o.monthlyGoals.bookings.target),className:"h-3"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:435,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:419,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:418,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:411,columnNumber:15},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(aa,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:449,columnNumber:21},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:448,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:447,columnNumber:17},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-foreground",children:[p(o.monthlyGoals.revenue.current)," ",""," ",p(o.monthlyGoals.revenue.target)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:456,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[Math.round(g(o.monthlyGoals.revenue.current,o.monthlyGoals.revenue.target)),"%"]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:465,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:455,columnNumber:21},this),e.jsxDEV(ws,{value:g(o.monthlyGoals.revenue.current,o.monthlyGoals.revenue.target),className:"h-3"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:475,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:454,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:453,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:446,columnNumber:15},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(ms,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:489,columnNumber:21},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:488,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:487,columnNumber:17},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-foreground",children:[o.monthlyGoals.rating.current," "," ",o.monthlyGoals.rating.target," "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:496,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[Math.round(o.monthlyGoals.rating.current/o.monthlyGoals.rating.target*100),"%"]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:500,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:495,columnNumber:21},this),e.jsxDEV(ws,{value:o.monthlyGoals.rating.current/o.monthlyGoals.rating.target*100,className:"h-3"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:509,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:494,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:493,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:486,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:410,columnNumber:13},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(Xa,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:526,columnNumber:19},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:525,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:524,columnNumber:15},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"text-center p-4 bg-golden-500/10 rounded-lg",children:[e.jsxDEV(gn,{className:"h-8 w-8 text-golden-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:533,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm font-medium text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:534,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"   95%  "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:537,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:532,columnNumber:19},this),e.jsxDEV("div",{className:"text-center p-4 bg-blue-500/10 rounded-lg",children:[e.jsxDEV(Vs,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:543,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm font-medium text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:544,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"  20  "},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:547,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:542,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:531,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:530,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:523,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:408,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:203,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:202,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/AnalyticsDashboard.tsx",lineNumber:176,columnNumber:5},this)}function Ju({user:s,activeTab:t,onLogout:a}){const[i,n]=$e(),[l,o]=r.useState(""),[c,d]=r.useState(null),[p,m]=r.useState([]),[f,u]=r.useState([]),[g,N]=r.useState(0),[h,y]=r.useState(0),[C,V]=r.useState(!1),[k,j]=r.useState(!1),x=async B=>{try{return(await W.uploadImage(B)).url}catch(ie){return console.warn("Image upload API not available, using base64 fallback:",ie),await w(B)}},w=B=>new Promise((ie,Be)=>{const Pe=new FileReader;Pe.onload=()=>{const ls=Pe.result;console.log("Image converted to base64"),ie(ls)},Pe.onerror=()=>{Be(new Error("Failed to read image file"))},Pe.readAsDataURL(B)}),[v,D]=r.useState(null),[b,P]=r.useState(!1),[A,I]=r.useState(!1),[Q,Z]=r.useState(!1),[ne,ue]=r.useState(!1),[Ne,ee]=r.useState(!1),[$,le]=r.useState(!1),[G,se]=r.useState(!1),[pe,Re]=r.useState(null);r.useEffect(()=>{fe(),Ve()},[s.id]);const Ve=async()=>{try{const[B,ie]=await Promise.all([W.getFollows("followers"),W.getFollows("following")]),Be=B.follows||[],Pe=ie.follows||[];m(Be),u(Pe),N(Be.length),y(Pe.length)}catch(B){console.error("Error loading followers data:",B),m([]),u([]),N(0),y(0)}},fe=async()=>{if(s?.id)try{n.setLoading(!0);try{const B=await W.getBookings();n.setBookings(B.bookings||[])}catch(B){console.error("Error loading bookings:",B),n.setBookings([])}try{const B=await W.getPosts(s.id);n.setPosts(B.posts||[])}catch(B){console.error("Error loading posts:",B),n.setPosts([])}}catch(B){console.error("Error loading barber data:",B)}finally{n.setLoading(!1)}},M=B=>B>=100?"":B>=51?"":B>=21?"":"",H=B=>B>=100?"VIP":B>=51?"":B>=21?"":"";if(b&&v)return e.jsxDEV(ko,{profileUser:v,currentUser:s,onBack:()=>{P(!1),D(null)},onMessage:()=>{P(!1),Re(v),se(!0)}},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:177,columnNumber:7},this);if(A)return e.jsxDEV(Lu,{user:s,onBack:()=>I(!1)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:196,columnNumber:7},this);if(Q)return e.jsxDEV(Fu,{user:s,onBack:()=>Z(!1)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:206,columnNumber:7},this);if(ne)return e.jsxDEV(Ku,{user:s,onBack:()=>ue(!1)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:213,columnNumber:7},this);if(Ne)return e.jsxDEV(_o,{user:s,onBack:()=>ee(!1)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:219,columnNumber:12},this);if($)return e.jsxDEV(To,{user:s,onBack:()=>le(!1),onSave:B=>{le(!1)}},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:225,columnNumber:7},this);if(G)return e.jsxDEV(pi,{user:s,targetUser:pe,onBack:()=>{se(!1),Re(null)}},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:238,columnNumber:7},this);const re=B=>new Date(B).toLocaleDateString("ar-SA",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}),ce=B=>{const ie=new Date(B),Pe=Math.floor((new Date().getTime()-ie.getTime())/(1e3*60*60));return Pe<1?" ":Pe<24?` ${Pe} `:` ${Math.floor(Pe/24)} `},je=async B=>{try{await W.updateBooking(B,{status:"accepted"}),n.updateBooking(B,{status:"accepted"});const ie=i.bookings.find(Be=>Be.id===B);ie&&n.addNotification({id:Date.now().toString(),type:"booking_accepted",title:"  ",message:`   ${ie.user?.name||""}`,data:ie,read:!1,created_at:new Date().toISOString()})}catch(ie){console.error("Error accepting booking:",ie)}},ye=async B=>{try{await W.updateBooking(B,{status:"rejected"}),n.updateBooking(B,{status:"rejected"});const ie=i.bookings.find(Be=>Be.id===B);ie&&n.addNotification({id:Date.now().toString(),type:"booking_rejected",title:"  ",message:`   ${ie.user?.name||""}`,data:ie,read:!1,created_at:new Date().toISOString()})}catch(ie){console.error("Error rejecting booking:",ie)}},ts=async()=>{if(!(!c||!l.trim()))try{n.setLoading(!0);const B=await x(c),ie={user_id:s.id,image_url:B,caption:l,frame_style:H(s.level)},Pe={...await W.createPost(ie),user:s,likes:0};n.addPost(Pe),o(""),d(null),window.dispatchEvent(new CustomEvent("postsUpdated"));const ls={...s,points:s.points+5};n.setUser(ls),n.addNotification({id:Date.now().toString(),type:"success",title:"  ",message:"      5 ",data:null,read:!1,created_at:new Date().toISOString()})}catch(B){console.error("Error creating post:",B)}finally{n.setLoading(!1)}},Ge=B=>{D({...B,role:"customer",status:"active",is_verified:!0,created_at:new Date().toISOString()}),P(!0)},Xe=()=>e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(Aa,{className:"h-8 w-8 text-primary mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:390,columnNumber:13},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:s.points},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:391,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:392,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:389,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:388,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(Xa,{className:"h-8 w-8 text-golden-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:398,columnNumber:13},this),e.jsxDEV("p",{className:"text-lg font-bold text-foreground flex items-center justify-center gap-1",children:[M(s.level),H(s.level)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:399,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:403,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:397,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:396,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:387,columnNumber:7},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"text-lg flex items-center gap-2",children:[e.jsxDEV(Os,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:412,columnNumber:13},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:411,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:410,columnNumber:9},this),e.jsxDEV(T,{className:"space-y-3",children:[i.bookings.filter(B=>B.status==="pending").slice(0,2).map(B=>e.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[e.jsxDEV(Ce,{className:"h-10 w-10 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>B.user&&Ge(B.user),children:[e.jsxDEV(Ae,{src:B.user?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:431,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:B.user?.name?B.user.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:432,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:425,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"font-medium text-foreground text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>B.user&&Ge(B.user),children:B.user?.name||""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:438,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:re(B.datetime)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:446,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:437,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV(S,{size:"sm",className:"h-7 px-2",onClick:()=>je(B.id),children:e.jsxDEV(Xs,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:457,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:452,columnNumber:19},this),e.jsxDEV(S,{size:"sm",variant:"outline",className:"h-7 px-2",onClick:()=>ye(B.id),children:e.jsxDEV(fs,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:465,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:459,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:451,columnNumber:17},this)]},B.id,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:421,columnNumber:15},this)),i.bookings.filter(B=>B.status==="pending").length===0&&e.jsxDEV("p",{className:"text-center text-muted-foreground py-4",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:473,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:416,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:409,columnNumber:7},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"text-lg flex items-center gap-2",children:[e.jsxDEV(Yt,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:484,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:483,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:482,columnNumber:9},this),e.jsxDEV(T,{className:"space-y-3",children:i.posts.slice(0,2).map(B=>e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:e.jsxDEV("img",{src:B.image_url,alt:"Post",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:492,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:491,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm text-foreground mb-1",children:B.caption},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:500,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxDEV("span",{children:[" ",B.likes]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:502,columnNumber:19},this),e.jsxDEV("span",{children:[" ",B.comments]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:503,columnNumber:19},this),e.jsxDEV("span",{children:ce(B.created_at)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:504,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:501,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:499,columnNumber:15},this)]},B.id,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:490,columnNumber:13},this))},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:488,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:481,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:385,columnNumber:5},this),Fe=()=>e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:516,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[i.bookings.filter(B=>B.status==="pending").map(B=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:B.user?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:526,columnNumber:21},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:B.user?.name?B.user.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:527,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:525,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h4",{className:"font-medium text-foreground",children:B.user?.name||""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:534,columnNumber:23},this),e.jsxDEV(X,{variant:"outline",className:"text-xs",children:[e.jsxDEV(xs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:538,columnNumber:25},this),""]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:537,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:533,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV(As,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:545,columnNumber:25},this),re(B.datetime)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:544,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:543,columnNumber:21},this),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[e.jsxDEV(S,{size:"sm",className:"flex-1",onClick:()=>je(B.id),children:[e.jsxDEV(Xs,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:556,columnNumber:25},this),""]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:551,columnNumber:23},this),e.jsxDEV(S,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>ye(B.id),children:[e.jsxDEV(fs,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:565,columnNumber:25},this),""]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:559,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:550,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:532,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:524,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:523,columnNumber:15},this)},B.id,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:522,columnNumber:13},this)),i.bookings.filter(B=>B.status==="pending").length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Os,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:578,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:579,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:582,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:577,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:576,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:518,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:592,columnNumber:9},this),i.bookings.filter(B=>B.status==="accepted").map(B=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-10 w-10",children:[e.jsxDEV(Ae,{src:B.user?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:604,columnNumber:23},this),e.jsxDEV(_e,{className:"bg-green-500/10 text-green-500",children:B.user?.name?B.user.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:605,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:603,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-foreground",children:B.user?.name||""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:611,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:re(B.datetime)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:614,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:610,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:602,columnNumber:19},this),e.jsxDEV(X,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:620,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:601,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:600,columnNumber:15},this)},B.id,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:599,columnNumber:13},this))]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:591,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:515,columnNumber:5},this),os=()=>e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:633,columnNumber:7},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-sm font-medium text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:639,columnNumber:13},this),e.jsxDEV("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:c?e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"w-32 h-32 mx-auto bg-muted rounded-lg flex items-center justify-center",children:e.jsxDEV(Yt,{className:"h-12 w-12 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:646,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:645,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-foreground",children:c.name},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:648,columnNumber:19},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>d(null),children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:651,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:644,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Wl,{className:"h-12 w-12 text-muted-foreground mx-auto"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:661,columnNumber:19},this),e.jsxDEV("p",{className:"text-foreground font-medium",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:662,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"PNG, JPG, GIF -  10MB"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:663,columnNumber:19},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>document.getElementById("image-upload")?.click(),children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:666,columnNumber:19},this),e.jsxDEV("input",{id:"image-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:B=>{const ie=B.target.files?.[0];if(ie){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(ie.type)){n.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:"    JPG, PNG  GIF",data:null,read:!1,created_at:new Date().toISOString()});return}const Pe=10*1024*1024;if(ie.size>Pe){n.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:"      10 ",data:null,read:!1,created_at:new Date().toISOString()});return}d(ie)}}},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:675,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:660,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:642,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:638,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-sm font-medium text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:729,columnNumber:13},this),e.jsxDEV(jt,{value:l,onChange:B=>o(B.target.value),placeholder:"  ...",className:"min-h-[100px] text-right",dir:"rtl"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:730,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:728,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-sm font-medium text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:741,columnNumber:13},this),e.jsxDEV("div",{className:"p-4 border border-border rounded-lg bg-muted/30",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV("span",{children:M(s.level)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:746,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm font-medium",children:H(s.level)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:747,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:745,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[" ",H(s.level)," -     "]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:751,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:744,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:740,columnNumber:11},this),e.jsxDEV(S,{className:"w-full bg-primary hover:bg-primary/90",onClick:ts,disabled:!c||!l.trim(),children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:758,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:636,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:635,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:632,columnNumber:5},this),Ps=()=>e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxDEV(Ce,{className:"h-20 w-20",children:[e.jsxDEV(Ae,{src:s.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:776,columnNumber:15},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary text-xl",children:s.name.charAt(0)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:777,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:775,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold text-foreground",children:s.name},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:782,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground",children:s.email},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:783,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(X,{variant:"outline",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:785,columnNumber:17},this),e.jsxDEV(X,{className:"bg-golden-500/10 text-golden-500 border-golden-500/20",children:[M(s.level)," ",H(s.level)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:786,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:784,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:781,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:774,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-4 gap-3 text-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:s.points},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:795,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:796,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:794,columnNumber:13},this),e.jsxDEV("div",{className:"cursor-pointer hover:bg-muted/50 p-2 rounded transition-colors",onClick:()=>V(!0),children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:g},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:802,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:803,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:798,columnNumber:13},this),e.jsxDEV("div",{className:"cursor-pointer hover:bg-muted/50 p-2 rounded transition-colors",onClick:()=>j(!0),children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:h},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:809,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:812,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:805,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:i.posts.length},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:815,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:818,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:814,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:793,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:773,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:772,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:826,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[i.posts.map(B=>e.jsxDEV("div",{className:"aspect-square bg-muted rounded-lg overflow-hidden",children:e.jsxDEV("img",{src:B.image_url,alt:"Post",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:834,columnNumber:15},this)},B.id,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:830,columnNumber:13},this)),Array.from({length:Math.max(0,6-i.posts.length)}).map((B,ie)=>e.jsxDEV("div",{className:"aspect-square bg-muted/30 rounded-lg flex items-center justify-center",children:e.jsxDEV(Yt,{className:"h-6 w-6 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:848,columnNumber:17},this)},ie,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:844,columnNumber:15},this))]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:828,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:825,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:857,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:()=>I(!0),children:[e.jsxDEV(ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:864,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:859,columnNumber:11},this),e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:()=>Z(!0),children:[e.jsxDEV(xs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:872,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:867,columnNumber:11},this),e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:()=>ue(!0),children:[e.jsxDEV(Aa,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:880,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:875,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:858,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:856,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:()=>ee(!0),children:[e.jsxDEV($s,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:893,columnNumber:11},this),""]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:888,columnNumber:9},this),e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",onClick:()=>le(!0),children:[e.jsxDEV(Ka,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:901,columnNumber:11},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:896,columnNumber:9},this),e.jsxDEV(S,{variant:"destructive",className:"w-full justify-start gap-3",onClick:a,children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:904,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:887,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:771,columnNumber:5},this),ke=()=>e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>V(!1),children:e.jsxDEV(fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:923,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:918,columnNumber:9},this),e.jsxDEV("h2",{className:"text-lg font-bold",children:[" (",g,")"]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:925,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:917,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-3",children:[p.map(B=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:B.follower?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:937,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:B.follower?.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:938,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:936,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h4",{className:"font-medium",children:B.follower?.name||` ${B.follower_id.slice(-4)}`},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:943,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:B.follower?.role==="barber"?"":""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:947,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:942,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:935,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:934,columnNumber:13},this)},B.follower_id,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:930,columnNumber:11},this)),p.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Vs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:958,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:959,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:957,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:928,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:916,columnNumber:5},this),bs=()=>e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:()=>j(!1),children:e.jsxDEV(fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:974,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:969,columnNumber:9},this),e.jsxDEV("h2",{className:"text-lg font-bold",children:[" (",h,")"]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:976,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:968,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-3",children:[f.map(B=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:B.followed?.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:988,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:B.followed?.name?.charAt(0)||""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:989,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:987,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h4",{className:"font-medium",children:B.followed?.name||` ${B.followed_id.slice(-4)}`},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:994,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:B.followed?.role==="barber"?"":""},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:998,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:993,columnNumber:17},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>Ys(B.followed_id),children:" "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:1002,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:986,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:985,columnNumber:13},this)},B.followed_id,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:981,columnNumber:11},this)),f.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Vs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:1016,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:1017,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:1015,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:979,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:967,columnNumber:5},this),Ys=async B=>{try{await W.unfollowUser(B),u(Be=>Be.filter(Pe=>Pe.followed_id!==B)),y(Be=>Be-1);const ie=i.follows.find(Be=>Be.followed_id===B);ie&&n.removeFollow(ie.id),n.addNotification({id:Date.now().toString(),type:"friend_request",title:" ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}catch(ie){console.error("Error unfollowing:",ie)}};if(C)return ke();if(k)return bs();switch(t){case"home":return Xe();case"friends":return e.jsxDEV(Iu,{user:s},void 0,!1,{fileName:"/app/code/client/pages/BarberDashboard.tsx",lineNumber:1068,columnNumber:14},this);case"requests":return Fe();case"new-post":return os();case"profile":return Ps();default:return Xe()}}function Xu({user:s,activeTab:t,onLogout:a}){const[i,n]=$e(),[l,o]=r.useState(!1),[c,d]=r.useState(""),[p,m]=r.useState("all"),[f,u]=r.useState(!1),[g,N]=r.useState(1),[h,y]=r.useState("30"),[C,V]=r.useState({totalUsers:0,totalBarbers:0,totalCustomers:0,activeUsers:0,pendingVerifications:0,totalBookings:0,totalRevenue:0,reportsCount:0});r.useEffect(()=>{k(),j()},[]);const k=async()=>{try{P(!0);const M=await W.getAdminStats();V(M.stats)}catch(M){console.error("Error loading admin stats:",M)}finally{P(!1)}},j=async()=>{try{I(!0);const M=await W.getAllUsers();w(M.users)}catch(M){console.error("Error loading users:",M)}finally{I(!1)}},[x,w]=r.useState([]),[v,D]=r.useState([]),[b,P]=r.useState(!1),[A,I]=r.useState(!1),[Q,Z]=r.useState([{id:"1",code:"BARBER2024-001",is_used:!1,created_by:s.id,created_at:new Date().toISOString()},{id:"2",code:"BARBER2024-002",is_used:!0,created_by:s.id,used_by:"1",created_at:new Date(Date.now()-24*60*60*1e3).toISOString()}]);r.useEffect(()=>{ne()},[]);const ne=async()=>{o(!0);try{const[M,H]=await Promise.all([W.getGlobalAnalytics(),W.getAllUsers()]);console.log("Admin data loaded:",{statsData:M,usersData:H})}catch(M){console.error("Error loading admin data:",M)}finally{o(!1)}},ue=async()=>{o(!0);try{const M=[];for(let H=0;H<g;H++){const re=`BARBER${new Date().getFullYear()}-${String(Q.length+H+1).padStart(3,"0")}`;M.push({id:Date.now().toString()+H,code:re,is_used:!1,created_by:s.id,expires_at:h!=="0"?new Date(Date.now()+parseInt(h)*24*60*60*1e3).toISOString():void 0,created_at:new Date().toISOString()})}Z(H=>[...H,...M]),u(!1),N(1),n.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:`  ${g}   `,data:null,read:!1,created_at:new Date().toISOString()})}catch(M){console.error("Error generating keys:",M)}finally{o(!1)}},Ne=async(M,H)=>{try{w(re=>re.map(ce=>ce.id===M?{...ce,status:H}:ce)),n.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:`     ${H}`,data:null,read:!1,created_at:new Date().toISOString()})}catch(re){console.error("Error updating user status:",re)}},ee=async M=>{try{w(H=>H.map(re=>re.id===M?{...re,is_verified:!0,status:"active"}:re)),n.addNotification({id:Date.now().toString(),type:"system",title:"  ",message:"    ",data:null,read:!1,created_at:new Date().toISOString()})}catch(H){console.error("Error verifying barber:",H)}},$=async M=>{if(confirm("      "))try{w(H=>H.filter(re=>re.id!==M)),n.addNotification({id:Date.now().toString(),type:"system",title:"  ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}catch(H){console.error("Error deleting user:",H)}},le=async M=>{if(confirm("      "))try{Z(H=>H.filter(re=>re.id!==M)),n.addNotification({id:Date.now().toString(),type:"system",title:"  ",message:"    ",data:null,read:!1,created_at:new Date().toISOString()})}catch(H){console.error("Error deleting key:",H)}},G=()=>{let M=x;return p!=="all"&&(M=M.filter(H=>H.role===p)),c&&(M=M.filter(H=>H.name.toLowerCase().includes(c.toLowerCase())||H.email.toLowerCase().includes(c.toLowerCase()))),M},se=M=>{switch(M){case"active":return"bg-green-500/10 text-green-500 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"blocked":return"bg-red-500/10 text-red-500 border-red-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},pe=M=>{switch(M){case"active":return"";case"pending":return" ";case"blocked":return"";default:return M}},Re=()=>e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(Vs,{className:"h-8 w-8 text-primary mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:350,columnNumber:13},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:C.totalUsers},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:351,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:354,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:349,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:348,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(ys,{className:"h-8 w-8 text-golden-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:360,columnNumber:13},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:C.totalBarbers},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:361,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:364,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:359,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:358,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(bn,{className:"h-8 w-8 text-green-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:370,columnNumber:13},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:C.totalBookings},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:371,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:374,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:369,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:368,columnNumber:9},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(Bs,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:380,columnNumber:13},this),e.jsxDEV("p",{className:"text-2xl font-bold text-foreground",children:C.pendingVerifications},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:381,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:384,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:379,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:378,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:347,columnNumber:7},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:392,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:391,columnNumber:9},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[e.jsxDEV(ds,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:397,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:399,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"  -  5 "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:400,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:398,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:396,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[e.jsxDEV(Vs,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:407,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:409,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"  -  15 "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:410,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:408,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:406,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[e.jsxDEV(gi,{className:"h-5 w-5 text-purple-500"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:417,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:419,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"BARBER2024-002 -  "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:420,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:418,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:416,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:395,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:394,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:390,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:345,columnNumber:5},this),Ve=()=>e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV(Ls,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:436,columnNumber:11},this),e.jsxDEV(He,{value:c,onChange:M=>d(M.target.value),placeholder:"  ...",className:"pr-10 text-right"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:437,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:435,columnNumber:9},this),e.jsxDEV(is,{value:p,onValueChange:m,children:[e.jsxDEV(es,{className:"w-40",children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:446,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:445,columnNumber:11},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"all",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:449,columnNumber:13},this),e.jsxDEV(De,{value:"customer",children:""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:450,columnNumber:13},this),e.jsxDEV(De,{value:"barber",children:""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:451,columnNumber:13},this),e.jsxDEV(De,{value:"admin",children:""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:452,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:448,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:444,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:434,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[G().map(M=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ce,{className:"h-12 w-12",children:[e.jsxDEV(Ae,{src:M.avatar_url},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:464,columnNumber:19},this),e.jsxDEV(_e,{className:"bg-primary/10 text-primary",children:M.name?M.name.charAt(0):""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:465,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:463,columnNumber:17},this),e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h4",{className:"font-medium text-foreground",children:M.name},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:472,columnNumber:21},this),M.role==="barber"&&!M.is_verified&&e.jsxDEV(X,{variant:"destructive",className:"text-xs",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:476,columnNumber:23},this),M.role==="admin"&&e.jsxDEV(mn,{className:"h-4 w-4 text-golden-500"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:481,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:471,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:M.email},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:485,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(X,{variant:"outline",className:se(M.status),children:pe(M.status)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:490,columnNumber:21},this),e.jsxDEV(X,{variant:"outline",children:M.role==="customer"?"":M.role==="barber"?"":""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:496,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:489,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:470,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[M.role==="barber"&&!M.is_verified&&e.jsxDEV(S,{size:"sm",onClick:()=>ee(M.id),className:"bg-green-500 hover:bg-green-600",children:[e.jsxDEV(ds,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:513,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:508,columnNumber:21},this),M.status==="active"?e.jsxDEV(S,{size:"sm",variant:"outline",onClick:()=>Ne(M.id,"blocked"),children:[e.jsxDEV($l,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:524,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:519,columnNumber:21},this):e.jsxDEV(S,{size:"sm",variant:"outline",onClick:()=>Ne(M.id,"active"),children:[e.jsxDEV(ds,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:533,columnNumber:23},this),""]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:528,columnNumber:21},this),e.jsxDEV(S,{size:"sm",variant:"destructive",onClick:()=>$(M.id),children:e.jsxDEV(Nt,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:543,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:538,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:506,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:462,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:461,columnNumber:13},this)},M.id,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:460,columnNumber:11},this)),G().length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(Vs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:554,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:555,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"       "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:558,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:553,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:552,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:458,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:432,columnNumber:5},this),fe=()=>e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:572,columnNumber:9},this),e.jsxDEV(Dt,{open:f,onOpenChange:u,children:[e.jsxDEV(ni,{asChild:!0,children:e.jsxDEV(S,{className:"bg-primary hover:bg-primary/90",children:[e.jsxDEV(Ct,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:580,columnNumber:15},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:579,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:578,columnNumber:11},this),e.jsxDEV(et,{children:[e.jsxDEV(ks,{children:[e.jsxDEV(Cs,{children:"   "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:587,columnNumber:15},this),e.jsxDEV(Ws,{children:"    "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:588,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:586,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-sm font-medium",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:595,columnNumber:17},this),e.jsxDEV(He,{type:"number",min:"1",max:"50",value:g,onChange:M=>N(Number(M.target.value))},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:596,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:594,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-sm font-medium",children:"  ()"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:606,columnNumber:17},this),e.jsxDEV(is,{value:h,onValueChange:y,children:[e.jsxDEV(es,{children:e.jsxDEV(ns,{},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:611,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:610,columnNumber:19},this),e.jsxDEV(ss,{children:[e.jsxDEV(De,{value:"7",children:"7 "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:614,columnNumber:21},this),e.jsxDEV(De,{value:"30",children:"30 "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:615,columnNumber:21},this),e.jsxDEV(De,{value:"90",children:"90 "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:616,columnNumber:21},this),e.jsxDEV(De,{value:"0",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:617,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:613,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:609,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:605,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:593,columnNumber:13},this),e.jsxDEV(bt,{children:[e.jsxDEV(S,{variant:"outline",onClick:()=>u(!1),children:""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:624,columnNumber:15},this),e.jsxDEV(S,{onClick:ue,disabled:l,children:l?"...":""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:630,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:623,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:585,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:574,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:571,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[Q.map(M=>e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded text-sm font-mono",children:M.code},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:646,columnNumber:21},this),e.jsxDEV(X,{className:M.is_used?"bg-gray-500/10 text-gray-500 border-gray-500/20":"bg-green-500/10 text-green-500 border-green-500/20",children:M.is_used?"":""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:649,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:645,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[" :"," ",new Date(M.created_at).toLocaleDateString("ar-SA"),M.expires_at&&e.jsxDEV(e.Fragment,{children:[" ","|  :"," ",new Date(M.expires_at).toLocaleDateString("ar-SA")]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:664,columnNumber:23},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:660,columnNumber:19},this),M.used_by&&e.jsxDEV("p",{className:"text-sm text-green-600",children:["   :"," ",x.find(H=>H.id===M.used_by)?.name||" "]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:673,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:644,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(S,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(M.code),children:""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:682,columnNumber:19},this),!M.is_used&&e.jsxDEV(S,{size:"sm",variant:"destructive",onClick:()=>le(M.id),children:e.jsxDEV(Nt,{className:"h-3 w-3"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:696,columnNumber:23},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:691,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:681,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:643,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:642,columnNumber:13},this)},M.id,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:641,columnNumber:11},this)),Q.length===0&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(gi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:708,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:709,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:712,columnNumber:15},this),e.jsxDEV(S,{onClick:()=>u(!0),className:"bg-primary hover:bg-primary/90",children:[e.jsxDEV(Ct,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:719,columnNumber:17},this),"  "]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:715,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:707,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:706,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:639,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:569,columnNumber:5},this);return e.jsxDEV("div",{className:"p-4 space-y-6",children:[e.jsxDEV(Qs,{value:t==="profile"?"overview":t,children:[e.jsxDEV(Hs,{className:"grid w-full grid-cols-3",children:[e.jsxDEV(Me,{value:"overview",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:733,columnNumber:11},this),e.jsxDEV(Me,{value:"users",children:""},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:734,columnNumber:11},this),e.jsxDEV(Me,{value:"keys",children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:735,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:732,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6",children:[e.jsxDEV(We,{value:"overview",children:Re()},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:739,columnNumber:11},this),e.jsxDEV(We,{value:"users",children:Ve()},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:740,columnNumber:11},this),e.jsxDEV(We,{value:"keys",children:fe()},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:741,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:738,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:731,columnNumber:7},this),t==="profile"&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",children:[e.jsxDEV($s,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:749,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:748,columnNumber:11},this),e.jsxDEV(S,{variant:"outline",className:"w-full justify-start gap-3",children:[e.jsxDEV(ta,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:753,columnNumber:13},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:752,columnNumber:11},this),e.jsxDEV(S,{variant:"destructive",className:"w-full justify-start gap-3",onClick:a,children:" "},void 0,!1,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:756,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:747,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/AdminDashboard.tsx",lineNumber:730,columnNumber:5},this)}function Zu(){const[s,t]=$e();r.useEffect(()=>{s.notifications.filter(n=>!n.read).forEach(n=>{a(n),t.markNotificationAsRead(n.id)})},[s.notifications]);const a=i=>{const{type:n,title:l,message:o}=i;switch(n){case"booking_accepted":rt.success(l,{description:o,duration:5e3});break;case"booking_rejected":rt.error(l,{description:o,duration:5e3});break;case"new_booking":rt.info(l,{description:o,duration:5e3});break;case"new_follower":rt.success(l,{description:o,duration:5e3});break;case"friend_request":rt.info(l,{description:o,duration:5e3,action:i.data?.requiresAction?{label:"",onClick:()=>{console.log("Friend request action clicked")}}:void 0});break;default:rt(l,{description:o,duration:3e3})}};return r.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]),null}const zi={booking_accepted:{icon:Xs,color:"text-green-500"},booking_rejected:{icon:fs,color:"text-red-500"},new_follower:{icon:ea,color:"text-blue-500"},friend_request:{icon:ea,color:"text-purple-500"},new_booking:{icon:As,color:"text-primary"},new_rating:{icon:ms,color:"text-yellow-500"},achievement:{icon:Xa,color:"text-golden-500"},reminder:{icon:xs,color:"text-orange-500"},system:{icon:pt,color:"text-gray-500"}};function Qu({user:s,onBack:t}){const[a,i]=$e(),[n,l]=r.useState(!1),[o,c]=r.useState("all");r.useEffect(()=>{d()},[]);const d=async()=>{l(!0);try{const x=(await W.getNotifications()).notifications;a.notifications.length===0&&x.forEach(w=>{i.addNotification(w)})}catch(j){console.error("Error loading notifications:",j)}finally{l(!1)}},p=async j=>{try{await W.markNotificationAsRead(j),i.markNotificationAsRead(j)}catch(x){console.error("Error marking notification as read:",x)}},m=async()=>{try{await W.markAllNotificationsAsRead(),a.notifications.filter(j=>!j.read).forEach(j=>i.markNotificationAsRead(j.id))}catch(j){console.error("Error marking all as read:",j)}},f=async j=>{try{const x=a.notifications.filter(w=>w.id!==j);i.setNotifications(x),i.addNotification({id:Date.now().toString(),type:"system",title:"  ",message:"   ",data:null,read:!1,created_at:new Date().toISOString()})}catch(x){console.error("Error deleting notification:",x)}},u=async j=>{try{const x=j.data?.senderId;if(!x)return;await W.followUser(x),i.markNotificationAsRead(j.id),i.addNotification({id:Date.now().toString(),type:"new_follower",title:"   ",message:`  ${j.data?.senderName}`,data:{userId:x},read:!1,created_at:new Date().toISOString()})}catch(x){console.error("Error accepting friend request:",x)}},g=async j=>{try{i.markNotificationAsRead(j.id),i.addNotification({id:Date.now().toString(),type:"system",title:"   ",message:`    ${j.data?.senderName}`,data:{userId:j.data?.senderId},read:!1,created_at:new Date().toISOString()})}catch(x){console.error("Error rejecting friend request:",x)}},N=()=>{switch(o){case"unread":return a.notifications.filter(j=>!j.read);case"bookings":return a.notifications.filter(j=>["new_booking","booking_accepted","booking_rejected","reminder"].includes(j.type));case"social":return a.notifications.filter(j=>["new_follower","friend_request","new_rating"].includes(j.type));case"friend_requests":return a.notifications.filter(j=>j.type==="friend_request");default:return a.notifications}},h=j=>{const x=new Date(j),v=Math.floor((new Date().getTime()-x.getTime())/(1e3*60));if(v<1)return"";if(v<60)return` ${v} `;const D=Math.floor(v/60);return D<24?` ${D} `:` ${Math.floor(D/24)} `},y=j=>{const x=zi[j]||zi.system,w=x.icon;return e.jsxDEV(w,{className:J("h-5 w-5",x.color)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:216,columnNumber:12},this)},C=j=>{j.read||p(j.id),j.type},V=a.notifications.filter(j=>!j.read).length,k=N();return e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-md border-b border-border/50 px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(S,{variant:"ghost",size:"icon",onClick:t,children:e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:250,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:249,columnNumber:13},this),e.jsxDEV("h1",{className:"text-lg font-bold text-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:252,columnNumber:13},this),V>0&&e.jsxDEV(X,{className:"bg-red-500 text-white text-xs",children:V},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:248,columnNumber:11},this),V>0&&e.jsxDEV(S,{variant:"outline",size:"sm",onClick:m,children:[e.jsxDEV(zl,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:262,columnNumber:15},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:261,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:247,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:246,columnNumber:7},this),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(pt,{className:"h-6 w-6 text-primary mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:274,columnNumber:15},this),e.jsxDEV("p",{className:"text-lg font-bold text-foreground",children:a.notifications.length},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:275,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:273,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:272,columnNumber:11},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV("div",{className:"h-6 w-6 bg-red-500 rounded-full mx-auto mb-2 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white text-xs font-bold",children:V},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:285,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:284,columnNumber:15},this),e.jsxDEV("p",{className:"text-lg font-bold text-foreground",children:V},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:289,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:290,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:283,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:282,columnNumber:11},this),e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-4 text-center",children:[e.jsxDEV(xs,{className:"h-6 w-6 text-orange-500 mx-auto mb-2"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:296,columnNumber:15},this),e.jsxDEV("p",{className:"text-lg font-bold text-foreground",children:a.notifications.filter(j=>j.created_at>new Date(Date.now()-24*60*60*1e3).toISOString()).length},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:297,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:""},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:306,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:295,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:294,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:271,columnNumber:9},this),e.jsxDEV(Qs,{value:o,onValueChange:c,children:[e.jsxDEV(Hs,{className:"grid w-full grid-cols-4",children:[e.jsxDEV(Me,{value:"all",children:""},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:314,columnNumber:13},this),e.jsxDEV(Me,{value:"unread",children:" "},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:315,columnNumber:13},this),e.jsxDEV(Me,{value:"friend_requests",children:" "},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:316,columnNumber:13},this),e.jsxDEV(Me,{value:"bookings",children:""},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:317,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:313,columnNumber:11},this),e.jsxDEV(We,{value:o,className:"mt-6",children:e.jsxDEV("div",{className:"space-y-3",children:k.length>0?k.sort((j,x)=>new Date(x.created_at).getTime()-new Date(j.created_at).getTime()).map(j=>e.jsxDEV(R,{className:J("border-border/50 cursor-pointer transition-colors",j.read?"bg-card/30":"bg-card/80 border-primary/20"),onClick:()=>C(j),children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"mt-1",children:y(j.type)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:342,columnNumber:27},this),e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h4",{className:J("font-medium",j.read?"text-muted-foreground":"text-foreground"),children:j.title},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:348,columnNumber:31},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:h(j.created_at)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:358,columnNumber:31},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:347,columnNumber:29},this),e.jsxDEV("p",{className:J("text-sm",j.read?"text-muted-foreground":"text-foreground"),children:j.message},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:363,columnNumber:29},this),j.type==="friend_request"&&j.data?.requiresAction&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxDEV(S,{size:"sm",className:"bg-green-500 hover:bg-green-600 text-white",onClick:x=>{x.stopPropagation(),u(j)},children:[e.jsxDEV(Xs,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:386,columnNumber:37},this),""]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:378,columnNumber:35},this),e.jsxDEV(S,{size:"sm",variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-50",onClick:x=>{x.stopPropagation(),g(j)},children:[e.jsxDEV(fs,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:398,columnNumber:37},this),""]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:389,columnNumber:35},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:377,columnNumber:33},this),!j.read&&j.type!=="friend_request"&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:e.jsxDEV(S,{size:"sm",variant:"outline",onClick:x=>{x.stopPropagation(),p(j.id)},children:" "},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:408,columnNumber:35},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:407,columnNumber:33},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:346,columnNumber:27},this),e.jsxDEV(S,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100",onClick:x=>{x.stopPropagation(),f(j.id)},children:e.jsxDEV(Nt,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:431,columnNumber:29},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:422,columnNumber:27},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:341,columnNumber:25},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:340,columnNumber:23},this)},j.id,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:330,columnNumber:21},this)):e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:e.jsxDEV(T,{className:"p-8 text-center",children:[e.jsxDEV(pt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:440,columnNumber:21},this),e.jsxDEV("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:441,columnNumber:21},this),e.jsxDEV("p",{className:"text-muted-foreground",children:o==="unread"?"   ":"   "},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:444,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:439,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:438,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:321,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:320,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:312,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:269,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/pages/NotificationsCenter.tsx",lineNumber:244,columnNumber:5},this)}const ep=Mt("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dt=r.forwardRef(({className:s,variant:t,...a},i)=>e.jsxDEV("div",{ref:i,role:"alert",className:J(ep({variant:t}),s),...a},void 0,!1,{fileName:"/app/code/client/components/ui/alert.tsx",lineNumber:26,columnNumber:3},void 0));dt.displayName="Alert";const Zt=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("h5",{ref:a,className:J("mb-1 font-medium leading-none tracking-tight",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/alert.tsx",lineNumber:39,columnNumber:3},void 0));Zt.displayName="AlertTitle";const ut=r.forwardRef(({className:s,...t},a)=>e.jsxDEV("div",{ref:a,className:J("text-sm [&_p]:leading-relaxed",s),...t},void 0,!1,{fileName:"/app/code/client/components/ui/alert.tsx",lineNumber:51,columnNumber:3},void 0));ut.displayName="AlertDescription";function sp(){const[s,t]=r.useState([{name:" API",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "},{name:"",status:"pending",message:"  "}]),[a,i]=r.useState(!1),n=(m,f,u,g)=>{t(N=>N.map((h,y)=>y===m?{...h,status:f,message:u,details:g}:h))},l=async()=>{i(!0),t(m=>m.map(f=>({...f,status:"pending",message:" ..."})));try{const m=await fetch("/api/ping");if(m.ok){const f=await m.json();n(0,"success"," ",f)}else n(0,"error",` HTTP: ${m.status}`)}catch(m){n(0,"error",` : ${m instanceof Error?m.message:"  "}`)}await new Promise(m=>setTimeout(m,500));try{const m=await fetch("/api/demo");if(m.ok){const f=await m.json();n(1,"success","   ",f)}else n(1,"error",`   : ${m.status}`)}catch(m){n(1,"error",`   : ${m instanceof Error?m.message:"  "}`)}await new Promise(m=>setTimeout(m,500));try{await W.login("test@example.com","test123"),n(2,"success","   ")}catch(m){m instanceof Error&&m.message.includes("401")?n(2,"success","   (    )"):m instanceof Error&&m.message.includes("network")?n(2,"error","   "):n(2,"success","  ")}i(!1)};r.useEffect(()=>{l()},[]);const o=m=>{switch(m){case"success":return e.jsxDEV(ds,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:131,columnNumber:16},this);case"error":return e.jsxDEV(zs,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:133,columnNumber:16},this);case"pending":return e.jsxDEV(rs,{className:"h-5 w-5 text-blue-500 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:135,columnNumber:16},this)}},c=m=>{switch(m){case"success":return e.jsxDEV(X,{className:"bg-green-500",children:""},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:142,columnNumber:16},this);case"error":return e.jsxDEV(X,{variant:"destructive",children:""},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:144,columnNumber:16},this);case"pending":return e.jsxDEV(X,{variant:"secondary",children:"..."},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:146,columnNumber:16},this)}},d=s.every(m=>m.status==="success"),p=s.some(m=>m.status==="error");return e.jsxDEV("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:" "},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:157,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"    "},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:156,columnNumber:9},this),d&&!p&&e.jsxDEV(dt,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[e.jsxDEV(ds,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:165,columnNumber:13},this),e.jsxDEV(ut,{className:"text-green-700 dark:text-green-300",children:"    ! "},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:164,columnNumber:11},this),p&&e.jsxDEV(dt,{variant:"destructive",children:[e.jsxDEV(zs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:174,columnNumber:13},this),e.jsxDEV(ut,{children:"    .   ."},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:175,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:173,columnNumber:11},this),e.jsxDEV("div",{className:"grid gap-4",children:s.map((m,f)=>e.jsxDEV(R,{className:"transition-all duration-200",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[o(m.status),e.jsxDEV("span",{children:m.name},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:188,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:186,columnNumber:19},this),c(m.status)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:185,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:184,columnNumber:15},this),e.jsxDEV(T,{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:m.message},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:194,columnNumber:17},this),m.details&&e.jsxDEV("div",{className:"bg-muted p-3 rounded-md",children:e.jsxDEV("pre",{className:"text-xs overflow-x-auto",children:JSON.stringify(m.details,null,2)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:199,columnNumber:21},this)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:198,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:193,columnNumber:15},this)]},f,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:183,columnNumber:13},this))},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:181,columnNumber:9},this),e.jsxDEV("div",{className:"text-center",children:e.jsxDEV(S,{onClick:l,disabled:a,className:"w-full sm:w-auto",children:a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(rs,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:217,columnNumber:17},this)," ..."]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:216,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(rs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:222,columnNumber:17},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:221,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:210,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:209,columnNumber:9},this),e.jsxDEV(R,{className:"bg-muted/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(At,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:232,columnNumber:15},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:231,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:230,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:239,columnNumber:17},this)," ",typeof window<"u"?window.location.origin:" "]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:238,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:245,columnNumber:17},this)," ","development"]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"User Agent:"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:248,columnNumber:17},this)," ",typeof navigator<"u"?navigator.userAgent.substring(0,50)+"...":" "]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:254,columnNumber:17},this)," ",new Date().toLocaleString("ar")]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:237,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:236,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:155,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/client/pages/DebugPage.tsx",lineNumber:154,columnNumber:5},this)}function tp(){const[s,t]=r.useState([]),[a,i]=r.useState(!1),n=async()=>{i(!0),t([]);const g=[l,o,c,d,p];for(const N of g){try{const h=await N();t(y=>[...y,h])}catch(h){t(y=>[...y,{name:"  ",status:"error",message:"   ",details:h instanceof Error?h.message:"  "}])}await new Promise(h=>setTimeout(h,500))}i(!1)};r.useEffect(()=>{n()},[]);const l=async()=>{try{const g=await fetch("/api/ping");return g.ok?{name:" API",status:"success",message:"API   ",details:(await g.json()).message}:{name:" API",status:"error",message:`  API: ${g.status}`,details:g.statusText}}catch(g){return{name:" API",status:"error",message:"    API",details:g instanceof Error?g.message:" "}}},o=async()=>{try{const g=await fetch("/api/demo");return g.ok?{name:" ",status:"success",message:"  ",details:"Supabase   "}:{name:" ",status:"error",message:"   ",details:`HTTP ${g.status}`}}catch(g){return{name:" ",status:"error",message:"    ",details:g instanceof Error?g.message:"  "}}},c=async()=>{try{const g=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});return g.status===400?{name:" ",status:"success",message:"endpoint  ",details:"   "}:g.status===404?{name:" ",status:"error",message:"endpoint   ",details:"    Function  "}:{name:" ",status:"warning",message:`  : ${g.status}`,details:g.statusText}}catch(g){return{name:" ",status:"error",message:"   ",details:g instanceof Error?g.message:" "}}},d=async()=>({name:" ",status:"success",message:"  ",details:`URL: ${"https://yrsvksgkxjiogjuaeyvd.supabase.co".substring(0,20)}...`}),p=async()=>{try{const g=await fetch("/.netlify/functions/api/ping");return g.ok?{name:"Netlify Functions",status:"success",message:"Netlify Functions ",details:"    "}:{name:"Netlify Functions",status:"error",message:`  Functions: ${g.status}`,details:"   Netlify"}}catch(g){return{name:"Netlify Functions",status:"error",message:"Netlify Functions  ",details:g instanceof Error?g.message:"  "}}},m=g=>{switch(g){case"success":return e.jsxDEV(ds,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:221,columnNumber:16},this);case"error":return e.jsxDEV(zs,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:223,columnNumber:16},this);case"warning":return e.jsxDEV(Bs,{className:"h-5 w-5 text-yellow-500"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:225,columnNumber:16},this);case"loading":return e.jsxDEV(rs,{className:"h-5 w-5 text-blue-500 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:227,columnNumber:16},this);default:return null}},f=g=>{const N={success:"default",error:"destructive",warning:"secondary",loading:"outline"};return e.jsxDEV(X,{variant:N[g]||"outline",children:[g==="success"&&"",g==="error"&&"",g==="warning"&&"",g==="loading"&&" ..."]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:242,columnNumber:7},this)},u=g=>g.includes("API")?e.jsxDEV(ia,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:252,columnNumber:38},this):g.includes(" ")?e.jsxDEV(_t,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:254,columnNumber:14},this):g.includes("")?e.jsxDEV(ta,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:255,columnNumber:44},this):g.includes("Netlify")?e.jsxDEV(At,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:256,columnNumber:42},this):e.jsxDEV(Bs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:257,columnNumber:12},this);return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-background/80 p-4",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxDEV("div",{className:"text-center space-y-4",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:" "},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:264,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"       Netlify"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:265,columnNumber:11},this),e.jsxDEV(S,{onClick:n,disabled:a,className:"gap-2",children:[e.jsxDEV(rs,{className:`h-4 w-4 ${a?"animate-spin":""}`},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:273,columnNumber:13},this),a?" ...":" "]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:268,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:263,columnNumber:9},this),e.jsxDEV("div",{className:"grid gap-4",children:[s.map((g,N)=>e.jsxDEV(R,{className:"border-border/50",children:[e.jsxDEV(K,{className:"pb-3",children:e.jsxDEV(Y,{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[u(g.name),e.jsxDEV("span",{children:g.name},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:287,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:285,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[m(g.status),f(g.status)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:289,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:284,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:283,columnNumber:15},this),e.jsxDEV(T,{children:[e.jsxDEV("p",{className:"text-sm text-foreground mb-2",children:g.message},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:296,columnNumber:17},this),g.details&&e.jsxDEV("p",{className:"text-xs text-muted-foreground bg-muted p-2 rounded",children:g.details},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:300,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:295,columnNumber:15},this)]},N,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:282,columnNumber:13},this)),a&&s.length<5&&e.jsxDEV(R,{className:"border-border/50",children:e.jsxDEV(T,{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(rs,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:312,columnNumber:19},this),e.jsxDEV("span",{children:"  ..."},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:313,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:311,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:310,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:309,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:280,columnNumber:9},this),s.length>0&&!a&&e.jsxDEV(R,{className:"border-border/50 bg-card/50",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"text-lg",children:" "},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:323,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:322,columnNumber:13},this),e.jsxDEV(T,{className:"space-y-3",children:e.jsxDEV("div",{className:"text-sm space-y-2",children:[e.jsxDEV("p",{children:e.jsxDEV("strong",{children:"  API  :"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:328,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 mr-4",children:[e.jsxDEV("li",{children:"   Netlify Functions    "},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:331,columnNumber:19},this),e.jsxDEV("li",{children:"  Functions  Netlify Dashboard"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:332,columnNumber:19},this),e.jsxDEV("li",{children:"    netlify.toml "},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:333,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:330,columnNumber:17},this),e.jsxDEV("p",{className:"mt-4",children:e.jsxDEV("strong",{children:"     :"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:337,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:336,columnNumber:17},this),e.jsxDEV("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 mr-4",children:[e.jsxDEV("li",{children:"    Supabase"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:340,columnNumber:19},this),e.jsxDEV("li",{children:"    "},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:341,columnNumber:19},this),e.jsxDEV("li",{children:"  RLS  Supabase"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:342,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:339,columnNumber:17},this),e.jsxDEV("p",{className:"mt-4",children:e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:346,columnNumber:19},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:345,columnNumber:17},this),e.jsxDEV("p",{className:"text-muted-foreground",children:" : 07800657822"},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:348,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:326,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:325,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:321,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:262,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/client/pages/DiagnosticPage.tsx",lineNumber:261,columnNumber:5},this)}typeof window<"u"&&(window.openDebug=()=>{window.location.href="/diagnostic"});const ap=()=>{const[s,t]=r.useState({frontend:{status:"loading",message:"   ..."},api:{status:"loading",message:"  API..."},database:{status:"loading",message:"   ..."},auth:{status:"loading",message:"   ..."},environment:{status:"loading",message:"   ..."}}),[a,i]=r.useState(!1);r.useEffect(()=>{n()},[]);const n=async()=>{i(!0),t({frontend:{status:"loading",message:"   ..."},api:{status:"loading",message:"  API..."},database:{status:"loading",message:"   ..."},auth:{status:"loading",message:"   ..."},environment:{status:"loading",message:"   ..."}}),setTimeout(()=>{t(d=>({...d,frontend:{status:"success",message:"    ",details:`React: ${z.version||" "}, URL: ${window.location.href}`}}))},500),setTimeout(()=>{const d="https://yrsvksgkxjiogjuaeyvd.supabase.co";t(p=>({...p,environment:{status:"success",message:"    ",details:`Supabase URL  : ${d.substring(0,30)}...`}}))},1e3);try{const d=new AbortController,p=setTimeout(()=>d.abort(),1e4);let m=[],f=null;const u=[{path:"/api/ping",name:"Redirected ping"},{path:"/api/debug",name:"Debug endpoint"},{path:"/.netlify/functions/api/ping",name:"Direct ping"},{path:"/.netlify/functions/api/debug",name:"Direct debug"}];for(const g of u)try{console.log(`Testing ${g.path}...`);const N=await fetch(g.path,{signal:d.signal,method:"GET",headers:{"Content-Type":"application/json"}}),h={path:g.path,name:g.name,status:N.status,ok:N.ok,data:null};if(N.ok)try{h.data=await N.json(),m.push(h),f||(f=h)}catch{h.data={error:"Invalid JSON response"},m.push(h)}else h.data={error:`HTTP ${N.status}`},m.push(h)}catch(N){m.push({path:g.path,name:g.name,status:0,ok:!1,data:{error:N instanceof Error?N.message:"Network error"}})}if(clearTimeout(p),f)t(g=>({...g,api:{status:"success",message:"API   ",details:`${f.name}: ${f.data?.message||"  "}`}}));else{const g=m.map(N=>`${N.name} (${N.status}): ${N.data?.error||"Unknown"}`).join("; ");throw new Error(`All endpoints failed: ${g}`)}}catch(d){let p="  API",m="";d.name==="AbortError"?(p="    API",m=" : 10  -    Functions "):d.message.includes("fetch")?(p="    API",m="   Netlify Functions"):(p="  API: HTTP 502",m=d.message||" Functions logs  Netlify Dashboard"),t(f=>({...f,api:{status:"error",message:p,details:m}}))}try{const d=new AbortController,p=setTimeout(()=>d.abort(),5e3);let m=await fetch("/api/demo",{signal:d.signal,method:"GET",headers:{"Content-Type":"application/json"}}),f=!1,u="";if(m.ok){const g=await m.json();f=!0,u=`   : ${g.message||" "}`}else try{if(m=await fetch("/.netlify/functions/api/demo",{signal:d.signal,method:"GET",headers:{"Content-Type":"application/json"}}),m.ok){const g=await m.json();f=!0,u=`  : ${g.message||" "} -    `}}catch{u=` : ${m.status}`}if(clearTimeout(p),f)t(g=>({...g,database:{status:"success",message:"  ",details:u}}));else throw new Error(`HTTP ${m.status}: ${m.statusText}`)}catch(d){t(p=>({...p,database:{status:"error",message:"   ",details:`${d.message||"  "} -  Functions logs`}}))}try{const d=new AbortController,p=setTimeout(()=>d.abort(),3e3);let m=await fetch("/api/auth/profile",{signal:d.signal,method:"GET",headers:{"Content-Type":"application/json"}}),f=!1,u="",g="";if(m.status===401)f=!0,u="   (  )",g="   -     ";else if(m.ok)f=!0,u="   ( )",g="   -     ";else if(m.status===404)try{m=await fetch("/.netlify/functions/api/auth/profile",{signal:d.signal,method:"GET",headers:{"Content-Type":"application/json"}}),m.status===401?(f=!0,u="   (  )",g="  -    "):m.ok&&(f=!0,u="   ( )",g="  -    ")}catch{g=` : ${m.status}`}if(clearTimeout(p),f)t(N=>({...N,auth:{status:"success",message:u,details:g}}));else throw new Error(`HTTP ${m.status}`)}catch(d){t(p=>({...p,auth:{status:"error",message:"   ",details:`${d.message||"  "} -   Netlify Functions`}}))}i(!1)},l=d=>{switch(d){case"success":return e.jsxDEV(ds,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:321,columnNumber:16},void 0);case"error":return e.jsxDEV(zs,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:323,columnNumber:16},void 0);default:return e.jsxDEV(Ca,{className:"h-5 w-5 text-yellow-500 animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:326,columnNumber:11},void 0)}},o=Object.values(s).every(d=>d.status==="success"),c=Object.values(s).some(d=>d.status==="error");return e.jsxDEV("div",{className:"min-h-screen bg-background p-4",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:["   ",a&&e.jsxDEV(rs,{className:"h-5 w-5 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:346,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:344,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:343,columnNumber:11},void 0),e.jsxDEV(T,{children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxDEV(S,{onClick:n,disabled:a,variant:"outline",children:a?" ...":" "},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:351,columnNumber:15},void 0),e.jsxDEV(S,{onClick:()=>window.location.href="/",variant:"ghost",children:" "},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:358,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:350,columnNumber:13},void 0),o&&e.jsxDEV("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:e.jsxDEV("p",{className:"text-green-600 dark:text-green-400 font-medium",children:"   !    ."},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:368,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:367,columnNumber:15},void 0),c&&e.jsxDEV("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsxDEV("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"    .   ."},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:376,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:375,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:349,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:342,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid gap-4",children:Object.entries(s).map(([d,p])=>e.jsxDEV(R,{children:e.jsxDEV(T,{className:"pt-4",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[l(p.status),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium",children:p.message},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:392,columnNumber:21},void 0),p.details&&e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:p.details},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:394,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:391,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:389,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:388,columnNumber:15},void 0)},d,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:387,columnNumber:13},void 0))},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:385,columnNumber:9},void 0),e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:408,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:407,columnNumber:11},void 0),e.jsxDEV(T,{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:412,columnNumber:15},void 0)," ",navigator.userAgent]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:411,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:415,columnNumber:15},void 0)," ",window.location.href]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:414,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:418,columnNumber:15},void 0)," ",window.location.protocol]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:417,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:421,columnNumber:15},void 0)," ",window.location.host]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:420,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:424,columnNumber:15},void 0)," ",window.location.pathname]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:423,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:427,columnNumber:15},void 0)," ",new Date().toLocaleString("ar")]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:426,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:410,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:406,columnNumber:9},void 0),e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:"  "},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:435,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:434,columnNumber:11},void 0),e.jsxDEV(T,{className:"space-y-2",children:e.jsxDEV("div",{className:"bg-muted p-3 rounded font-mono text-sm",children:[e.jsxDEV("div",{children:e.jsxDEV("strong",{children:" Developer Console (F12):"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:440,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:439,columnNumber:15},void 0),e.jsxDEV("div",{children:[" ",e.jsxDEV("code",{children:"diagnoseNetlify()"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:443,columnNumber:19},void 0)," -  Netlify"]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:442,columnNumber:15},void 0),e.jsxDEV("div",{children:[" ",e.jsxDEV("code",{children:"openDebug()"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:446,columnNumber:19},void 0)," -   "]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:445,columnNumber:15},void 0),e.jsxDEV("div",{children:[" ",e.jsxDEV("code",{children:"fetch('/api/ping')"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:449,columnNumber:19},void 0)," -  API"]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:448,columnNumber:15},void 0),e.jsxDEV("div",{children:[" ",e.jsxDEV("code",{children:"fetch('/.netlify/functions/api/ping')"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:452,columnNumber:19},void 0)," -  Functions"]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:451,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:438,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:437,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:433,columnNumber:9},void 0),e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:"   Netlify"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:462,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:461,columnNumber:11},void 0),e.jsxDEV(T,{className:"space-y-3 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{className:"text-destructive",children:" HTTP 404  API:"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:466,columnNumber:15},void 0),e.jsxDEV("ul",{className:"list-disc list-inside mt-2 space-y-1 text-muted-foreground",children:[e.jsxDEV("li",{children:"   Netlify Functions     "},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:468,columnNumber:17},void 0),e.jsxDEV("li",{children:"    Netlify Dashboard"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:469,columnNumber:17},void 0),e.jsxDEV("li",{children:"    /api/*   /.netlify/functions/api"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:470,columnNumber:17},void 0),e.jsxDEV("li",{children:"    netlify/functions/api.ts"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:473,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:467,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:465,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{className:"text-amber-600",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:478,columnNumber:15},void 0),e.jsxDEV("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-muted-foreground",children:[e.jsxDEV("li",{children:" Netlify Dashboard   Site Settings  Functions"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:480,columnNumber:17},void 0),e.jsxDEV("li",{children:"   Functions Directory   netlify/functions"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:483,columnNumber:17},void 0),e.jsxDEV("li",{children:"       "},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:486,columnNumber:17},void 0),e.jsxDEV("li",{children:"  : /.netlify/functions/api/ping"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:487,columnNumber:17},void 0),e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:488,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:479,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:477,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{className:"text-blue-600",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:493,columnNumber:15},void 0),e.jsxDEV("p",{className:"mt-2 text-muted-foreground",children:"             .        :"},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:494,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-2 bg-muted p-2 rounded font-mono text-xs",children:["VITE_SUPABASE_URL=your_url",e.jsxDEV("br",{},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:501,columnNumber:17},void 0),"VITE_SUPABASE_ANON_KEY=your_key"]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:499,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:492,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:464,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:460,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:340,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/code/client/pages/SystemDiagnostic.tsx",lineNumber:339,columnNumber:5},void 0)};typeof window<"u"&&(window.diagnoseNetlify=async()=>{console.group(" Netlify Deployment Diagnosis"),console.log(" Current URL:",window.location.href),console.log(" Environment:",{hostname:window.location.hostname,isNetlify:window.location.hostname.includes("netlify.app"),isLocalhost:window.location.hostname==="localhost"});const s=[{name:"API via redirect",url:"/api/ping"},{name:"Direct Netlify Function",url:"/.netlify/functions/api/ping"},{name:"Netlify Function root",url:"/.netlify/functions/api"}];for(const t of s)try{console.log(` Testing ${t.name}:`,t.url);const a=await fetch(t.url);if(console.log(` ${t.name}: ${a.status} ${a.statusText}`),a.ok){const i=await a.json();console.log(" Response:",i)}}catch(a){console.error(` ${t.name} failed:`,a)}console.groupEnd()},window.openDebug=()=>{window.location.href="/system-diagnostic"});const ip=()=>{const[s,t]=r.useState([{name:" API ",status:"pending",message:"  "},{name:"  Supabase",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "}]),[a,i]=r.useState(null),[n,l]=r.useState(null),[o,c]=r.useState(!1),[d,p]=r.useState("overview");r.useEffect(()=>{l({userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine,connection:navigator?.connection,location:{origin:window.location.origin,protocol:window.location.protocol,host:window.location.host,pathname:window.location.pathname},screen:{width:screen.width,height:screen.height,colorDepth:screen.colorDepth},viewport:{width:window.innerWidth,height:window.innerHeight}})},[]);const m=(w,v)=>{t(D=>D.map((b,P)=>P===w?{...b,...v}:b))},f=async w=>{m(w,{status:"loading",message:" ..."});const v=Date.now();try{const D=await fetch("/api/ping"),b=await D.json(),P=Date.now()-v;D.ok?m(w,{status:"success",message:`  (${P}ms)`,details:b,timing:P}):m(w,{status:"error",message:` HTTP ${D.status}`,details:b,timing:P})}catch(D){const b=Date.now()-v;m(w,{status:"error",message:" ",details:D instanceof Error?D.message:"  ",timing:b})}},u=async w=>{m(w,{status:"loading",message:"   ..."});const v=Date.now();try{const D=await fetch("/api/health"),b=await D.json(),P=Date.now()-v;D.ok&&b.supabase?m(w,{status:"success",message:`   (${P}ms)`,details:b.supabase,timing:P}):m(w,{status:"error",message:"   ",details:b,timing:P})}catch(D){const b=Date.now()-v;m(w,{status:"error",message:"    ",details:D instanceof Error?D.message:"  ",timing:b})}},g=async w=>{m(w,{status:"loading",message:"   ..."});const v=Date.now();try{const D=await fetch("/api/debug"),b=await D.json(),P=Date.now()-v;D.ok?m(w,{status:"success",message:`   (${P}ms)`,details:b,timing:P}):m(w,{status:"error",message:"   ",details:b,timing:P})}catch(D){const b=Date.now()-v;m(w,{status:"error",message:"   ",details:D instanceof Error?D.message:"  ",timing:b})}},N=async w=>{m(w,{status:"loading",message:"   ..."});try{const v={VITE_SUPABASE_URL:"https://yrsvksgkxjiogjuaeyvd.supabase.co",VITE_SUPABASE_ANON_KEY:"",MODE:"production",DEV:!0,PROD:!1},b=await(await fetch("/api/health")).json(),P=!0,A=b.supabase?.url_configured&&b.supabase?.key_configured;P&&A?m(w,{status:"success",message:"  ",details:{client:v,server:b.supabase}}):m(w,{status:"error",message:"  ",details:{client:v,server:b.supabase,issues:{client_missing:!P,server_missing:!A}}})}catch(v){m(w,{status:"error",message:"   ",details:v instanceof Error?v.message:"  "})}},h=async w=>{m(w,{status:"loading",message:"   ..."});const v=Date.now();try{const D=await fetch("/api/demo"),b=await D.json(),P=Date.now()-v;D.ok?m(w,{status:"success",message:`   (${P}ms)`,details:b,timing:P}):m(w,{status:"error",message:"   ",details:b,timing:P})}catch(D){const b=Date.now()-v;m(w,{status:"error",message:"   ",details:D instanceof Error?D.message:"  ",timing:b})}},y=async w=>{m(w,{status:"loading",message:"  ..."});const v=Date.now();try{const D=await fetch("/api/system-diagnostic"),b=await D.json(),P=Date.now()-v;D.ok?(i(b),m(w,{status:"success",message:`   (${P}ms)`,details:b,timing:P})):m(w,{status:"error",message:"  ",details:b,timing:P})}catch(D){const b=Date.now()-v;m(w,{status:"error",message:"   ",details:D instanceof Error?D.message:"  ",timing:b})}},C=async()=>{c(!0),await Promise.all([f(0),u(1),g(2),N(3),h(4),y(5)]),c(!1)},V=w=>{switch(w){case 0:return f(w);case 1:return u(w);case 2:return g(w);case 3:return N(w);case 4:return h(w);case 5:return y(w);default:return Promise.resolve()}},k=w=>{switch(w){case"success":return e.jsxDEV(ds,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:460,columnNumber:16},void 0);case"error":return e.jsxDEV(zs,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:462,columnNumber:16},void 0);case"loading":return e.jsxDEV(Za,{className:"w-5 h-5 text-blue-500 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:464,columnNumber:16},void 0);default:return e.jsxDEV(Bs,{className:"w-5 h-5 text-yellow-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:466,columnNumber:16},void 0)}},j=w=>{const v={success:"default",error:"destructive",loading:"secondary",pending:"outline"},D={success:"",error:"",loading:" ",pending:" "};return e.jsxDEV(X,{variant:v[w],children:D[w]},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:483,columnNumber:12},void 0)},x=s.every(w=>w.status==="success")?"success":s.some(w=>w.status==="error")?"error":"pending";return e.jsxDEV("div",{className:"container mx-auto p-6 max-w-6xl",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:495,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:496,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:494,columnNumber:7},void 0),e.jsxDEV("div",{className:"mb-6 flex gap-4 flex-wrap",children:[e.jsxDEV(S,{onClick:C,disabled:o,className:"flex items-center gap-2",children:[e.jsxDEV(rs,{className:`w-4 h-4 ${o?"animate-spin":""}`},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:507,columnNumber:11},void 0),o?" ...":" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:502,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:511,columnNumber:11},void 0),j(x)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:510,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:501,columnNumber:7},void 0),e.jsxDEV(Qs,{value:d,onValueChange:p,className:"space-y-4",children:[e.jsxDEV(Hs,{className:"grid w-full grid-cols-6",children:[e.jsxDEV(Me,{value:"overview",className:"flex items-center gap-2",children:[e.jsxDEV(fn,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:523,columnNumber:13},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:522,columnNumber:11},void 0),e.jsxDEV(Me,{value:"system",className:"flex items-center gap-2",children:[e.jsxDEV(ia,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:527,columnNumber:13},void 0),""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:526,columnNumber:11},void 0),e.jsxDEV(Me,{value:"environment",className:"flex items-center gap-2",children:[e.jsxDEV($s,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:531,columnNumber:13},void 0),""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:530,columnNumber:11},void 0),e.jsxDEV(Me,{value:"network",className:"flex items-center gap-2",children:[e.jsxDEV(_a,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:535,columnNumber:13},void 0),""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:534,columnNumber:11},void 0),e.jsxDEV(Me,{value:"database",className:"flex items-center gap-2",children:[e.jsxDEV(_t,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:539,columnNumber:13},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:538,columnNumber:11},void 0),e.jsxDEV(Me,{value:"browser",className:"flex items-center gap-2",children:[e.jsxDEV(Tt,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:543,columnNumber:13},void 0),""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:542,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:521,columnNumber:9},void 0),e.jsxDEV(We,{value:"overview",className:"space-y-4",children:[a?.summary&&e.jsxDEV("div",{className:"space-y-4",children:[a.summary.critical_issues.length>0&&e.jsxDEV(dt,{variant:"destructive",children:[e.jsxDEV(Bs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:554,columnNumber:19},void 0),e.jsxDEV(Zt,{children:["  (",a.summary.critical_issues.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:555,columnNumber:19},void 0),e.jsxDEV(ut,{children:e.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:a.summary.critical_issues.map((w,v)=>e.jsxDEV("li",{children:w},v,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:563,columnNumber:27},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:560,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:559,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:553,columnNumber:17},void 0),a.summary.warnings.length>0&&e.jsxDEV(dt,{children:[e.jsxDEV(Ja,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:573,columnNumber:19},void 0),e.jsxDEV(Zt,{children:[" (",a.summary.warnings.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:574,columnNumber:19},void 0),e.jsxDEV(ut,{children:e.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:a.summary.warnings.map((w,v)=>e.jsxDEV("li",{children:w},v,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:580,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:578,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:577,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:572,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:551,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid gap-4",children:s.map((w,v)=>e.jsxDEV(R,{children:[e.jsxDEV(K,{className:"pb-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[k(w.status),e.jsxDEV(Y,{className:"text-lg",children:w.name},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:597,columnNumber:23},void 0),j(w.status)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:595,columnNumber:21},void 0),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>V(v),disabled:w.status==="loading",children:w.status==="loading"?" ...":" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:602,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:594,columnNumber:19},void 0),e.jsxDEV(Rt,{children:w.message},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:613,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:593,columnNumber:17},void 0),w.details&&e.jsxDEV(T,{children:[e.jsxDEV("details",{className:"mt-2",children:[e.jsxDEV("summary",{className:"cursor-pointer text-sm font-medium mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:619,columnNumber:23},void 0),e.jsxDEV("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-auto max-h-60",children:JSON.stringify(w.details,null,2)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:622,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:618,columnNumber:21},void 0),w.timing&&e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:[" : ",w.timing,"ms"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:627,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:617,columnNumber:19},void 0)]},v,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:592,columnNumber:15},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:590,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:548,columnNumber:9},void 0),e.jsxDEV(We,{value:"system",className:"space-y-4",children:a?e.jsxDEV("div",{className:"grid gap-4",children:[e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(Hl,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:644,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:643,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:642,columnNumber:17},void 0),e.jsxDEV(T,{className:"space-y-3",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" Node.js:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:652,columnNumber:25},void 0)," ",a.system.node_version]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:651,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:656,columnNumber:25},void 0)," ",a.system.platform]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:655,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:660,columnNumber:25},void 0)," ",a.system.arch]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:659,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:650,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:665,columnNumber:25},void 0)," ",Math.floor(a.system.uptime/60)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:664,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:669,columnNumber:25},void 0)," ",a.system.timezone]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:668,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:673,columnNumber:25},void 0)," ",Math.round(a.system.memory.used/1024/1024)," ","MB"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:672,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:663,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:649,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:648,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:641,columnNumber:15},void 0),e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(hn,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:687,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:686,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:685,columnNumber:17},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:694,columnNumber:23},void 0)," ",a.filesystem.current_directory]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:693,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(a.filesystem.env_files).map(([w,v])=>e.jsxDEV("div",{className:"flex items-center gap-2",children:[v?e.jsxDEV(ds,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:703,columnNumber:29},void 0):e.jsxDEV(zs,{className:"w-4 h-4 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:705,columnNumber:29},void 0),e.jsxDEV("span",{className:v?"text-green-700":"text-red-700",children:w},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:707,columnNumber:27},void 0)]},w,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:701,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:697,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:692,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:691,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:684,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:640,columnNumber:13},void 0):e.jsxDEV(R,{children:e.jsxDEV(T,{className:"p-6 text-center",children:[e.jsxDEV("p",{children:"      "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:724,columnNumber:17},void 0),e.jsxDEV(S,{onClick:()=>y(5),className:"mt-4",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:725,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:723,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:722,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:638,columnNumber:9},void 0),e.jsxDEV(We,{value:"environment",className:"space-y-4",children:a?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV($s,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:742,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:741,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:740,columnNumber:17},void 0),e.jsxDEV(T,{className:"space-y-3",children:e.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"text-center p-3 bg-muted rounded",children:[e.jsxDEV("p",{className:"font-bold",children:""},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:749,columnNumber:23},void 0),e.jsxDEV(X,{variant:a.environment.isServer?"default":"secondary",children:a.environment.isServer?"":""},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:750,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:748,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-muted rounded",children:[e.jsxDEV("p",{className:"font-bold",children:"Netlify"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:761,columnNumber:23},void 0),e.jsxDEV(X,{variant:a.environment.isNetlify?"default":"secondary",children:a.environment.isNetlify?"":""},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:762,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:760,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-muted rounded",children:[e.jsxDEV("p",{className:"font-bold",children:""},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:773,columnNumber:23},void 0),e.jsxDEV(X,{variant:a.environment.isProduction?"default":"secondary",children:a.environment.isProduction?"":""},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:774,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:772,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:747,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:746,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:739,columnNumber:15},void 0),e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:"  - Supabase"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:792,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:791,columnNumber:17},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold flex items-center gap-2",children:[e.jsxDEV(At,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:799,columnNumber:27},void 0),"VITE_SUPABASE_URL"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:798,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV(X,{variant:a.env_analysis.supabase.url.exists?"default":"destructive",children:a.env_analysis.supabase.url.exists?"":" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:803,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[":"," ",a.env_analysis.supabase.url.source]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:814,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[":"," ",a.env_analysis.supabase.url.length," ",""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:818,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs bg-muted p-2 rounded break-all",children:a.env_analysis.supabase.url.value},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:823,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:802,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:797,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold flex items-center gap-2",children:[e.jsxDEV(gn,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:830,columnNumber:27},void 0),"VITE_SUPABASE_ANON_KEY"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:829,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV(X,{variant:a.env_analysis.supabase.key.exists?"default":"destructive",children:a.env_analysis.supabase.key.exists?"":" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:834,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[":"," ",a.env_analysis.supabase.key.source]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:845,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[":"," ",a.env_analysis.supabase.key.length," ",""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:849,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs bg-muted p-2 rounded",children:a.env_analysis.supabase.key.value},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:854,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:833,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:828,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:796,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:795,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:794,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:790,columnNumber:15},void 0),e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:["   (",a.env_analysis.all_env_keys.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:866,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:865,columnNumber:17},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 max-h-60 overflow-auto",children:a.env_analysis.all_env_keys.map(w=>e.jsxDEV(X,{variant:"outline",className:"text-xs",children:w},w,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:874,columnNumber:23},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:872,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:871,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:864,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:738,columnNumber:13},void 0):e.jsxDEV(R,{children:e.jsxDEV(T,{className:"p-6 text-center",children:e.jsxDEV("p",{children:"      "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:885,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:884,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:883,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:736,columnNumber:9},void 0),e.jsxDEV(We,{value:"network",className:"space-y-4",children:a&&e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(_a,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:896,columnNumber:19},void 0),"  "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:895,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:894,columnNumber:15},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:905,columnNumber:25},void 0)," ",a.network.request_info.headers.host]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:904,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:909,columnNumber:25},void 0)," ",a.network.request_info.headers.origin||" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:908,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:914,columnNumber:25},void 0)," ",a.network.request_info.headers["x-forwarded-proto"]||" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:913,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:903,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" IP:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:922,columnNumber:25},void 0)," ",a.network.request_info.headers["x-forwarded-for"]||" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:921,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:928,columnNumber:25},void 0)," ",a.network.request_info.path]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:927,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:932,columnNumber:25},void 0)," ",a.network.request_info.method]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:931,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:920,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:902,columnNumber:19},void 0),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:938,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold mb-2",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:941,columnNumber:21},void 0),e.jsxDEV("pre",{className:"bg-muted p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(a.network.request_info,null,2)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:942,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:940,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:901,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:900,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:893,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:891,columnNumber:9},void 0),e.jsxDEV(We,{value:"database",className:"space-y-4",children:a&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(_t,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:962,columnNumber:21},void 0),"  Supabase"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:961,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:960,columnNumber:17},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(X,{variant:a.supabase_test.connection===""?"default":"destructive",children:a.supabase_test.connection},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:969,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:["(",a.supabase_test.timing,"ms)"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:978,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:968,columnNumber:21},void 0),a.supabase_test.error&&e.jsxDEV(dt,{variant:"destructive",children:[e.jsxDEV(Bs,{className:"h-4 w-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:985,columnNumber:25},void 0),e.jsxDEV(Zt,{children:"  "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:986,columnNumber:25},void 0),e.jsxDEV(ut,{children:a.supabase_test.error},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:987,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:984,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold mb-2",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:994,columnNumber:23},void 0),e.jsxDEV("pre",{className:"bg-muted p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(a.supabase_test.details,null,2)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:995,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:993,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:967,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:966,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:959,columnNumber:15},void 0),e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1009,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1008,columnNumber:17},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-3",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1016,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1015,columnNumber:25},void 0),e.jsxDEV(X,{children:a.auto_config.config.configSource},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1018,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1014,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1024,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1023,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-x-2",children:[e.jsxDEV(X,{variant:a.auto_config.validation.url_valid?"default":"destructive",children:["URL"," ",a.auto_config.validation.url_valid?"":" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1027,columnNumber:27},void 0),e.jsxDEV(X,{variant:a.auto_config.validation.key_valid?"default":"destructive",children:["Key"," ",a.auto_config.validation.key_valid?"":" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1039,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1026,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1022,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1013,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1012,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1011,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1007,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:958,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:956,columnNumber:9},void 0),e.jsxDEV(We,{value:"browser",className:"space-y-4",children:n&&e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(Tt,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1067,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1066,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1065,columnNumber:17},void 0),e.jsxDEV(T,{className:"space-y-3",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1075,columnNumber:25},void 0)," ",n.platform]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1074,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1078,columnNumber:25},void 0)," ",n.language]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1077,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Cookies:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1081,columnNumber:25},void 0)," ",n.cookieEnabled?"":""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1080,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1073,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1087,columnNumber:25},void 0)," ",n.onLine?"":" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1086,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1091,columnNumber:25},void 0)," ",n.screen.width,"x",n.screen.height]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1090,columnNumber:23},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1095,columnNumber:25},void 0)," ",n.viewport.width,"x",n.viewport.height]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1094,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1085,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1072,columnNumber:19},void 0),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1101,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1105,columnNumber:23},void 0)," ",n.location.origin]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1104,columnNumber:21},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1109,columnNumber:23},void 0)," ",n.location.protocol]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1108,columnNumber:21},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1113,columnNumber:23},void 0)," ",n.location.pathname]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1112,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1103,columnNumber:19},void 0),e.jsxDEV(Es,{},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1117,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold mb-2",children:"User Agent:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1120,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs bg-muted p-2 rounded break-all",children:n.userAgent},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1121,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1119,columnNumber:19},void 0),n.connection&&e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold mb-2",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1128,columnNumber:23},void 0),e.jsxDEV("pre",{className:"bg-muted p-3 rounded text-xs",children:JSON.stringify(n.connection,null,2)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1129,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1127,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1071,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1064,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1063,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1061,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:516,columnNumber:7},void 0),a&&e.jsxDEV(R,{className:"mt-6",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(xs,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1146,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1145,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1144,columnNumber:11},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"  :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1154,columnNumber:19},void 0)," ",a.timing.total,"ms"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1153,columnNumber:17},void 0),e.jsxDEV(ws,{value:a.timing.total/5e3*100,className:"mt-2"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1157,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1152,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"  Supabase:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1164,columnNumber:19},void 0)," ",a.timing.supabase,"ms"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1163,columnNumber:17},void 0),e.jsxDEV(ws,{value:a.timing.supabase/2e3*100,className:"mt-2"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1167,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1162,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1151,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1150,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:1143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnostic.tsx",lineNumber:493,columnNumber:5},void 0)},np=()=>{const[s,t]=r.useState(!1),[a,i]=r.useState([]),n=async()=>{t(!0),i([]);try{console.log("Testing API connection...");const o=await fetch("/api/ping"),c=await o.json();i(m=>[...m,{name:" API",status:o.ok?"success":"error",message:o.ok?" ":" ",details:c}]),console.log("Testing system diagnostic...");const d=await fetch("/api/system-diagnostic"),p=await d.json();i(m=>[...m,{name:" ",status:d.ok?"success":"error",message:d.ok?"  ":"  ",details:p}])}catch(o){console.error("Test error:",o),i(c=>[...c,{name:" ",status:"error",message:"   ",details:o instanceof Error?o.message:"  "}])}t(!1)},l=o=>{switch(o){case"success":return e.jsxDEV(ds,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:64,columnNumber:16},void 0);case"error":return e.jsxDEV(zs,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:66,columnNumber:16},void 0);default:return e.jsxDEV(Za,{className:"w-5 h-5 text-blue-500 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:68,columnNumber:16},void 0)}};return e.jsxDEV("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:74,columnNumber:7},void 0),e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV(S,{onClick:n,disabled:s,className:"flex items-center gap-2",children:[e.jsxDEV(rs,{className:`w-4 h-4 ${s?"animate-spin":""}`},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:87,columnNumber:11},void 0),s?" ...":" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:82,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:81,columnNumber:7},void 0),e.jsxDEV("div",{className:"space-y-4",children:a.map((o,c)=>e.jsxDEV(R,{children:[e.jsxDEV(K,{className:"pb-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[l(o.status),e.jsxDEV(Y,{className:"text-lg",children:o.name},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:98,columnNumber:17},void 0),e.jsxDEV(X,{variant:o.status==="success"?"default":"destructive",children:o.status==="success"?"":""},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:99,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:96,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:o.message},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:95,columnNumber:13},void 0),o.details&&e.jsxDEV(T,{children:e.jsxDEV("details",{className:"mt-2",children:[e.jsxDEV("summary",{className:"cursor-pointer text-sm font-medium mb-2",children:" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:113,columnNumber:19},void 0),e.jsxDEV("pre",{className:"bg-muted p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(o.details,null,2)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:116,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:112,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:111,columnNumber:15},void 0)]},c,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:94,columnNumber:11},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:92,columnNumber:7},void 0),a.length===0&&e.jsxDEV(R,{children:e.jsxDEV(T,{className:"p-6 text-center",children:e.jsxDEV("p",{children:'     .   " " .'},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:129,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:128,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:127,columnNumber:9},void 0),e.jsxDEV(R,{className:"mt-6",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:137,columnNumber:9},void 0),e.jsxDEV(T,{className:"space-y-2",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:142,columnNumber:13},void 0)," ",window.location.href]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:141,columnNumber:11},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:145,columnNumber:13},void 0)," ",window.location.pathname]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:144,columnNumber:11},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"User Agent:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:148,columnNumber:13},void 0)," ",navigator.userAgent]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:147,columnNumber:11},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:151,columnNumber:13},void 0)," ",navigator.language]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:150,columnNumber:11},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:154,columnNumber:13},void 0)," ",navigator.onLine?"":""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:140,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:136,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticTest.tsx",lineNumber:73,columnNumber:5},void 0)},rp=()=>{const[s,t]=r.useState([{name:" API ",status:"pending",message:"  "},{name:"  Supabase",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "},{name:" ",status:"pending",message:"  "}]),[a,i]=r.useState(null),[n,l]=r.useState(null),[o,c]=r.useState(!1),[d,p]=r.useState("overview");r.useEffect(()=>{l({userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine,location:{origin:window.location.origin,protocol:window.location.protocol,host:window.location.host,pathname:window.location.pathname},screen:{width:screen.width,height:screen.height,colorDepth:screen.colorDepth},viewport:{width:window.innerWidth,height:window.innerHeight}})},[]);const m=(k,j)=>{t(x=>x.map((w,v)=>v===k?{...w,...j}:w))},f=async k=>{m(k,{status:"loading",message:" ..."});const j=Date.now();try{const x=await fetch("/api/ping"),w=await x.json(),v=Date.now()-j;x.ok?m(k,{status:"success",message:`  (${v}ms)`,details:w,timing:v}):m(k,{status:"error",message:` HTTP ${x.status}`,details:w,timing:v})}catch(x){const w=Date.now()-j;m(k,{status:"error",message:" ",details:x instanceof Error?x.message:"  ",timing:w})}},u=async k=>{m(k,{status:"loading",message:"  ..."});const j=Date.now();try{const x=await fetch("/api/system-diagnostic"),w=await x.json(),v=Date.now()-j;x.ok?(i(w),m(k,{status:"success",message:`   (${v}ms)`,details:w,timing:v})):m(k,{status:"error",message:"  ",details:w,timing:v})}catch(x){const w=Date.now()-j;m(k,{status:"error",message:"   ",details:x instanceof Error?x.message:"  ",timing:w})}},g=async k=>{m(k,{status:"loading",message:"   ..."});try{const j={VITE_SUPABASE_URL:"https://yrsvksgkxjiogjuaeyvd.supabase.co",VITE_SUPABASE_ANON_KEY:"",MODE:"production",DEV:!0,PROD:!1},w=await(await fetch("/api/health")).json(),v=!0,D=w.supabase?.url_configured&&w.supabase?.key_configured;v&&D?m(k,{status:"success",message:"  ",details:{client:j,server:w.supabase}}):m(k,{status:"error",message:"  ",details:{client:j,server:w.supabase,issues:{client_missing:!v,server_missing:!D}}})}catch(j){m(k,{status:"error",message:"   ",details:j instanceof Error?j.message:"  "})}},N=async()=>{c(!0),await f(0),await g(3),await u(5),c(!1)},h=k=>{switch(k){case 0:return f(k);case 3:return g(k);case 5:return u(k);default:return Promise.resolve()}},y=k=>{switch(k){case"success":return e.jsxDEV(ds,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:301,columnNumber:16},void 0);case"error":return e.jsxDEV(zs,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:303,columnNumber:16},void 0);case"loading":return e.jsxDEV(Za,{className:"w-5 h-5 text-blue-500 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:305,columnNumber:16},void 0);default:return e.jsxDEV(Bs,{className:"w-5 h-5 text-yellow-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:307,columnNumber:16},void 0)}},C=k=>{const j={success:"default",error:"destructive",loading:"secondary",pending:"outline"},x={success:"",error:"",loading:" ",pending:" "};return e.jsxDEV(X,{variant:j[k],children:x[k]},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:324,columnNumber:12},void 0)},V=s.every(k=>k.status==="success")?"success":s.some(k=>k.status==="error")?"error":"pending";return e.jsxDEV("div",{className:"container mx-auto p-6 max-w-6xl",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:336,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:337,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:335,columnNumber:7},void 0),e.jsxDEV("div",{className:"mb-6 flex gap-4 flex-wrap",children:[e.jsxDEV(S,{onClick:N,disabled:o,className:"flex items-center gap-2",children:[e.jsxDEV(rs,{className:`w-4 h-4 ${o?"animate-spin":""}`},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:348,columnNumber:11},void 0),o?" ...":" "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:343,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:352,columnNumber:11},void 0),C(V)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:351,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:342,columnNumber:7},void 0),e.jsxDEV("div",{className:"mb-6 flex gap-2 flex-wrap",children:[{key:"overview",label:" ",icon:Tt},{key:"system",label:"",icon:ia},{key:"environment",label:"",icon:$s},{key:"network",label:"",icon:_a},{key:"browser",label:"",icon:At}].map(({key:k,label:j,icon:x})=>e.jsxDEV(S,{variant:d===k?"default":"outline",size:"sm",onClick:()=>p(k),className:"flex items-center gap-2",children:[e.jsxDEV(x,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:373,columnNumber:13},void 0),j]},k,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:366,columnNumber:11},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:358,columnNumber:7},void 0),d==="overview"&&e.jsxDEV("div",{className:"space-y-4",children:[a?.summary&&e.jsxDEV("div",{className:"space-y-4",children:[a.summary.critical_issues.length>0&&e.jsxDEV("div",{className:"p-4 border border-red-500 bg-red-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(Bs,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:388,columnNumber:21},void 0),e.jsxDEV("h3",{className:"font-bold text-red-700",children:["  (",a.summary.critical_issues.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:389,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:387,columnNumber:19},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-red-700",children:a.summary.critical_issues.map((k,j)=>e.jsxDEV("li",{children:k},j,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:397,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:394,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:386,columnNumber:17},void 0),a.summary.warnings.length>0&&e.jsxDEV("div",{className:"p-4 border border-yellow-500 bg-yellow-50 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(Ja,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:407,columnNumber:21},void 0),e.jsxDEV("h3",{className:"font-bold text-yellow-700",children:[" (",a.summary.warnings.length,")"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:408,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:406,columnNumber:19},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-yellow-700",children:a.summary.warnings.map((k,j)=>e.jsxDEV("li",{children:k},j,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:414,columnNumber:23},void 0))},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:412,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:405,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:384,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid gap-4",children:[0,3,5].map(k=>{const j=s[k];return e.jsxDEV(R,{children:[e.jsxDEV(K,{className:"pb-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[y(j.status),e.jsxDEV(Y,{className:"text-lg",children:j.name},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:432,columnNumber:25},void 0),C(j.status)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:430,columnNumber:23},void 0),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>h(k),disabled:j.status==="loading",children:j.status==="loading"?" ...":" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:437,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:429,columnNumber:21},void 0),e.jsxDEV(Rt,{children:j.message},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:448,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:428,columnNumber:19},void 0),j.details&&e.jsxDEV(T,{children:[e.jsxDEV("details",{className:"mt-2",children:[e.jsxDEV("summary",{className:"cursor-pointer text-sm font-medium mb-2",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:454,columnNumber:25},void 0),e.jsxDEV("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-auto max-h-60",children:JSON.stringify(j.details,null,2)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:457,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:453,columnNumber:23},void 0),j.timing&&e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:[" : ",j.timing,"ms"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:462,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:452,columnNumber:21},void 0)]},k,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:427,columnNumber:17},void 0)})},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:423,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:381,columnNumber:9},void 0),d==="system"&&a&&e.jsxDEV("div",{className:"grid gap-4",children:e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(ia,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:480,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:479,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:478,columnNumber:13},void 0),e.jsxDEV(T,{className:"space-y-3",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" Node.js:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:488,columnNumber:21},void 0)," ",a.system.node_version]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:487,columnNumber:19},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:492,columnNumber:21},void 0)," ",a.system.platform]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:491,columnNumber:19},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:495,columnNumber:21},void 0)," ",a.system.arch]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:494,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:486,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:500,columnNumber:21},void 0)," ",Math.floor(a.system.uptime/60)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:499,columnNumber:19},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:504,columnNumber:21},void 0)," ",a.system.timezone]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:503,columnNumber:19},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:508,columnNumber:21},void 0)," ",Math.round(a.system.memory.used/1024/1024)," ","MB"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:507,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:498,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:485,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:484,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:477,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:476,columnNumber:9},void 0),d==="environment"&&a&&e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:"  - Supabase"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:525,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:524,columnNumber:13},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold flex items-center gap-2",children:[e.jsxDEV(At,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:532,columnNumber:23},void 0),"VITE_SUPABASE_URL"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:531,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV(X,{variant:a.env_analysis.supabase.url.exists?"default":"destructive",children:a.env_analysis.supabase.url.exists?"":" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:536,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[":"," ",a.env_analysis.supabase.url.source]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:547,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs bg-muted p-2 rounded break-all",children:a.env_analysis.supabase.url.value},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:551,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:535,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:530,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-bold flex items-center gap-2",children:[e.jsxDEV(_t,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:558,columnNumber:23},void 0),"VITE_SUPABASE_ANON_KEY"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:557,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV(X,{variant:a.env_analysis.supabase.key.exists?"default":"destructive",children:a.env_analysis.supabase.key.exists?"":" "},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:562,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[":"," ",a.env_analysis.supabase.key.source]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:573,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs bg-muted p-2 rounded",children:a.env_analysis.supabase.key.value},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:577,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:561,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:556,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:529,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:528,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:527,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:523,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:522,columnNumber:9},void 0),d==="browser"&&n&&e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(Tt,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:593,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:592,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:591,columnNumber:11},void 0),e.jsxDEV(T,{className:"space-y-3",children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:601,columnNumber:19},void 0)," ",n.platform]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:600,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:604,columnNumber:19},void 0)," ",n.language]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:603,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:607,columnNumber:19},void 0)," ",n.onLine?"":""]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:606,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:599,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:613,columnNumber:19},void 0)," ",n.screen.width,"x",n.screen.height]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:612,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:617,columnNumber:19},void 0)," ",n.viewport.width,"x",n.viewport.height]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:616,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:":"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:621,columnNumber:19},void 0)," ",n.location.origin]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:620,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:611,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:598,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:597,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:590,columnNumber:9},void 0),a&&e.jsxDEV(R,{className:"mt-6",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(xs,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:634,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:633,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:632,columnNumber:11},void 0),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"  :"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:642,columnNumber:19},void 0)," ",a.timing.total,"ms"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:641,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(a.timing.total/5e3*100,100)}%`}},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:646,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:645,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:640,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"  Supabase:"},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:656,columnNumber:19},void 0)," ",a.timing.supabase,"ms"]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:655,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(a.timing.supabase/2e3*100,100)}%`}},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:660,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:659,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:654,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:639,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:638,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:631,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/client/pages/NetworkDiagnosticSimple.tsx",lineNumber:334,columnNumber:5},void 0)};function Oo({onRetry:s}){const[t,a]=r.useState(navigator.onLine),[i,n]=r.useState(!1),[l,o]=r.useState(null);r.useEffect(()=>{const f=()=>a(!0),u=()=>a(!1);window.addEventListener("online",f),window.addEventListener("offline",u);const g=N=>{N.preventDefault(),o(N)};return window.addEventListener("beforeinstallprompt",g),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",u),window.removeEventListener("beforeinstallprompt",g)}},[]);const c=async()=>{n(!0);try{await fetch("/api/ping",{method:"HEAD"}),s?s():window.location.reload()}catch{console.warn("Still offline")}finally{n(!1)}},d=async()=>{l&&(l.prompt(),(await l.userChoice).outcome==="accepted"&&o(null))},m=(()=>{const f=localStorage.getItem("app_cache_info");return f?JSON.parse(f):null})();return e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-background via-background/95 to-muted/20 p-4",children:e.jsxDEV("div",{className:"container mx-auto max-w-2xl pt-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-4",children:t?e.jsxDEV(qa,{className:"h-16 w-16 text-green-500"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:93,columnNumber:15},this):e.jsxDEV(dn,{className:"h-16 w-16 text-red-500 animate-pulse"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:95,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:91,columnNumber:11},this),e.jsxDEV("h1",{className:"text-3xl font-bold text-foreground mb-2",children:t?" ...":"  "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:99,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:t?"    ":"    .      ."},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:103,columnNumber:11},this),e.jsxDEV(X,{variant:t?"default":"destructive",className:"mt-3",children:t?"":" "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:90,columnNumber:9},this),e.jsxDEV("div",{className:"grid gap-6 mb-8",children:[e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2",children:[e.jsxDEV(rs,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:123,columnNumber:17},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:122,columnNumber:15},this)},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:121,columnNumber:13},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"      "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(S,{onClick:c,disabled:i,className:"flex-1",children:[i&&e.jsxDEV(rs,{className:"ml-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:139,columnNumber:21},this),i?" ...":"  "]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:133,columnNumber:17},this),e.jsxDEV(S,{variant:"outline",onClick:()=>window.location.href="/",children:" "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:144,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:120,columnNumber:11},this),l&&e.jsxDEV(R,{className:"border-golden-200 bg-golden-50/10",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"flex items-center gap-2 text-golden-600",children:[e.jsxDEV(Ya,{className:"h-5 w-5"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:159,columnNumber:19},this)," "]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:158,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV(T,{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"         "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:164,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV(Ga,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:170,columnNumber:21},this),e.jsxDEV(Tt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:171,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:169,columnNumber:19},this),e.jsxDEV(S,{onClick:d,variant:"outline",className:"border-golden-200 text-golden-600 hover:bg-golden-50",children:" "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:174,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:168,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:156,columnNumber:13},this),m&&e.jsxDEV(R,{children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{children:"  "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:190,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV(T,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:195,columnNumber:21},this),e.jsxDEV("span",{className:"ml-2 font-medium",children:m.bookings||0},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:196,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:194,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:201,columnNumber:21},this),e.jsxDEV("span",{className:"ml-2 font-medium",children:m.messages||0},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:202,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:200,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-muted-foreground",children:":"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:207,columnNumber:21},this),e.jsxDEV("span",{className:"ml-2 font-medium",children:m.barbers||0},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:208,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:206,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"text-muted-foreground",children:" :"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:213,columnNumber:21},this),e.jsxDEV("span",{className:"ml-2 font-medium text-xs",children:m.lastUpdate?new Date(m.lastUpdate).toLocaleDateString("ar"):" "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:214,columnNumber:21},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:212,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:193,columnNumber:17},this),e.jsxDEV(S,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>window.location.href="/dashboard",children:"  "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:224,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:118,columnNumber:9},this),e.jsxDEV(R,{className:"bg-muted/30",children:[e.jsxDEV(K,{children:e.jsxDEV(Y,{className:"text-base",children:"   "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:240,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:239,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[e.jsxDEV("li",{children:"      "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:246,columnNumber:15},this),e.jsxDEV("li",{children:"       "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV("li",{children:"       "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:248,columnNumber:15},this),e.jsxDEV("li",{children:"    Wi-Fi   "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:245,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:244,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:238,columnNumber:9},this),e.jsxDEV("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:[e.jsxDEV("p",{children:" Service Worker: "},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:256,columnNumber:11},this),e.jsxDEV("p",{children:" : 1.2.0"},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:257,columnNumber:11},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:255,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"/app/code/client/pages/OfflinePage.tsx",lineNumber:87,columnNumber:5},this)}var op={};function Fo(){const[s,t]=r.useState({isOnline:navigator.onLine,isInstalled:!1,installPrompt:null,swRegistration:null,updateAvailable:!1,notificationPermission:"default"}),a=r.useCallback(()=>{const p=window.matchMedia("(display-mode: standalone)").matches,m=window.navigator.standalone===!0,f=p||m;return t(u=>({...u,isInstalled:f})),f},[]);r.useEffect(()=>{let p=[];return(async()=>{if(a(),"Notification"in window&&t(h=>({...h,notificationPermission:Notification.permission})),"serviceWorker"in navigator)try{const h=await navigator.serviceWorker.ready;t(C=>({...C,swRegistration:h}));const y=()=>{t(C=>({...C,updateAvailable:!0}))};h.addEventListener("updatefound",y),p.push(()=>h.removeEventListener("updatefound",y)),h.waiting&&t(C=>({...C,updateAvailable:!0}))}catch(h){console.warn("Service Worker registration failed:",h)}const f=()=>t(h=>({...h,isOnline:!0})),u=()=>t(h=>({...h,isOnline:!1}));window.addEventListener("online",f),window.addEventListener("offline",u),p.push(()=>{window.removeEventListener("online",f),window.removeEventListener("offline",u)});const g=h=>{h.preventDefault(),t(y=>({...y,installPrompt:h}))};window.addEventListener("beforeinstallprompt",g),p.push(()=>window.removeEventListener("beforeinstallprompt",g));const N=()=>{t(h=>({...h,isInstalled:!0,installPrompt:null}))};window.addEventListener("appinstalled",N),p.push(()=>window.removeEventListener("appinstalled",N))})(),()=>{p.forEach(f=>f())}},[a]);const i=r.useCallback(async()=>{if(!s.installPrompt)return!1;try{if(s.installPrompt.prompt(),(await s.installPrompt.userChoice).outcome==="accepted")return t(m=>({...m,installPrompt:null,isInstalled:!0})),!0}catch(p){console.error("App installation failed:",p)}return!1},[s.installPrompt]),n=r.useCallback(async()=>{if(!("Notification"in window))return"denied";try{const p=await Notification.requestPermission();return t(m=>({...m,notificationPermission:p})),p==="granted"&&s.swRegistration?.pushManager&&await lp(s.swRegistration),p}catch(p){return console.error("Notification permission request failed:",p),"denied"}},[s.swRegistration]),l=r.useCallback(()=>{s.swRegistration?.waiting&&(s.swRegistration.waiting.postMessage({type:"SKIP_WAITING"}),setTimeout(()=>{window.location.reload()},1e3))},[s.swRegistration]),o=r.useCallback(async()=>{try{if("caches"in window){const m=await caches.keys();await Promise.all(m.map(f=>caches.delete(f)))}if(confirm("      ")&&(localStorage.clear(),sessionStorage.clear()),s.swRegistration){const m=new MessageChannel;s.swRegistration.active?.postMessage({type:"CLEAR_CACHE"},[m.port2])}console.log("Cache cleared successfully")}catch(p){throw console.error("Failed to clear cache:",p),p}},[s.swRegistration]),c=r.useCallback(async()=>{if(!(!s.swRegistration||!s.isOnline))try{s.swRegistration?.sync&&"sync"in window.ServiceWorkerRegistration.prototype&&(await s.swRegistration.sync.register("background-sync-bookings"),await s.swRegistration.sync.register("background-sync-messages"),await s.swRegistration.sync.register("background-sync-posts")),console.log("Background sync registered")}catch(p){console.error("Background sync registration failed:",p)}},[s.swRegistration,s.isOnline]),d=r.useCallback(async()=>{if("storage"in navigator&&"estimate"in navigator.storage)try{return await navigator.storage.estimate()}catch(p){console.error("Failed to get storage estimate:",p)}return null},[]);return{...s,installApp:i,requestNotificationPermission:n,updateApp:l,isUpdateAvailable:s.updateAvailable,clearCache:o,syncData:c,getStorageUsage:d}}async function lp(s){if(s.pushManager)try{const t=await s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cp(op.VITE_VAPID_PUBLIC_KEY||"BEl62iUYgUivxIkv69yViEuiBIa40HI0DLLSjL4k5UfrvIWD1KpIYMXKjjqONq8JRNfqJBtJUV8Rvo1P2Q7FN9E")});await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(t)}),console.log("Push notifications subscribed")}catch(t){console.error("Push subscription failed:",t)}}function cp(s){const t="=".repeat((4-s.length%4)%4),a=(s+t).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(a),n=new Uint8Array(i.length);for(let l=0;l<i.length;++l)n[l]=i.charCodeAt(l);return n}function mp(){const[s,t]=r.useState(null);return r.useEffect(()=>{const a=async()=>{if("storage"in navigator&&"estimate"in navigator.storage)try{const n=await navigator.storage.estimate(),l=n.usage||0,o=n.quota||0,c=o>0?l/o*100:0;t({usage:l,quota:o,percentage:c})}catch(n){console.error("Failed to get storage info:",n)}};a();const i=setInterval(a,3e4);return()=>clearInterval(i)},[]),s}function Uo(){const[s,t]=r.useState(navigator.onLine),[a,i]=r.useState("unknown");return r.useEffect(()=>{const n=()=>t(!0),l=()=>t(!1);if(window.addEventListener("online",n),window.addEventListener("offline",l),"connection"in navigator){const o=navigator.connection;i(o.effectiveType||"unknown");const c=()=>{i(o.effectiveType||"unknown")};return o.addEventListener("change",c),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",l),o.removeEventListener("change",c)}}return()=>{window.removeEventListener("online",n),window.removeEventListener("offline",l)}},[]),{isOnline:s,connectionType:a}}function dp(){const{toast:s}=Qa(),{isUpdateAvailable:t,updateApp:a,installApp:i,installPrompt:n,isInstalled:l}=Fo(),[o,c]=r.useState(!1),[d,p]=r.useState(!1),[m,f]=r.useState(!1);r.useEffect(()=>{t&&!m&&c(!0)},[t,m]),r.useEffect(()=>{if(n&&!l&&!m){const h=setTimeout(()=>{p(!0)},5e3);return()=>clearTimeout(h)}},[n,l,m]);const u=async()=>{try{a(),s({title:"   ",description:"     "})}catch{s({title:"   ",description:"    ",variant:"destructive"})}},g=async()=>{try{await i()&&(p(!1),s({title:"   !",description:"      "}))}catch{s({title:"   ",description:"    ",variant:"destructive"})}},N=h=>{h==="update"?c(!1):p(!1),f(!0),setTimeout(()=>{f(!1)},60*60*1e3)};return o?e.jsxDEV("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 max-w-sm w-full mx-4",children:e.jsxDEV(R,{className:"border-golden-200 bg-golden-50/95 backdrop-blur-sm shadow-lg",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV(rs,{className:"h-6 w-6 text-golden-600"},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:100,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:99,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-golden-900",children:" "},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:104,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-golden-700 mt-1",children:"     "},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:107,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2 mt-3",children:[e.jsxDEV(S,{size:"sm",onClick:u,className:"text-xs bg-golden-600 hover:bg-golden-700 text-white",children:[e.jsxDEV(rs,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:117,columnNumber:21},this)," "]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:112,columnNumber:19},this),e.jsxDEV(S,{size:"sm",variant:"ghost",onClick:()=>N("update"),className:"text-xs text-golden-600 hover:bg-golden-100",children:""},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:121,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:103,columnNumber:15},this),e.jsxDEV(S,{size:"sm",variant:"ghost",onClick:()=>N("update"),className:"flex-shrink-0 w-6 h-6 p-0 text-golden-400 hover:text-golden-600",children:e.jsxDEV(fs,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:138,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:97,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:96,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:95,columnNumber:7},this):d?e.jsxDEV("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 max-w-sm w-full mx-4",children:e.jsxDEV(R,{className:"border-blue-200 bg-blue-50/95 backdrop-blur-sm shadow-lg",children:e.jsxDEV(T,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:"flex-shrink-0",children:e.jsxDEV(Ga,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:155,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-blue-900",children:" "},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:159,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-blue-700 mt-1",children:"      "},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:162,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2 mt-3",children:[e.jsxDEV(S,{size:"sm",onClick:g,className:"text-xs bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsxDEV(Ya,{className:"w-3 h-3 ml-1"},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:172,columnNumber:21},this),""]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:167,columnNumber:19},this),e.jsxDEV(S,{size:"sm",variant:"ghost",onClick:()=>N("install"),className:"text-xs text-blue-600 hover:bg-blue-100",children:""},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:176,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV(S,{size:"sm",variant:"ghost",onClick:()=>N("install"),className:"flex-shrink-0 w-6 h-6 p-0 text-blue-400 hover:text-blue-600",children:e.jsxDEV(fs,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:193,columnNumber:17},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:187,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:153,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:151,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:150,columnNumber:7},this):null}function up(){const{isOnline:s}=Fo(),[t,a]=r.useState(!1);return r.useEffect(()=>{if(!s){a(!0);const i=setTimeout(()=>{a(!1)},5e3);return()=>clearTimeout(i)}},[s]),!s&&t?e.jsxDEV("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-600 text-white text-center py-2 text-sm",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:224,columnNumber:11},this),"   -     "]},void 0,!0,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:223,columnNumber:9},this)},void 0,!1,{fileName:"/app/code/client/components/PWAUpdateNotification.tsx",lineNumber:222,columnNumber:7},this):null}function pp(){const[s,t]=r.useState({loadTime:0,cacheHitRate:0,apiResponseTime:0,memoryUsage:0}),[a,i]=r.useState(!1),n=mp(),{isOnline:l,connectionType:o}=Uo();r.useEffect(()=>{c(),i(!0);const g=setInterval(c,5e3);return()=>clearInterval(g)},[]);const c=()=>{const u=performance.getEntriesByType("navigation")[0],g=u?u.loadEventEnd-u.fetchStart:0,N=performance.memory,h=N?N.usedJSHeapSize/N.jsHeapSizeLimit*100:0,y=performance.getEntriesByType("resource").filter(x=>x.name.includes("/api/")).slice(-1)[0],C=y?y.responseEnd-y.requestStart:0,V=performance.getEntriesByType("resource"),k=V.filter(x=>x.transferSize===0).length,j=V.length>0?k/V.length*100:0;t({loadTime:Math.round(g),cacheHitRate:Math.round(j),apiResponseTime:Math.round(C),memoryUsage:Math.round(h)})},d=u=>{const g={loadTime:{good:2e3,average:4e3},cacheHitRate:{good:70,average:50},apiResponseTime:{good:500,average:1e3},memoryUsage:{good:50,average:75}},N=s[u],h=g[u];return u==="cacheHitRate"?N>=h.good?"excellent":N>=h.average?"good":"poor":N<=h.good?"excellent":N<=h.average?"good":"poor"},p=u=>{switch(u){case"excellent":return"bg-green-500";case"good":return"bg-yellow-500";case"poor":return"bg-red-500";default:return"bg-gray-500"}},m=u=>{if(u===0)return"0 B";const g=1024,N=["B","KB","MB","GB"],h=Math.floor(Math.log(u)/Math.log(g));return parseFloat((u/Math.pow(g,h)).toFixed(2))+" "+N[h]},f=()=>{switch(o){case"4g":return"";case"3g":return"";case"2g":return"";case"slow-2g":return"";default:return""}};return a?e.jsxDEV("div",{className:"fixed bottom-4 right-4 z-40 max-w-sm",children:[e.jsxDEV(R,{className:"bg-background/95 backdrop-blur-sm border-2 border-muted",children:[e.jsxDEV(K,{className:"pb-2",children:e.jsxDEV(Y,{className:"text-sm flex items-center gap-2",children:[e.jsxDEV(hi,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:152,columnNumber:13},this),"  PWA",e.jsxDEV(X,{variant:l?"default":"destructive",className:"text-xs",children:l?"":" "},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:151,columnNumber:11},this)},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:150,columnNumber:9},this),e.jsxDEV(T,{className:"space-y-3 text-xs",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(qa,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:168,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:166,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:f()},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:171,columnNumber:15},this),e.jsxDEV("span",{className:"capitalize",children:o},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:172,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:165,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-1",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(xs,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:180,columnNumber:17},this),e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:179,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${p(d("loadTime"))}`},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:184,columnNumber:17},this),e.jsxDEV("span",{children:[s.loadTime,"ms"]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:187,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:183,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:178,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:177,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(_t,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:196,columnNumber:17},this),e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:195,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${p(d("cacheHitRate"))}`},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:200,columnNumber:17},this),e.jsxDEV("span",{children:[s.cacheHitRate,"%"]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:194,columnNumber:13},this),e.jsxDEV(ws,{value:s.cacheHitRate,className:"h-1"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:206,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:193,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-1",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(hi,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:213,columnNumber:17},this),e.jsxDEV("span",{children:" API:"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:214,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:212,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${p(d("apiResponseTime"))}`},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:217,columnNumber:17},this),e.jsxDEV("span",{children:[s.apiResponseTime,"ms"]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:220,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:216,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:211,columnNumber:13},this)},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:210,columnNumber:11},this),s.memoryUsage>0&&e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(hn,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:230,columnNumber:19},this),e.jsxDEV("span",{children:":"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:231,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:229,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${p(d("memoryUsage"))}`},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:234,columnNumber:19},this),e.jsxDEV("span",{children:[s.memoryUsage,"%"]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:233,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:228,columnNumber:15},this),e.jsxDEV(ws,{value:s.memoryUsage,className:"h-1"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:227,columnNumber:13},this),n&&e.jsxDEV("div",{className:"space-y-1 pt-2 border-t border-muted",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:" :"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:248,columnNumber:17},this),e.jsxDEV("span",{children:m(n.usage)},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:249,columnNumber:17},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV(ws,{value:n.percentage,className:"h-1"},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:251,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center",children:[n.percentage.toFixed(1),"% "," ",m(n.quota)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:246,columnNumber:13},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:149,columnNumber:7},this),e.jsxDEV("button",{onClick:()=>{i(!1),localStorage.setItem("show_pwa_monitor","false")},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",title:"  ",children:""},void 0,!1,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:262,columnNumber:7},this)]},void 0,!0,{fileName:"/app/code/client/components/PWAPerformanceMonitor.tsx",lineNumber:148,columnNumber:5},this):null}function Np(){r.useEffect(()=>{window.showPWAMonitor=()=>{localStorage.setItem("show_pwa_monitor","true"),window.location.reload(),console.log("     PWA")},window.hidePWAMonitor=()=>{localStorage.setItem("show_pwa_monitor","false"),window.location.reload(),console.log("     PWA")},console.log(" PWA Monitor Commands:"),console.log("  - showPWAMonitor()   "),console.log("  - hidePWAMonitor()   ")},[])}function fp(){const[s,t]=$e(),a=r.useRef(null);return r.useEffect(()=>{if(!s.user)return;const i=async()=>{try{const l=(await W.getUnreadMessageCount()).count;l>0&&console.log(`You have ${l} unread messages`)}catch(n){console.error("Error checking for new messages:",n)}};return i(),a.current=setInterval(i,1e4),()=>{a.current&&clearInterval(a.current)}},[s.user]),{refreshUnreadCount:async()=>{try{return(await W.getUnreadMessageCount()).count}catch(i){return console.error("Error refreshing unread count:",i),0}}}}const bp=new ql,gp=()=>{const[s,t]=$e(),[a,i]=r.useState("home"),[n,l]=r.useState(!1),[o,c]=r.useState(!0),{isPermissionRequested:d}=Et();fp(),r.useEffect(()=>{(async()=>{try{await t.initializeAuth()}catch(u){console.error("Auth initialization error:",u)}finally{c(!1)}})(),window.openDebug=()=>{window.location.href="/debug",console.log("    ")},window.openDiagnostic=()=>{window.location.href="/network-diagnostic",console.log("     ")},console.log("  :"),console.log("  -  openDebug()     "),console.log("  -  openDiagnostic()     ")},[]),r.useEffect(()=>{s.user&&s.user.role==="customer"&&!d()&&l(!0)},[s.user,d]);const p=()=>{t.logout(),i("home")},m=()=>{l(!1)};return o?e.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-golden-500 mx-auto mb-4"},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:115,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:" ..."},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:116,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/App.tsx",lineNumber:114,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:113,columnNumber:7},void 0):s.user?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Zu,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:129,columnNumber:7},void 0),e.jsxDEV(Jr,{open:n,onOpenChange:l,onComplete:m},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:130,columnNumber:7},void 0),e.jsxDEV(cu,{user:s.user,activeTab:a,onTabChange:i,onLogout:p,onShowNotifications:()=>window.location.href="/notifications",onShowMessages:()=>window.location.href="/messages",children:s.user.role==="customer"?e.jsxDEV(Ru,{user:s.user,activeTab:a,onLogout:p},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:144,columnNumber:11},void 0):s.user.role==="barber"?e.jsxDEV(Ju,{user:s.user,activeTab:a,onLogout:p},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:150,columnNumber:11},void 0):s.user.role==="admin"?e.jsxDEV(Xu,{user:s.user,activeTab:a,onLogout:p},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:156,columnNumber:11},void 0):e.jsxDEV("div",{className:"p-4",children:e.jsxDEV("h2",{className:"text-xl font-bold",children:"   "},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:163,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:162,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:135,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/code/client/App.tsx",lineNumber:128,columnNumber:5},void 0):e.jsxDEV(ca,{to:"/auth",replace:!0},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:124,columnNumber:12},void 0)},hp=()=>{const[s]=$e();return s.user?e.jsxDEV(Qu,{user:s.user,onBack:()=>window.history.back()},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:180,columnNumber:5},void 0):e.jsxDEV(ca,{to:"/auth",replace:!0},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:176,columnNumber:12},void 0)},xp=()=>{const[s]=$e();return s.user?e.jsxDEV(pi,{user:s.user,onBack:()=>window.history.back()},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:195,columnNumber:5},void 0):e.jsxDEV(ca,{to:"/auth",replace:!0},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:191,columnNumber:12},void 0)},vp=()=>e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"p-4 border-b",children:e.jsxDEV(S,{variant:"outline",onClick:()=>window.history.back(),className:"mb-4",children:"  "},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:202,columnNumber:7},void 0),e.jsxDEV(sp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:211,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/code/client/App.tsx",lineNumber:201,columnNumber:5},void 0),Dp=()=>{const[s]=$e(),[t,a]=r.useState(!1);return s.user||t?e.jsxDEV(ca,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:222,columnNumber:12},void 0):e.jsxDEV(Kd,{onAuth:()=>a(!0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:225,columnNumber:10},void 0)},Ep=()=>{const{isOnline:s}=Uo();return s?e.jsxDEV(nu,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:235,columnNumber:10},void 0):e.jsxDEV(Oo,{onRetry:()=>window.location.reload()},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:232,columnNumber:12},void 0)},jp=()=>($e(),Np(),r.useEffect(()=>{window.openDebug=()=>{window.location.href="/debug",console.log("    ")},window.openDiagnostic=()=>{window.location.href="/network-diagnostic",console.log("     ")},console.log("  :"),console.log("  -  openDebug()     "),console.log("  -  openDiagnostic()     ")},[]),e.jsxDEV(Gl,{client:bp,children:e.jsxDEV(Tm,{children:e.jsxDEV(Go,{children:[e.jsxDEV(up,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:268,columnNumber:11},void 0),e.jsxDEV(dp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:269,columnNumber:11},void 0),e.jsxDEV(pp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:270,columnNumber:11},void 0),e.jsxDEV(Mc,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:271,columnNumber:11},void 0),e.jsxDEV(dm,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:272,columnNumber:11},void 0),e.jsxDEV(Yo,{children:[e.jsxDEV(ps,{path:"/",element:e.jsxDEV(Ep,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:275,columnNumber:38},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:275,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/auth",element:e.jsxDEV(Dp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:276,columnNumber:42},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:276,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/debug",element:e.jsxDEV(vp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:277,columnNumber:43},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:277,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/diagnostic",element:e.jsxDEV(tp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:278,columnNumber:48},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:278,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/system-diagnostic",element:e.jsxDEV(ap,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:279,columnNumber:55},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:279,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/network-diagnostic",element:e.jsxDEV(rp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:282,columnNumber:24},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:280,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/network-diagnostic-complex",element:e.jsxDEV(ip,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:286,columnNumber:24},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:284,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/network-diagnostic-test",element:e.jsxDEV(np,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:290,columnNumber:24},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:288,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/offline",element:e.jsxDEV(Oo,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:292,columnNumber:45},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:292,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/dashboard",element:e.jsxDEV(gp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:295,columnNumber:47},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:295,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/notifications",element:e.jsxDEV(hp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:296,columnNumber:51},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:296,columnNumber:13},void 0),e.jsxDEV(ps,{path:"/messages",element:e.jsxDEV(xp,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:297,columnNumber:46},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:297,columnNumber:13},void 0),e.jsxDEV(ps,{path:"*",element:e.jsxDEV(ru,{},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:300,columnNumber:38},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:300,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/client/App.tsx",lineNumber:273,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/client/App.tsx",lineNumber:267,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:266,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/code/client/App.tsx",lineNumber:265,columnNumber:5},void 0)),Wo=document.getElementById("root");if(!Wo)throw new Error("Failed to find the root element");const wp=Ko.createRoot(Wo);wp.render(e.jsxDEV(jp,{},void 0,!1,{fileName:"/app/code/client/main.tsx",lineNumber:10,columnNumber:13},void 0));
